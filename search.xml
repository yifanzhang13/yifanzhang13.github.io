<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>COMP0008 Concurrency</title>
    <url>/2020/04/08/COMP0008-Concurrency/</url>
    <content><![CDATA[<h1 id="Java-Concurrency"><a href="#Java-Concurrency" class="headerlink" title="Java Concurrency"></a>Java Concurrency</h1><a id="more"></a>

<h2 id="Lecture-10-Concurrency-Abstraction"><a href="#Lecture-10-Concurrency-Abstraction" class="headerlink" title="Lecture 10: Concurrency Abstraction"></a>Lecture 10: Concurrency Abstraction</h2><h3 id="Terminology"><a href="#Terminology" class="headerlink" title="Terminology"></a>Terminology</h3><ul>
<li>Concurrency Abstraction<ul>
<li>It is based on having a number of <strong>processes</strong> each consisting of a <strong>totally ordered</strong> sequences of <strong>atomic actions</strong></li>
<li>The abstraction itself models the overall system by <strong>interleaving</strong> the execution of <strong>atomic actions</strong> of the processes.</li>
</ul>
</li>
<li>Sequential Program<ul>
<li>Consisting of a <strong>single</strong> process carrying out a totally ordered sequence of atomic actions.</li>
<li>Assuminng a <strong>Fixed</strong> input - the program is deterministic</li>
</ul>
</li>
<li>Concurrent Program<ul>
<li>Consisting of <strong>two or more</strong> processes carryiing out atomic actions</li>
</ul>
</li>
<li>Atomic action<ul>
<li>As the name suggests, is an abstract term for an action that is <strong>not divisible in terms of processing</strong>.</li>
</ul>
</li>
<li>Interleaving</li>
</ul>
]]></content>
      <categories>
        <category>Notes</category>
      </categories>
      <tags>
        <tag>COMP</tag>
      </tags>
  </entry>
  <entry>
    <title>COMP0009 Logic&amp;Database</title>
    <url>/2020/04/08/COMP0009-Logic-Database/</url>
    <content><![CDATA[<a id="more"></a>]]></content>
      <categories>
        <category>Notes</category>
      </categories>
      <tags>
        <tag>COMP</tag>
      </tags>
  </entry>
  <entry>
    <title>COMP0011 Maths&amp;Statistics</title>
    <url>/2020/04/08/COMP0011-Maths-Statistics/</url>
    <content><![CDATA[<a id="more"></a>]]></content>
      <categories>
        <category>Notes</category>
      </categories>
      <tags>
        <tag>COMP</tag>
      </tags>
  </entry>
  <entry>
    <title>COMP0141 Security</title>
    <url>/2020/04/08/COMP0141-Security/</url>
    <content><![CDATA[<a id="more"></a>

]]></content>
      <categories>
        <category>Notes</category>
      </categories>
      <tags>
        <tag>COMP</tag>
      </tags>
  </entry>
  <entry>
    <title>First Blog</title>
    <url>/2019/11/14/First-Blog/</url>
    <content><![CDATA[<p>Hello World!</p>
<p>Personal Blog Test!</p>
<p>Done!</p>
]]></content>
      <categories>
        <category>Hello World!</category>
      </categories>
      <tags>
        <tag>Hello World!</tag>
      </tags>
  </entry>
  <entry>
    <title>Quarantine in Shanghai</title>
    <url>/2020/04/07/Quarantine-in-Shanghai/</url>
    <content><![CDATA[<h1 id="éš”ç¦»è®°å½•"><a href="#éš”ç¦»è®°å½•" class="headerlink" title="éš”ç¦»è®°å½•"></a>éš”ç¦»è®°å½•</h1><a id="more"></a>

<h2 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h2><p><img src="https://raw.githubusercontent.com/yifanzhang13/yifanzhang13.github.io/master/images/QuarantinePics/day1.JPG" alt="day1"></p>
<p>æ—©ä¸Šæ¸©åº¦ï¼š36.9æ‘„æ°åº¦</p>
<p>ä¸‹åˆæ¸©åº¦ï¼š36.1æ‘„æ°åº¦</p>
<h2 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h2><p><img src="https://raw.githubusercontent.com/yifanzhang13/yifanzhang13.github.io/master/images/QuarantinePics/day2.JPG" alt="day2"></p>
<p>æ—©ä¸Šæ¸©åº¦ï¼š36.6æ‘„æ°åº¦</p>
<p>ä¸‹åˆæ¸©åº¦ï¼š36.4æ‘„æ°åº¦</p>
<h2 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3 *"></a>Day 3 *</h2><p><img src="https://raw.githubusercontent.com/yifanzhang13/yifanzhang13.github.io/master/images/QuarantinePics/day3.JPG" alt="day3"></p>
<p>æ—©ä¸Šæ¸©åº¦ï¼š36.0æ‘„æ°åº¦</p>
<p>ä¸‹åˆæ¸©åº¦ï¼š36.5æ‘„æ°åº¦</p>
<h2 id="Day-4"><a href="#Day-4" class="headerlink" title="Day 4"></a>Day 4</h2><p><img src="https://raw.githubusercontent.com/yifanzhang13/yifanzhang13.github.io/master/images/QuarantinePics/day4.JPG" alt="day4"></p>
<p>ä¸Šåˆæ¸©åº¦ï¼š36.0æ‘„æ°åº¦</p>
<p>ä¸‹åˆæ¸©åº¦ï¼š36.5æ‘„æ°åº¦</p>
<h2 id="Day-5"><a href="#Day-5" class="headerlink" title="Day 5 *"></a>Day 5 *</h2><p>ä¸Šåˆæ¸©åº¦ï¼š36.0æ‘„æ°åº¦</p>
<p>ä¸‹åˆæ¸©åº¦ï¼š36.4æ‘„æ°åº¦</p>
]]></content>
  </entry>
  <entry>
    <title>Hexo ERROR Render HTML failed</title>
    <url>/2020/04/01/Hexo-ERROR-Render-HTML-failed/</url>
    <content><![CDATA[<h1 id="ERROR-Render-HTML-failed"><a href="#ERROR-Render-HTML-failed" class="headerlink" title="ERROR-Render-HTML-failed"></a>ERROR-Render-HTML-failed</h1><p>Error reported when I entered <code>hexo g</code> to convert md file into HTML file</p>
<a id="more"></a>

<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded <span class="keyword">in</span> 627 ms</span><br><span class="line">ERROR Render HTML failed: about/index.html</span><br><span class="line">TypeError: Cannot <span class="built_in">read</span> property <span class="string">'replace'</span> of null</span><br><span class="line">    at Hexo.externalLinkFilter (/Users/xiaqiulei/Documents/blog/node_modules/hexo/lib/plugins/filter/after_render/external_link.js:45:15)</span><br><span class="line">    at Hexo.tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Hexo.&lt;anonymous&gt; (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/method.js:15:34)</span><br><span class="line">    at /Users/xiaqiulei/Documents/blog/node_modules/hexo/lib/extend/filter.js:60:50</span><br><span class="line">    at tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Object.gotValue (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/reduce.js:155:18)</span><br><span class="line">    at Object.gotAccum (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/reduce.js:144:25)</span><br><span class="line">    at Object.tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:512:31)</span><br><span class="line">    at Promise._settlePromise (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:569:18)</span><br><span class="line">    at Promise._settlePromiseCtx (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:606:10)</span><br><span class="line">    at _drainQueueStep (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:142:12)</span><br><span class="line">    at _drainQueue (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:131:9)</span><br><span class="line">    at Async._drainQueues (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:147:5)</span><br><span class="line">    at Immediate.Async.drainQueues [as _onImmediate] (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:17:14)</span><br><span class="line">    at processImmediate (internal/timers.js:439:21)</span><br><span class="line">ERROR Cannot <span class="built_in">read</span> property <span class="string">'replace'</span> of null</span><br><span class="line">TypeError: Cannot <span class="built_in">read</span> property <span class="string">'replace'</span> of null</span><br><span class="line">    at Hexo.externalLinkFilter (/Users/xiaqiulei/Documents/blog/node_modules/hexo/lib/plugins/filter/after_render/external_link.js:45:15)</span><br><span class="line">    at Hexo.tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Hexo.&lt;anonymous&gt; (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/method.js:15:34)</span><br><span class="line">    at /Users/xiaqiulei/Documents/blog/node_modules/hexo/lib/extend/filter.js:60:50</span><br><span class="line">    at tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Object.gotValue (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/reduce.js:155:18)</span><br><span class="line">    at Object.gotAccum (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/reduce.js:144:25)</span><br><span class="line">    at Object.tryCatcher (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:512:31)</span><br><span class="line">    at Promise._settlePromise (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:569:18)</span><br><span class="line">    at Promise._settlePromiseCtx (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/promise.js:606:10)</span><br><span class="line">    at _drainQueueStep (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:142:12)</span><br><span class="line">    at _drainQueue (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:131:9)</span><br><span class="line">    at Async._drainQueues (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:147:5)</span><br><span class="line">    at Immediate.Async.drainQueues [as _onImmediate] (/Users/xiaqiulei/Documents/blog/node_modules/bluebird/js/release/async.js:17:14)</span><br><span class="line">    at processImmediate (internal/timers.js:439:21)</span><br><span class="line">INFO  0 files generated <span class="keyword">in</span> 1.6 s</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul>
<li><p>Uninstall the extension of â€˜Relative article recommendationâ€™</p>
</li>
<li><p>Set the <code>enable</code> into false</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># Apply to the whole site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">'</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>ERROR</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT Configuration</title>
    <url>/2020/04/02/NexT-Theme-Decoration/</url>
    <content><![CDATA[<h1 id="NexTä¸»é¢˜é…ç½®-Version-7-8-0"><a href="#NexTä¸»é¢˜é…ç½®-Version-7-8-0" class="headerlink" title="NexTä¸»é¢˜é…ç½®(Version 7.8.0)"></a>NexTä¸»é¢˜é…ç½®(Version 7.8.0)</h1><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><p>æœ¬æ•™ç¨‹é¢å‘Hexo NexTä¸»é¢˜v7.3.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œå…¼å®¹æœ€æ–°v7.8.0ç‰ˆæœ¬ã€‚</p>
<p>è‹¥ä½¿ç”¨v6.x.xæˆ–ä¹‹å‰çš„ç‰ˆæœ¬å¯èƒ½ä¼šå¯¼è‡´ä¸å…¼å®¹ï¼Œæˆ–æ–‡ä»¶ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œæœ¬æ–‡ä¸­ä¹Ÿä¼šæé†’ã€‚</p>
<p>å…¶ä»–Hexoä¸»é¢˜ä¸èƒ½ç›´æ¥å¥—ç”¨ï¼Œå»ºè®®è‡ªè¡Œä¿®æ”¹ä¹‹åå†ä½¿ç”¨ã€‚</p>
<a id="more"></a>

<h3 id="é˜…è¯»é¡»çŸ¥"><a href="#é˜…è¯»é¡»çŸ¥" class="headerlink" title="é˜…è¯»é¡»çŸ¥"></a>é˜…è¯»é¡»çŸ¥</h3><ul>
<li><p>Hexoç›®å½•æ¶æ„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ .deploy          #éƒ¨ç½²æ–‡ä»¶å¤¹</span><br><span class="line">â”œâ”€â”€ public           #htmlæºç ï¼Œhexo gç”Ÿæˆ</span><br><span class="line">â”œâ”€â”€ scaffolds        #æ¨¡æ¿</span><br><span class="line">â”œâ”€â”€ scripts          #æ‰©å±•è„šæœ¬</span><br><span class="line">â”œâ”€â”€ source           #æ–‡ç« æºç </span><br><span class="line">|   â”œâ”€â”€ _drafts      #è‰ç¨¿</span><br><span class="line">|   â””â”€â”€ _posts       #æ–‡ç« </span><br><span class="line">â”œâ”€â”€ themes           #ä¸»é¢˜</span><br><span class="line">|   â”œâ”€â”€ next         #NexTä¸»é¢˜</span><br><span class="line">â”œâ”€â”€ _config.yml      #åšå®¢é…ç½®</span><br><span class="line">â””â”€â”€ package.json     #åº”ç”¨ç¨‹åºæ•°æ®</span><br></pre></td></tr></table></figure>
</li>
<li><p>NexTç›®å½•æ¶æ„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ .github                #githubä¿¡æ¯</span><br><span class="line">â”œâ”€â”€ languages              #å¤šè¯­è¨€</span><br><span class="line">|   â”œâ”€â”€ _en.yml            #é»˜è®¤è¯­è¨€</span><br><span class="line">|   â””â”€â”€ zh-CN.yml          #ç®€ä½“ä¸­æ–‡</span><br><span class="line">|   â””â”€â”€ zh-TW.yml          #ç¹ä½“ä¸­æ–‡</span><br><span class="line">â”œâ”€â”€ layout                 #å¸ƒå±€ï¼Œæ ¹ç›®å½•ä¸‹çš„*.swigæ–‡ä»¶æ˜¯å¯¹ä¸»é¡µï¼Œåˆ†é¡µï¼Œå­˜æ¡£ç­‰çš„æ§åˆ¶</span><br><span class="line">|   â”œâ”€â”€ _custom            #å¯ä»¥è‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œè¦†ç›–åŸæœ‰æ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ head.swig      #æ–‡é¦–æ ·å¼</span><br><span class="line">|   |   â”œâ”€â”€ header.swig    #å¤´éƒ¨æ ·å¼</span><br><span class="line">|   |   â”œâ”€â”€ sidebar.swig   #ä¾§è¾¹æ æ ·å¼</span><br><span class="line">|   â”œâ”€â”€ _macro             #å¯ä»¥è‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œè¦†ç›–åŸæœ‰æ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ post.swig      #æ–‡ç« æ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ reward.swig    #æ‰“èµæ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ sidebar.swig   #ä¾§è¾¹æ æ¨¡æ¿</span><br><span class="line">|   â”œâ”€â”€ _partial           #å±€éƒ¨çš„å¸ƒå±€</span><br><span class="line">|   |   â”œâ”€â”€ head           #å¤´éƒ¨æ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ search         #æœç´¢æ¨¡æ¿</span><br><span class="line">|   |   â”œâ”€â”€ share          #åˆ†äº«æ¨¡æ¿</span><br><span class="line">|   â”œâ”€â”€ _script            #å±€éƒ¨çš„å¸ƒå±€</span><br><span class="line">|   â”œâ”€â”€ _third-party       #ç¬¬ä¸‰æ–¹æ¨¡æ¿</span><br><span class="line">|   â”œâ”€â”€ _layout.swig       #ä¸»é¡µé¢æ¨¡æ¿</span><br><span class="line">|   â”œâ”€â”€ index.swig         #ä¸»é¡µé¢æ¨¡æ¿</span><br><span class="line">|   â”œâ”€â”€ page               #é¡µé¢æ¨¡æ¿</span><br><span class="line">|   â””â”€â”€ tag.swig           #tagæ¨¡æ¿</span><br><span class="line">â”œâ”€â”€ scripts                #scriptæºç </span><br><span class="line">|   â”œâ”€â”€ tags               #tagsçš„scriptæºç </span><br><span class="line">|   â”œâ”€â”€ marge.js           #é¡µé¢æ¨¡æ¿</span><br><span class="line">â”œâ”€â”€ source                 #æºç </span><br><span class="line">|   â”œâ”€â”€ css                #cssæºç </span><br><span class="line">|   |   â”œâ”€â”€ _common        #*.stylåŸºç¡€css</span><br><span class="line">|   |   â”œâ”€â”€ _custom        #*.stylè‡ªå®šä¹‰å±€éƒ¨css</span><br><span class="line">|   |   â””â”€â”€ _mixins        #mixinsçš„css</span><br><span class="line">|   â”œâ”€â”€ fonts              #å­—ä½“</span><br><span class="line">|   â”œâ”€â”€ images             #å›¾ç‰‡</span><br><span class="line">|   â”œâ”€â”€ js                 #javascriptæºä»£ç </span><br><span class="line">|   â””â”€â”€ lib                #å¼•ç”¨åº“</span><br><span class="line">â”œâ”€â”€ _config.yml            #ä¸»é¢˜é…ç½®æ–‡ä»¶</span><br><span class="line">â””â”€â”€ README.md              #è¯´æ˜æ–‡ä»¶</span><br></pre></td></tr></table></figure>
</li>
<li><p>NexTåœ¨v7.3.0ä¹‹åçš„ç‰ˆæœ¬å°†æ‰€æœ‰è‡ªå®šä¹‰customæ–‡ä»¶è½¬ç§»è‡³Hexoç›®å½•<code>source/_data/...</code>ä¸­ã€‚</p>
</li>
<li><p>äº†è§£CSSï¼Œswigå’Œjsè¯­æ³•</p>
</li>
</ul>
<h2 id="ä¸»é¢˜é…ç½®"><a href="#ä¸»é¢˜é…ç½®" class="headerlink" title="ä¸»é¢˜é…ç½®"></a>ä¸»é¢˜é…ç½®</h2><h3 id="Hexo-config-ymlçš„é…ç½®"><a href="#Hexo-config-ymlçš„é…ç½®" class="headerlink" title="Hexo _config.ymlçš„é…ç½®"></a>Hexo _config.ymlçš„é…ç½®</h3><h4 id="Siteè®¾ç½®"><a href="#Siteè®¾ç½®" class="headerlink" title="Siteè®¾ç½®"></a>Siteè®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Siriusq</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">Hello</span> <span class="string">World!</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">UCLCS</span> <span class="string">NB!</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Sirius</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure>

<p><code>title:</code> å¡«å†™æ ‡é¢˜<br><code>subtitle:</code> å¡«å†™å‰¯æ ‡é¢˜<br><code>description:</code> ç®€ä»‹<br><code>keywords:</code> å…³é”®è¯<br><code>author:</code> ä½œè€…ï¼Œæ–‡ç« ä¸­æ˜¾ç¤ºçš„ä½œè€…åç§°<br><code>language:</code> è®¾ç½®è¯­è¨€ï¼Œzh-CNæ˜¯ç®€ä½“ä¸­æ–‡ï¼Œenæ˜¯è‹±è¯­ï¼Œé»˜è®¤æ˜¯å¾·è¯­</p>
<h4 id="URLæ è®¾ç½®"><a href="#URLæ è®¾ç½®" class="headerlink" title="URLæ è®¾ç½®"></a>URLæ è®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://Siriusq.github.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br></pre></td></tr></table></figure>

<p><code>url</code>:å¡«å†™åšå®¢åœ¨Githubçš„äºŒçº§åŸŸåï¼Œå¦‚ <code>https://YourName.github.io</code><br><code>permalink:</code>æ˜¯ç”Ÿæˆåšå®¢é¡µé¢æ—¶çš„è·¯å¾„åï¼Œä¸€èˆ¬æ˜¯:<code>year/:month/:day/:title/</code></p>
<h4 id="ç¿»é¡µè®¾ç½®"><a href="#ç¿»é¡µè®¾ç½®" class="headerlink" title="ç¿»é¡µè®¾ç½®"></a>ç¿»é¡µè®¾ç½®</h4><p>å…±æœ‰ä¸¤å¤„ï¼Œç”¨äºæ§åˆ¶æ¯ä¸€é¡µæ˜¾ç¤ºå¤šå°‘ç¯‡åšæ–‡</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">''</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">12</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">12</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br></pre></td></tr></table></figure>

<p><code>per_page:</code>åè®¾ç½®åšæ–‡æ•°é‡ï¼Œ0ä»£è¡¨ä¸ç¿»é¡µå…¨éƒ¨å¹³é“ºæ˜¾ç¤º</p>
<h4 id="Deploymentè®¾ç½®"><a href="#Deploymentè®¾ç½®" class="headerlink" title="Deploymentè®¾ç½®"></a>Deploymentè®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:username/username.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<p><code>branch:</code>åˆ†æ”¯å¡«å†™master</p>
<p><code>repo:</code>åæŠŠ<code>username</code>æ¢æˆè‡ªå·±çš„ç”¨æˆ·å</p>
<h3 id="NexT-config-ymlé…ç½®"><a href="#NexT-config-ymlé…ç½®" class="headerlink" title="NexT _config.ymlé…ç½®"></a>NexT _config.ymlé…ç½®</h3><h4 id="é¡µè„šè®¾ç½®"><a href="#é¡µè„šè®¾ç½®" class="headerlink" title="é¡µè„šè®¾ç½®"></a>é¡µè„šè®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Specify the date when the site was setup. If not defined, current year will be used.</span></span><br><span class="line">  <span class="attr">since:</span> <span class="number">2019</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line">  <span class="attr">icon:</span></span><br><span class="line">    <span class="comment"># Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons/</span></span><br><span class="line">    <span class="comment"># `heart` is recommended with animation in red (#ff0000).</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">heart</span></span><br><span class="line">    <span class="comment"># If you want to animate the icon, set it to true.</span></span><br><span class="line">    <span class="attr">animated:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Change the color of icon, using Hex Code.</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">"#f08080"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If not defined, `author` from Hexo main config will be used.</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="string">Siriusq</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">powered:</span></span><br><span class="line">    <span class="comment"># Hexo link (Powered by Hexo).</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class="line">    <span class="attr">version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="comment"># Theme &amp; scheme info link (Theme - NexT.scheme).</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Version info of NexT after scheme info (vX.X.X).</span></span><br><span class="line">    <span class="attr">version:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><code>since:</code> è¡¨ç¤ºç½‘ç«™æˆç«‹çš„å¹´ä»½ï¼Œä¸è®¾ç½®çš„è¯é»˜è®¤æ˜¯å½“å‰å¹´ä»½ï¼Œæ˜¾ç¤ºä¸º<code>Â© 2019</code><br><code>icon:</code> ä¸­è®¾ç½®å¹´ä»½åé¢çš„å›¾æ ‡ï¼Œé»˜è®¤æ˜¯å¿ƒå½¢ï¼Œæƒ³ä¿®æ”¹çš„è¯å»<a href="https://fontawesome.com/">Fontawesome</a>é€‰æ‹©å›¾æ ‡ï¼Œç„¶åå†<code>name</code>æ ä¿®æ”¹<br><code>animated:</code> ç”¨äºè®¾ç½®å¿ƒå½¢æ˜¯å¦è·³åŠ¨<br><code>color:</code> ç”¨äºè®¾ç½®å›¾æ ‡é¢œè‰²ï¼Œç™¾åº¦å¯¹ç…§è‰²è¡¨æŸ¥å°±å¥½<br><code>copyright:</code> æ˜¾ç¤ºå›¾æ ‡åé¢çš„ç‰ˆæƒæ‰€å±ï¼Œä¹Ÿå°±æ˜¯ä½œè€…åï¼Œä¸è®¾ç½®çš„è¯é»˜è®¤æ˜¾ç¤ºæ ¹ç›®å½•é…ç½®æ–‡ä»¶ä¸­çš„ä½œè€…å<br><code>powered:</code> åé¢çš„æ ç›®ç”¨äºè®¾å®šæ˜¯å¦æ˜¾ç¤º<code>Powered by Hexo</code>ä»¥åŠå½“å‰ä¸»é¢˜çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ˜¾ç¤ºçš„è¯è®¾ä¸º<code>true</code><br><code>theme:</code> åé¢çš„æ ç›®ç”¨äºè®¾å®šæ˜¯å¦æ˜¾ç¤ºå½“å‰ä¸»é¢˜çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ˜¾ç¤ºçš„è¯å°†è®¾ä¸º<code>true</code></p>
<h4 id="ç‰ˆæƒä¿¡æ¯"><a href="#ç‰ˆæƒä¿¡æ¯" class="headerlink" title="ç‰ˆæƒä¿¡æ¯"></a>ç‰ˆæƒä¿¡æ¯</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">en</span></span><br></pre></td></tr></table></figure>

<p><code>license:</code>ç”¨äºè®¾ç½®ç‰ˆæƒæ ‡å‡†ï¼Œå…·ä½“å¯ä»¥å»<a href="https://creativecommons.org/share-your-work/licensing-types-examples">Creative Commons</a>æŸ¥çœ‹<br><code>sidebar:</code>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨ä¾§è¾¹æ æ˜¾ç¤ºç‰ˆæƒæ ‡å‡†<br><code>post:</code>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨æ–‡ç« åº•éƒ¨æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯<br><code>language:</code>ç”¨äºè®¾ç½®è¯­è¨€</p>
<h4 id="Githubè§’æ ‡"><a href="#Githubè§’æ ‡" class="headerlink" title="Githubè§’æ ‡"></a>Githubè§’æ ‡</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">permalink:</span> <span class="string">https://github.com/Siriusq</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Follow</span> <span class="string">me</span> <span class="string">on</span> <span class="string">GitHub</span></span><br></pre></td></tr></table></figure>

<p><code>enable:</code>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨é¡µé¢å³ä¸Šè§’æ˜¾ç¤ºGithubä¸‰è§’æ ‡<br><code>permalink:</code>åé¢å¡«å†™ä½ çš„Githubåœ°å€<br><code>title:</code>ç”¨äºè®¾ç½®é¼ æ ‡ç§»åŠ¨åˆ°å›¾æ ‡åæ˜¾ç¤ºçš„æ–‡å­—</p>
<h4 id="ä¾§è¾¹æ èœå•è®¾ç½®"><a href="#ä¾§è¾¹æ èœå•è®¾ç½®" class="headerlink" title="ä¾§è¾¹æ èœå•è®¾ç½®"></a>ä¾§è¾¹æ èœå•è®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="attr">switch_lang:</span> <span class="string">/en</span> <span class="string">||</span> <span class="string">language</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>

<p><code>||</code>å‰è¡¨ç¤ºé¡µé¢çš„åœ°å€ï¼Œåé¢è¡¨ç¤ºæ˜¾ç¤ºçš„å›¾æ ‡åç§°<br><code>about:</code>ç”¨äºè®¾ç½®<code>å…³äº</code>é¡µé¢ï¼Œæ²¡æœ‰çš„è¯åœ¨Git bashä¸­ä½¿ç”¨<code>hexo new page &quot;about&quot;</code>åˆ›å»ºï¼Œç„¶åæ‰“å¼€<code>\source\about\index.md</code>å°±å¯ä»¥ç¼–å†™äº†<br><code>tags:</code>ç”¨äºè®¾ç½®<code>æ ‡ç­¾</code>åŠŸèƒ½ï¼ŒåŒæ ·ä½¿ç”¨å‘½ä»¤<code>hexo new page &quot;tags&quot;</code>åˆ›å»ºï¼Œç„¶åæ‰“å¼€<code>source\tags\index.md</code>å¹¶åœ¨æ—¥æœŸåé¢æ·»åŠ ä¸€è¡Œ<code>type: &quot;tags&quot;</code>ï¼Œå†™åšæ–‡æ—¶åœ¨é¡¶éƒ¨åŠ ä¸Šä¸€æ <code>tags: []</code>å³å¯è®¾ç½®æ ‡ç­¾ï¼Œå¤šä¸ªæ ‡ç­¾ä¸­é—´ä½¿ç”¨<code>,</code>åˆ†éš”<br><code>archieves:</code>ç”¨äºè®¾ç½®å½’æ¡£é¡µé¢<br><code>categories:</code>ç”¨äºè®¾ç½®ç›®å½•é¡µé¢ï¼Œç¼–è¾‘åšæ–‡æ—¶åœ¨é¡¶éƒ¨åŠ ä¸Šä¸€æ <code>categories:</code>å°±å¯ä»¥ä¸ºåšæ–‡è®¾ç½®æ‰€å±ç›®å½•</p>
<h4 id="ä¸»é¢˜é€‰æ‹©"><a href="#ä¸»é¢˜é€‰æ‹©" class="headerlink" title="ä¸»é¢˜é€‰æ‹©"></a>ä¸»é¢˜é€‰æ‹©</h4><p>Nextæœ‰å››ä¸ªä¸»é¢˜å¯ä¾›é€‰æ‹©</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure>

<p>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜uncommentå³å¯</p>
<h4 id="ç¤¾äº¤ç½‘ç«™é“¾æ¥è®¾ç½®"><a href="#ç¤¾äº¤ç½‘ç«™é“¾æ¥è®¾ç½®" class="headerlink" title="ç¤¾äº¤ç½‘ç«™é“¾æ¥è®¾ç½®"></a>ç¤¾äº¤ç½‘ç«™é“¾æ¥è®¾ç½®</h4><p><strong><em>NexT v7.8.0 email social link bugï¼Œæš‚æ—¶æ²¡æœ‰å¾—åˆ°å®˜æ–¹çš„ä¿®å¤</em></strong></p>
<p><strong><em>æ‰€è®¾ç½®çš„</em></strong>  <u>mailto:<a href="mailto:siriuskevin@foxmail.com">siriuskevin@foxmail.com</a></u> <strong><em>åœ¨è½¬æ¢ä¸ºmdè½¬htmlä¹‹åä¼šåœ¨frontå¤šå‡ºä¸€ä¸ª</em></strong><code>/</code></p>
<p><strong><em>è¯¥bugå¯ä»¥é€šè¿‡ä¿®æ”¹æºç è§£å†³ï¼Œæ›´å¤šå¯ä»¥æŸ¥çœ‹</em></strong><a href="https://github.com/theme-next/hexo-theme-next/issues/1295">#1295</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Social Links</span></span><br><span class="line"><span class="comment"># Usage: `Key: permalink || icon`</span></span><br><span class="line"><span class="comment"># Key is the link label showing to end users.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target permalink.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/Siriusq</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:siriuskevin@foxmail.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure>

<p>åœ¨<code>||</code>å‰è¾“å…¥ä½ ç¤¾äº¤ä¸»é¡µçš„é“¾æ¥å³å¯ï¼Œåé¢ç”¨äºè®¾ç½®å›¾æ ‡<br><code>E-mail:</code>æ æ ¼å¼ä¸º<code>mailto:é‚®ç®±åœ°å€</code>ï¼Œåœ¨win10ç³»ç»Ÿå¯ä»¥è°ƒç”¨ç³»ç»Ÿé‚®ä»¶æœåŠ¡è‡ªåŠ¨å¡«å†™æ”¶ä»¶äºº</p>
<h4 id="å¤´åƒè®¾ç½®"><a href="#å¤´åƒè®¾ç½®" class="headerlink" title="å¤´åƒè®¾ç½®"></a>å¤´åƒè®¾ç½®</h4><p>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨ä¾§è¾¹æ æ˜¾ç¤ºå¤´åƒ</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.gif</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>åœ¨<code>url:</code>åå¡«å†™å¤´åƒå›¾ç‰‡çš„è·¯å¾„ï¼Œé»˜è®¤åœ¨<code>\themes\next\source\images</code>ä¸­<br><code>rounded:</code>ç”¨äºè®¾ç½®æ˜¯å¦æ˜¾ç¤ºåœ†å½¢å¤´åƒ<br><code>opacity:</code>ç”¨äºè®¾ç½®å¤´åƒé€æ˜åº¦ï¼Œ1ä¸ºä¸é€æ˜<br><code>rotated:</code>ç”¨äºè®¾ç½®å¤´åƒé¼ æ ‡ç§»åŠ¨åˆ°å¤´åƒä¸Šæ—¶å¤´åƒæ˜¯å¦æ—‹è½¬</p>
<h4 id="ä¾§è¾¹æ ç›®å½•è®¾ç½®"><a href="#ä¾§è¾¹æ ç›®å½•è®¾ç½®" class="headerlink" title="ä¾§è¾¹æ ç›®å½•è®¾ç½®"></a>ä¾§è¾¹æ ç›®å½•è®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Table Of Contents in the Sidebar</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, all words will placed on next lines if header width longer then sidebar width.</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If true, all level of TOC in a post will be displayed, rather than the activated part of it.</span></span><br><span class="line">  <span class="attr">expand_all:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Maximum heading depth of generated toc. You can set it in one post through `toc_max_depth` in Front Matter.</span></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><code>enable:</code>ç”¨äºè®¾ç½®æ˜¯å¦å¼€å¯ä¾§è¾¹æ ç›®å½•<br><code>number:</code>ç”¨äºè®¾ç½®è‡ªåŠ¨ç¼–å·<br><code>wrap:</code>ç”¨äºè®¾ç½®å½“æ ‡é¢˜é•¿åº¦è¶…è¿‡ä¾§è¾¹æ é•¿åº¦æ—¶æ˜¯å¦è‡ªåŠ¨æ¢è¡Œ<br><code>expand_all:</code>ç”¨äºè®¾ç½®æ˜¯å¦å±•å¼€å…¨éƒ¨ç›®å½•ï¼Œå¦çš„è¯ä¼šè‡ªåŠ¨å±•å¼€æ­£åœ¨çœ‹çš„é‚£éƒ¨åˆ†<br><code>max_depth:</code>ç”¨äºè®¾ç½®è‡ªåŠ¨ç”Ÿæˆç›®å½•çš„æœ€å¤§æ·±åº¦ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆåˆ°å‡ çº§æ ‡é¢˜</p>
<h4 id="ä¾§è¾¹æ æ˜¾ç¤ºè®¾ç½®"><a href="#ä¾§è¾¹æ æ˜¾ç¤ºè®¾ç½®" class="headerlink" title="ä¾§è¾¹æ æ˜¾ç¤ºè®¾ç½®"></a>ä¾§è¾¹æ æ˜¾ç¤ºè®¾ç½®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available values: left | right (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="comment">#position: left</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width. If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="attr">width:</span> <span class="number">320</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available values (only for Muse | Mist):</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically.</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  <span class="comment">#  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="attr">offset:</span> <span class="number">12</span></span><br><span class="line">  <span class="comment"># Enable sidebar on narrow view (only for Muse | Mist).</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Click any blank part of the page to close sidebar (only for Muse | Mist).</span></span><br><span class="line">  <span class="attr">dimmer:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><code>position:</code>ç”¨äºè®¾ç½®ä¾§è¾¹æ åœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼ŒæŠŠè¦é€‰æ‹©çš„ä½ç½®å‰é¢çš„<code>#</code>å»æ‰å†æŠŠå¦ä¸€ä¸ªå‰é¢åŠ ä¸Š<code>#</code>å³å¯ï¼Œè¿™ä¸ªé€‰é¡¹åªå¯¹<code>Pisces</code>å’Œ<code>Gemini</code>ä¸¤ä¸ªä¸»é¢˜èµ·ä½œç”¨<br><code>width:</code>ç”¨äºè®¾ç½®ä¾§è¾¹æ çš„å®½åº¦ï¼Œé»˜è®¤<code>Muse</code>å’Œ<code>Mist</code>æ˜¯320,<code>Pisces</code>å’Œ<code>Gemini</code>æ˜¯240<br><code>display:</code>ç”¨äºè®¾ç½®ä¾§è¾¹æ çš„æ˜¾ç¤ºæ–¹å¼ï¼Œåªå¯¹<code>Muse</code>å’Œ<code>Mist</code>ä¸¤ä¸ªä¸»é¢˜èµ·ä½œç”¨ï¼Œå¯ä»¥æŒ¨ä¸ªè¯•ä¸€ä¸‹<br><code>offset:</code>ç”¨äºè®¾ç½®ä¾§è¾¹æ è·ç¦»é¡¶éƒ¨ä»‹ç»çš„è·ç¦»ï¼Œåªå¯¹<code>Pisces</code>å’Œ<code>Gemini</code>ä¸¤ä¸ªä¸»é¢˜èµ·ä½œç”¨<br><code>onmobile:</code>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨æ‰‹æœºç­‰å®½åº¦è¾ƒå°çš„è®¾å¤‡ä¸Šæ˜¾ç¤ºä¾§è¾¹æ ï¼Œåªå¯¹<code>Muse</code>å’Œ<code>Mist</code>ä¸¤ä¸ªä¸»é¢˜èµ·ä½œç”¨<br><code>dimmer:</code>ç”¨äºè®¾ç½®ç‚¹å‡»å±å¹•ç©ºç™½å¤„æ˜¯å¦å…³é—­ä¾§è¾¹æ ï¼ŒåŒæ ·åªå¯¹<code>Muse</code>å’Œ<code>Mist</code>ä¸¤ä¸ªä¸»é¢˜èµ·ä½œç”¨</p>
<h4 id="è¿”å›é¡¶éƒ¨æŒ‰é’®"><a href="#è¿”å›é¡¶éƒ¨æŒ‰é’®" class="headerlink" title="è¿”å›é¡¶éƒ¨æŒ‰é’®"></a>è¿”å›é¡¶éƒ¨æŒ‰é’®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><code>enable:</code>ç”¨äºè®¾ç½®æ˜¯å¦å¼€å¯å›åˆ°é¡¶éƒ¨æŒ‰é’®<br><code>sidebar:</code>ç”¨äºè®¾ç½®æ˜¯å¦å°†æŒ‰é’®æ”¾åˆ°ä¾§è¾¹æ ä¸­<br><code>scrollpercent:</code>ç”¨äºè®¾ç½®æ˜¯å¦æ˜¾ç¤ºé˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”</p>
<h4 id="å¼€å¯é˜…è¯»å…¨æ–‡é€‰é¡¹"><a href="#å¼€å¯é˜…è¯»å…¨æ–‡é€‰é¡¹" class="headerlink" title="å¼€å¯é˜…è¯»å…¨æ–‡é€‰é¡¹"></a>å¼€å¯<code>é˜…è¯»å…¨æ–‡</code>é€‰é¡¹</h4><p>ç”¨æœç´¢æ‰¾åˆ°è¿™ä¸€æ®µå¹¶æŠŠ<code>read_more_btn:</code>è®¾ä¸º<code>true</code>å³å¯</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Read more button</span></span><br><span class="line"><span class="comment"># If true, the read more button would be displayed in excerpt section.</span></span><br><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è¿™ä¸€æ®µç”¨äºè®¾ç½®è‡ªåŠ¨ç”Ÿæˆ<code>é˜…è¯»å…¨æ–‡</code>é€‰é¡¹</p>
<p><strong><em>NexTåœ¨7.3ç‰ˆæœ¬ä¹‹åå°±ä¸å†æ”¯æŒauto_excerptï¼Œè¯·æ·»åŠ </em></strong><code>&lt;!-- More --&gt;</code>åˆ°æ–‡ç« ä¸­æ‰‹åŠ¨è®¾ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Automatically Excerpt (Not recommend).</span></span><br><span class="line"><span class="comment"># Use &lt;!-- more --&gt; in the post to control excerpt accurately.</span></span><br><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure>

<p><code>length</code>è¡¨ç¤ºæˆªæ­¢åˆ°çš„å­—ç¬¦é•¿åº¦</p>
<p>è¿™ä¸€æ®µç”¨äºè®¾ç½®è‡ªåŠ¨è·³è½¬åˆ°<code>é˜…è¯»å…¨æ–‡</code>é€‰é¡¹ä¹‹åçš„ä½ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span></span><br><span class="line"><span class="attr">scroll_to_more:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å®Œæˆåï¼Œåœ¨æ–‡ç« å†…åŠ å…¥``å­—æ®µå°±å¯ä»¥åœ¨é¦–é¡µéšå»å‰©ä¸‹çš„æ–‡å­—å¹¶æ˜¾ç¤º<code>é˜…è¯»å…¨æ–‡</code>æŒ‰é’®äº†</p>
<h4 id="ä»£ç å—å¤åˆ¶æŒ‰é’®"><a href="#ä»£ç å—å¤åˆ¶æŒ‰é’®" class="headerlink" title="ä»£ç å—å¤åˆ¶æŒ‰é’®"></a>ä»£ç å—å¤åˆ¶æŒ‰é’®</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Manual define the border radius in codeblock, leave it blank for the default value: 1</span></span><br><span class="line">  <span class="attr">border_radius:</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Style: only 'flat' is currently available, leave it blank if you prefer default theme</span></span><br><span class="line">    <span class="attr">style:</span></span><br></pre></td></tr></table></figure>

<p><code>enableï¼š</code>ç”¨äºå¼€å¯ä»£ç å—å³ä¸Šè§’çš„å¤åˆ¶æŒ‰é’®<br><code>show_result:</code>ç”¨äºè®¾ç½®æ˜¯å¦æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º</p>
<h4 id="æ‰“èµ"><a href="#æ‰“èµ" class="headerlink" title="æ‰“èµ"></a>æ‰“èµ</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># If true, reward would be displayed in every article by default.</span></span><br><span class="line">  <span class="comment"># You can show or hide reward in a specific article throuth `reward: true | false` in Front Matter.</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#comment: Donate comment here</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="comment">#wechatpay: /images/wechatpay.png</span></span><br><span class="line">  <span class="comment">#alipay: /images/alipay.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure>

<p><code>enable:</code>ç”¨äºè®¾ç½®æ˜¯å¦åœ¨æ–‡ç« æœ«å°¾æ˜¾ç¤ºæ‰“èµæŒ‰é’®<br><code>animation:</code>ç”¨äºè®¾ç½®æ‰“ä¸ŠæŒ‰é’®æ˜¯å¦æ˜¾ç¤ºåŠ¨ç”»<br><code>reward:</code>åé¢çš„é€‰é¡¹å»æ‰å‰é¢çš„<code>#</code>å³å¯å¼€å¯å¯¹åº”çš„æ‰“èµï¼Œè®°å¾—æ›¿æ¢æˆè‡ªå·±çš„å›¾ç‰‡ï¼Œè·¯å¾„åœ¨<code>\themes\next\source\images</code></p>
<h4 id="ä»£ç å—é«˜äº®ä¸»é¢˜"><a href="#ä»£ç å—é«˜äº®ä¸»é¢˜" class="headerlink" title="ä»£ç å—é«˜äº®ä¸»é¢˜"></a>ä»£ç å—é«˜äº®ä¸»é¢˜</h4><p>Nextä¸»é¢˜å†…ç½®äº†tomorrowä»£ç é«˜äº®ä¸»é¢˜ï¼Œä¸€å…±æœ‰äº”ä¸ªï¼Œå¯ä»¥å»<a href="https://github.com/chriskempson/tomorrow-theme">Tomorrow</a>æŸ¥çœ‹é¢„è§ˆæ•ˆæœï¼Œåœ¨ä¸‹é¢çš„<code>highlight_theme:</code>ä¸­æ”¹æˆè‡ªå·±æƒ³è¦çš„å³å¯</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">night</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¹¦ç­¾"><a href="#ä¹¦ç­¾" class="headerlink" title="ä¹¦ç­¾"></a>ä¹¦ç­¾</h4><p>åœ¨å·¦ä¸Šè§’æ˜¾ç¤ºä¸€ä¸ªä¹¦ç­¾æŒ‰é’®å¯ä»¥è·³è½¬åˆ°ä¸Šä¸€æ¬¡è®¾ç½®ä¹¦ç­¾çš„ä½ç½®<br>é¦–å…ˆæ‰§è¡Œå‘½ä»¤<code>git clone https://github.com/theme-next/theme-next-bookmark.git source/lib/bookmark</code>å®‰è£…<a href="https://github.com/theme-next/theme-next-bookmark">bookmark</a>æ’ä»¶<br>ç„¶ååœ¨ä¸‹é¢çš„é€‰é¡¹ä¸­å°†<code>enable:</code>è®¾ç½®ä¸º<code>true</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Bookmark Support</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-bookmark</span></span><br><span class="line"><span class="attr">bookmark:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, save the reading position when closing the page or clicking the bookmark-icon.</span></span><br><span class="line">  <span class="comment"># If manual, only save it by clicking the bookmark-icon.</span></span><br><span class="line">  <span class="attr">save:</span> <span class="string">auto</span></span><br></pre></td></tr></table></figure>

<h4 id="é»‘æš—æ¨¡å¼"><a href="#é»‘æš—æ¨¡å¼" class="headerlink" title="é»‘æš—æ¨¡å¼"></a>é»‘æš—æ¨¡å¼</h4><p>åœ¨config.ymlæ–‡ä»¶ä¸­æ‰¾åˆ°darkmodeå…³é”®å­—</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Dark Mode</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ä¸ºtrueå³å¯</p>
<h3 id="ä¸»é¢˜æ·±åº¦ç¾åŒ–"><a href="#ä¸»é¢˜æ·±åº¦ç¾åŒ–" class="headerlink" title="ä¸»é¢˜æ·±åº¦ç¾åŒ–"></a>ä¸»é¢˜æ·±åº¦ç¾åŒ–</h3><p><u>è¿™äº›ç¾åŒ–æ€»ç»“ä¸€ä¸‹å°±æ˜¯</u>ï¼š<strong>å¯ä»¥ä½†æ²¡å¿…è¦</strong></p>
<p>ğŸˆ¶ï¸é—²æƒ…é€¸è‡´ğŸ‰ï¸å¯ä»¥æä¸€ä¸‹ï¼Œ<del>è¿™æ˜¯ä¸€ä¸ªå¤§å‘ä¹‹åæœ‰æ—¶é—´å†æ›´</del></p>
<hr>
<h4 id="é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡"><a href="#é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡" class="headerlink" title="é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡"></a>é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡</h4><p>åœ¨åšæ–‡é¡µé¢é¡¶éƒ¨æ·»åŠ <a href="https://github.com/theme-next/theme-next-reading-progress">Reading Progress</a>è¿›åº¦æ¡ï¼Œè¡¨ç¤ºé˜…è¯»è¿›åº¦ï¼ŒNextä¸»é¢˜å·²å†…ç½®é…ç½®æ–‡ä»¶</p>
<h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><p>åˆ‡æ¢åˆ°Nextä¸»é¢˜æ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ¨¡å—åˆ°<code>source/lib</code>æ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-reading-progress <span class="built_in">source</span>/lib/reading_progress</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h5><p>æ‰“å¼€Nextä¸»é¢˜è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼Œæœç´¢<code>reading_progress</code>å®šä½åˆ°å¦‚ä¸‹ä»£ç å¹¶å°†<code>enable:</code>è®¾ç½®ä¸º<code>true</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reading progress bar</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-reading-progress</span></span><br><span class="line">reading_progress:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  color: <span class="string">"#ffc0cb"</span> <span class="comment"># è°ƒæ•´çº¿æ¡é¢œè‰²</span></span><br><span class="line">  height: 3px <span class="comment"># è°ƒæ•´çº¿æ¡é«˜åº¦</span></span><br></pre></td></tr></table></figure>

<p>çº¿æ¡é¢œè‰²å¯ä»¥åœ¨<a href="http://www.atool9.com/colorpicker.php">ATOOL</a>æŸ¥è¯¢é¢œè‰²ä»£ç ç›´æ¥ä¿®æ”¹</p>
<h5 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a>å‡çº§</h5><p>åˆ‡æ¢åˆ°å®‰è£…ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/<span class="built_in">source</span>/lib/reading_progress</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h4 id="åŠ è½½æ¡"><a href="#åŠ è½½æ¡" class="headerlink" title="åŠ è½½æ¡"></a>åŠ è½½æ¡</h4><p>ç”¨äºåœ¨ç½‘é¡µåŠ è½½çš„è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½è¿›åº¦ï¼ŒNextä¸»é¢˜å·²æ”¯æŒ<a href="https://github.com/theme-next/theme-next-pace">PACE</a>åŠŸèƒ½<br>æœ‰å¤šç§åŠ è½½åŠ¨ç”»å¯é€‰</p>
<ul>
<li>pace-theme-big-counter</li>
<li>pace-theme-bounce</li>
<li>pace-theme-barber-shop</li>
<li>pace-theme-center-atom</li>
<li>pace-theme-center-circle</li>
<li>pace-theme-center-radar</li>
<li>pace-theme-center-simple</li>
<li>pace-theme-corner-indicator</li>
<li>pace-theme-fill-left</li>
<li>pace-theme-flash</li>
<li>pace-theme-loading-bar</li>
<li>pace-theme-mac-osx</li>
<li>pace-theme-minimal</li>
</ul>
<h5 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><p>åˆ‡æ¢åˆ°Nextä¸»é¢˜æ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ¨¡å—åˆ°<code>source/lib</code>æ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-pace <span class="built_in">source</span>/lib/pace</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-1"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-1" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h5><p>æ‰“å¼€Nextä¸»é¢˜è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼Œæœç´¢<code>pace</code>å®šä½åˆ°å¦‚ä¸‹ä»£ç </p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Progress bar in the top during page loading.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-pace</span></span><br><span class="line"><span class="attr">pace:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Themes list:</span></span><br><span class="line"><span class="comment"># pace-theme-big-counter | pace-theme-bounce | pace-theme-barber-shop | pace-theme-center-atom</span></span><br><span class="line"><span class="comment"># pace-theme-center-circle | pace-theme-center-radar | pace-theme-center-simple | pace-theme-corner-indicator</span></span><br><span class="line"><span class="comment"># pace-theme-fill-left | pace-theme-flash | pace-theme-loading-bar | pace-theme-mac-osx | pace-theme-minimal</span></span><br><span class="line"><span class="attr">pace_theme:</span> <span class="string">pace-theme-flash</span></span><br></pre></td></tr></table></figure>

<p>å°†<code>pace:</code>è®¾ç½®ä¸º<code>true</code><br>å°†<code>pace_theme:</code>è®¾ç½®ä¸ºä¸Šé¢<code>Themes list:</code>ä¸­çš„ä¸€ç§ï¼Œä¸»é¢˜æ ·å¼å¯ä»¥åœ¨<a href="https://github.hubspot.com/pace/docs/welcome/">PACE</a>æŸ¥çœ‹</p>
<h5 id="è°ƒæ•´é¢œè‰²"><a href="#è°ƒæ•´é¢œè‰²" class="headerlink" title="è°ƒæ•´é¢œè‰²"></a>è°ƒæ•´é¢œè‰²</h5><p>ä¸ºäº†è®©è¿›åº¦æ¡å’Œä¸»é¢˜èƒŒæ™¯ç›¸åŒ¹é…ï¼Œå¯ä»¥åœ¨<code>./themes/next/source/lib/pace</code>ä¸­æ‰¾åˆ°ç›¸åº”ä¸»é¢˜çš„cssæ–‡ä»¶å¹¶ä¿®æ”¹é¢œè‰²é…ç½®<br>ä¸‹é¢ä»£ç ä»¥<code>pace-theme-flash.min.css</code>ç¤ºä¾‹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">.pace</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">-webkit-pointer-events:</span> <span class="string">none;</span></span><br><span class="line">  <span class="attr">pointer-events:</span> <span class="string">none;</span></span><br><span class="line">  <span class="string">-webkit-user-select:</span> <span class="string">none;</span></span><br><span class="line">  <span class="string">-moz-user-select:</span> <span class="string">none;</span></span><br><span class="line">  <span class="attr">user-select:</span> <span class="string">none;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">.pace-inactive</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">none;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">.pace</span> <span class="string">.pace-progress</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">background:</span> <span class="comment">#ffc0cb;</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">fixed;</span></span><br><span class="line">  <span class="attr">z-index:</span> <span class="number">2000</span><span class="string">;</span></span><br><span class="line">  <span class="attr">top:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">  <span class="attr">width:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">2px;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">.pace</span> <span class="string">.pace-progress-inner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">block;</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">absolute;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="string">0px;</span></span><br><span class="line">  <span class="attr">width:</span> <span class="string">100px;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">  <span class="attr">box-shadow:</span> <span class="number">0</span> <span class="number">0</span> <span class="string">10px</span> <span class="comment">#ffc0cb, 0 0 5px #ffc0cb;</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1.0</span><span class="string">;</span></span><br><span class="line">  <span class="string">-webkit-transform:</span> <span class="string">rotate(3deg)</span> <span class="string">translate(0px,</span> <span class="string">-4px);</span></span><br><span class="line">  <span class="string">-moz-transform:</span> <span class="string">rotate(3deg)</span> <span class="string">translate(0px,</span> <span class="string">-4px);</span></span><br><span class="line">  <span class="string">-ms-transform:</span> <span class="string">rotate(3deg)</span> <span class="string">translate(0px,</span> <span class="string">-4px);</span></span><br><span class="line">  <span class="string">-o-transform:</span> <span class="string">rotate(3deg)</span> <span class="string">translate(0px,</span> <span class="string">-4px);</span></span><br><span class="line">  <span class="attr">transform:</span> <span class="string">rotate(3deg)</span> <span class="string">translate(0px,</span> <span class="string">-4px);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">.pace</span> <span class="string">.pace-activity</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">block;</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">fixed;</span></span><br><span class="line">  <span class="attr">z-index:</span> <span class="number">2000</span><span class="string">;</span></span><br><span class="line">  <span class="attr">top:</span> <span class="string">15px;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="string">15px;</span></span><br><span class="line">  <span class="attr">width:</span> <span class="string">14px;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">14px;</span></span><br><span class="line">  <span class="attr">border:</span> <span class="string">solid</span> <span class="string">2px</span> <span class="string">transparent;</span></span><br><span class="line">  <span class="attr">border-top-color:</span> <span class="comment">#ffc0cb;</span></span><br><span class="line">  <span class="attr">border-left-color:</span> <span class="comment">#ffc0cb;</span></span><br><span class="line">  <span class="attr">border-radius:</span> <span class="string">10px;</span></span><br><span class="line">  <span class="string">-webkit-animation:</span> <span class="string">pace-spinner</span> <span class="string">400ms</span> <span class="string">linear</span> <span class="string">infinite;</span></span><br><span class="line">  <span class="string">-moz-animation:</span> <span class="string">pace-spinner</span> <span class="string">400ms</span> <span class="string">linear</span> <span class="string">infinite;</span></span><br><span class="line">  <span class="string">-ms-animation:</span> <span class="string">pace-spinner</span> <span class="string">400ms</span> <span class="string">linear</span> <span class="string">infinite;</span></span><br><span class="line">  <span class="string">-o-animation:</span> <span class="string">pace-spinner</span> <span class="string">400ms</span> <span class="string">linear</span> <span class="string">infinite;</span></span><br><span class="line">  <span class="attr">animation:</span> <span class="string">pace-spinner</span> <span class="string">400ms</span> <span class="string">linear</span> <span class="string">infinite;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@-webkit-keyframes</span> <span class="string">pace-spinner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-webkit-transform:</span> <span class="string">rotate(0deg);</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-webkit-transform:</span> <span class="string">rotate(360deg);</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">@-moz-keyframes</span> <span class="string">pace-spinner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-moz-transform:</span> <span class="string">rotate(0deg);</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-moz-transform:</span> <span class="string">rotate(360deg);</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">@-o-keyframes</span> <span class="string">pace-spinner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-o-transform:</span> <span class="string">rotate(0deg);</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-o-transform:</span> <span class="string">rotate(360deg);</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">@-ms-keyframes</span> <span class="string">pace-spinner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-ms-transform:</span> <span class="string">rotate(0deg);</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span> <span class="string">-ms-transform:</span> <span class="string">rotate(360deg);</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">@keyframes</span> <span class="string">pace-spinner</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="attr">transform:</span> <span class="string">rotate(0deg);</span> <span class="string">&#125;</span></span><br><span class="line">  <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="attr">transform:</span> <span class="string">rotate(360deg);</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æœç´¢åŠŸèƒ½æœç´¢<code>#</code>,å®šä½åˆ°é¢œè‰²è®¾ç½®ï¼Œä¸Šè¿°ä»£ç ä¸­ä¸€å…±æœ‰5å¤„ï¼Œé¢œè‰²æ›¿æ¢æ–¹æ³•å¦‚ä¸‹</p>
<ul>
<li>åœ¨<a href="http://www.atool9.com/colorpicker.php">ATOOL</a>æŸ¥è¯¢é¢œè‰²ä»£ç ç›´æ¥ä¿®æ”¹</li>
<li>ä½¿ç”¨<code>Visual Studio Code</code>å®‰è£…cssæ’ä»¶ç›´æ¥ç‚¹å‡»<code>#</code>ä¿®æ”¹é¢œè‰²</li>
<li>å‰å¾€<a href="https://github.hubspot.com/pace/docs/welcome/">PACE</a>é€‰æ‹©é¢œè‰²å¹¶å¤åˆ¶ä»£ç ç›´æ¥æ›¿æ¢åŸæ–‡ä»¶ä¸­çš„ä»£ç </li>
</ul>
<p>é»˜è®¤é¢œè‰²éƒ½æ˜¯è“è‰²ï¼Œä¸Šè¿°ä»£ç ä¿®æ”¹å®Œåæ˜¯ç²‰è‰²</p>
<h5 id="å‡çº§-1"><a href="#å‡çº§-1" class="headerlink" title="å‡çº§"></a>å‡çº§</h5><p>åˆ‡æ¢åˆ°å®‰è£…ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/<span class="built_in">source</span>/lib/pace</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>



<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://choubin.site/2019/12/30/CustomBlogTheme/">hexo ä¸ªäººåšå®¢åŸºäº NexT ä¸»é¢˜çš„åŸºæœ¬é…ç½®å’Œå®šåˆ¶ä¼˜åŒ–</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>configuration</tag>
      </tags>
  </entry>
  <entry>
    <title>Java Concurrency</title>
    <url>/2020/04/09/Java-Concurrency/</url>
    <content><![CDATA[<h1 id="Java-Concurrency"><a href="#Java-Concurrency" class="headerlink" title="Java Concurrency"></a>Java Concurrency</h1><a id="more"></a>

<h1 id="ä¸€ã€ä½¿ç”¨çº¿ç¨‹"><a href="#ä¸€ã€ä½¿ç”¨çº¿ç¨‹" class="headerlink" title="ä¸€ã€ä½¿ç”¨çº¿ç¨‹"></a>ä¸€ã€ä½¿ç”¨çº¿ç¨‹</h1><p>æœ‰<u><strong>ä¸‰ç§</strong></u>ä½¿ç”¨çº¿ç¨‹çš„æ–¹æ³•ï¼š</p>
<ul>
<li>å®ç° Runnable æ¥å£ï¼›</li>
<li>å®ç° Callable æ¥å£ï¼›</li>
<li>ç»§æ‰¿ Thread ç±»ã€‚</li>
</ul>
<p><u>å®ç° Runnable å’Œ Callable æ¥å£çš„ç±»åªèƒ½å½“åšä¸€ä¸ªå¯ä»¥åœ¨çº¿ç¨‹ä¸­è¿è¡Œçš„ä»»åŠ¡ï¼Œä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„çº¿ç¨‹ï¼Œå› æ­¤æœ€åè¿˜éœ€è¦é€šè¿‡ Thread æ¥è°ƒç”¨ã€‚</u>å¯ä»¥ç†è§£ä¸ºä»»åŠ¡æ˜¯é€šè¿‡çº¿ç¨‹é©±åŠ¨ä»è€Œæ‰§è¡Œçš„ã€‚</p>
<h2 id="å®ç°-Runnable-æ¥å£"><a href="#å®ç°-Runnable-æ¥å£" class="headerlink" title="å®ç° Runnable æ¥å£"></a>å®ç° Runnable æ¥å£</h2><p>éœ€è¦å®ç°æ¥å£ä¸­çš„ run() æ–¹æ³•ã€‚<strong>ä»»åŠ¡å†™åœ¨run()æ–¹æ³•ä¸­ï¼Œç„¶åç”¨Thread è°ƒç”¨</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><u><strong>ä½¿ç”¨ Runnable å®ä¾‹å†åˆ›å»ºä¸€ä¸ª Thread å®ä¾‹ï¼Œç„¶åè°ƒç”¨ Thread å®ä¾‹çš„ start() æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ã€‚</strong></u></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    MyRunnable instance = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(instance);</span><br><span class="line">    thread.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="å®ç°-Callable-æ¥å£"><a href="#å®ç°-Callable-æ¥å£" class="headerlink" title="å®ç° Callable æ¥å£"></a>å®ç° Callable æ¥å£</h2><p><u><strong>ä¸ Runnable ç›¸æ¯”ï¼ŒCallable å¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼é€šè¿‡ FutureTask è¿›è¡Œå°è£…ã€‚</strong></u></p>
<p><strong>å®ç°Runnableéœ€è¦å®ç°æ¥å£ä¸­çš„voidè¿”å›å€¼çš„run( )æ–¹æ³•ï¼ŒCallableåˆ™å®ç°<E>å½“åˆå®šä¹‰è¿”å›å€¼çš„call( )æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">    MyCallable mc = <span class="keyword">new</span> MyCallable();</span><br><span class="line">    FutureTask&lt;Integer&gt; ft = <span class="keyword">new</span> FutureTask&lt;&gt;(mc);</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(ft);</span><br><span class="line">    thread.start();</span><br><span class="line">    System.out.println(ft.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ç»§æ‰¿-Thread-ç±»"><a href="#ç»§æ‰¿-Thread-ç±»" class="headerlink" title="ç»§æ‰¿ Thread ç±»"></a>ç»§æ‰¿ Thread ç±»</h2><p><strong><u>åŒæ ·ä¹Ÿæ˜¯éœ€è¦å®ç° run() æ–¹æ³•ï¼Œå› ä¸º Thread ç±»ä¹Ÿå®ç°äº† Runable æ¥å£ã€‚</u></strong></p>
<p><strong>å½“è°ƒç”¨ start() æ–¹æ³•å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œè™šæ‹Ÿæœºä¼šå°†è¯¥çº¿ç¨‹æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ä¸­ç­‰å¾…è¢«è°ƒåº¦ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¢«è°ƒåº¦æ—¶ä¼šæ‰§è¡Œè¯¥çº¿ç¨‹çš„ run() æ–¹æ³•</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    MyThread mt = <span class="keyword">new</span> MyThread();</span><br><span class="line">    mt.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="å®ç°æ¥å£-VS-ç»§æ‰¿-Thread"><a href="#å®ç°æ¥å£-VS-ç»§æ‰¿-Thread" class="headerlink" title="å®ç°æ¥å£ VS ç»§æ‰¿ Thread"></a>å®ç°æ¥å£ VS ç»§æ‰¿ Thread</h2><p>å®ç°æ¥å£ä¼šæ›´å¥½ä¸€äº›ï¼Œå› ä¸ºï¼š</p>
<ul>
<li><strong>Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ç»§æ‰¿äº† Thread ç±»å°±æ— æ³•ç»§æ‰¿å…¶å®ƒç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£</strong>ï¼›</li>
<li>ç±»å¯èƒ½åªè¦æ±‚å¯æ‰§è¡Œå°±è¡Œï¼Œ<strong>ç»§æ‰¿æ•´ä¸ª Thread ç±»å¼€é”€è¿‡å¤§</strong>ã€‚</li>
</ul>
<h1 id="äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶"><a href="#äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶" class="headerlink" title="äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶"></a>äºŒã€åŸºç¡€çº¿ç¨‹æœºåˆ¶</h1><h2 id="Executor"><a href="#Executor" class="headerlink" title="Executor"></a>Executor</h2><p>Executor ç®¡ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œï¼Œè€Œæ— éœ€ç¨‹åºå‘˜æ˜¾å¼åœ°ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™é‡Œçš„å¼‚æ­¥æ˜¯æŒ‡å¤šä¸ªä»»åŠ¡çš„æ‰§è¡Œäº’ä¸å¹²æ‰°ï¼Œä¸éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œã€‚</p>
<p>ä¸»è¦æœ‰ä¸‰ç§ Executorï¼š</p>
<ul>
<li>CachedThreadPoolï¼šä¸€ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼›</li>
<li>FixedThreadPoolï¼šæ‰€æœ‰ä»»åŠ¡åªèƒ½ä½¿ç”¨å›ºå®šå¤§å°çš„çº¿ç¨‹ï¼›</li>
<li>SingleThreadExecutorï¼šç›¸å½“äºå¤§å°ä¸º 1 çš„ FixedThreadPoolã€‚</li>
</ul>
<p>å…ˆå®ç°Runnableåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå®šä¹‰run( )æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"æ­£åœ¨æ‰§è¡Œã€‚ã€‚ã€‚"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºCachedThreadPoolï¼Œå¹¶åœ¨forå¾ªç¯ä¸­æ‰§è¡ŒMyRunnableä¸­çš„run( )æ–¹æ³•5æ¬¡ï¼Œæœ€åå…³é—­CachedThreadPool</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        executorService.execute(<span class="keyword">new</span> MyRunnable());</span><br><span class="line">    &#125;</span><br><span class="line">    executorService.shutdown();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Daemon"><a href="#Daemon" class="headerlink" title="Daemon"></a>Daemon</h2><p><strong><u>å®ˆæŠ¤çº¿ç¨‹æ˜¯ç¨‹åºè¿è¡Œæ—¶åœ¨åå°æä¾›æœåŠ¡çš„çº¿ç¨‹</u></strong>ï¼Œä¸å±äºç¨‹åºä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚</p>
<p><strong><u>å½“æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œç¨‹åºä¹Ÿå°±ç»ˆæ­¢ï¼ŒåŒæ—¶ä¼šæ€æ­»æ‰€æœ‰å®ˆæŠ¤çº¿ç¨‹</u></strong>ã€‚</p>
<p><strong><em>main() å±äºéå®ˆæŠ¤çº¿ç¨‹</em></strong>ã€‚</p>
<p><strong><u>åœ¨çº¿ç¨‹å¯åŠ¨ä¹‹å‰ä½¿ç”¨ setDaemon() æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªçº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚</u></strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyRunnable());</span><br><span class="line">    thread.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="sleep"><a href="#sleep" class="headerlink" title="sleep()"></a>sleep()</h2><p>Thread.sleep(millisec) æ–¹æ³•ä¼š<u><strong>ä¼‘çœ å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹</strong></u>ï¼Œmillisec å•ä½ä¸ºæ¯«ç§’ã€‚</p>
<p>sleep() å¯èƒ½ä¼šæŠ›å‡º <strong>InterruptedException</strong>ï¼Œ<strong><u>å› ä¸ºå¼‚å¸¸ä¸èƒ½è·¨çº¿ç¨‹ä¼ æ’­å› main() ä¸­ï¼Œå› æ­¤å¿…é¡»åœ¨æœ¬åœ°è¿›è¡Œå¤„ç†ã€‚çº¿ç¨‹ä¸­æŠ›å‡ºçš„å…¶å®ƒå¼‚å¸¸ä¹ŸåŒæ ·éœ€è¦åœ¨æœ¬åœ°è¿›è¡Œå¤„ç†</u></strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="yield"><a href="#yield" class="headerlink" title="yield()"></a>yield()</h2><p>å¯¹é™æ€æ–¹æ³• Thread.yield() çš„è°ƒç”¨å£°æ˜äº†<strong><em>å½“å‰çº¿ç¨‹å·²ç»å®Œæˆäº†ç”Ÿå‘½å‘¨æœŸä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå¯ä»¥åˆ‡æ¢ç»™å…¶å®ƒçº¿ç¨‹æ¥æ‰§è¡Œ</em></strong>ã€‚<strong><u>è¯¥æ–¹æ³•åªæ˜¯å¯¹çº¿ç¨‹è°ƒåº¦å™¨çš„ä¸€ä¸ªå»ºè®®ï¼Œè€Œä¸”ä¹Ÿåªæ˜¯å»ºè®®å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„å…¶å®ƒçº¿ç¨‹å¯ä»¥è¿è¡Œ</u></strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Thread.yield();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="ä¸‰ã€ä¸­æ–­"><a href="#ä¸‰ã€ä¸­æ–­" class="headerlink" title="ä¸‰ã€ä¸­æ–­"></a>ä¸‰ã€ä¸­æ–­</h1><p><strong><u>ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åä¼šè‡ªåŠ¨ç»“æŸï¼Œå¦‚æœåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¼šæå‰ç»“æŸã€‚</u></strong></p>
<h2 id="InterruptedException"><a href="#InterruptedException" class="headerlink" title="InterruptedException"></a>InterruptedException</h2><p>é€šè¿‡è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„ <strong>interrupt()</strong> æ¥ä¸­æ–­è¯¥çº¿ç¨‹ï¼Œ<strong><u>å¦‚æœè¯¥çº¿ç¨‹å¤„äºé˜»å¡(BLOCKED)ã€é™æœŸç­‰å¾…(TIMED_WAITING)æˆ–è€…æ— é™æœŸç­‰å¾…(WAITINNG)çŠ¶æ€ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º InterruptedExceptionï¼Œä»è€Œæå‰ç»“æŸè¯¥çº¿ç¨‹</u></strong>ã€‚<strong>ä½†æ˜¯ä¸èƒ½ä¸­æ–­ I/O é˜»å¡å’Œ synchronized é”é˜»å¡ã€‚</strong></p>
<p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œåœ¨ main() ä¸­å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ä¹‹åå†ä¸­æ–­å®ƒï¼Œç”±äºçº¿ç¨‹ä¸­è°ƒç”¨äº† Thread.sleep() æ–¹æ³•ï¼ŒThreadä¼šè¿›å…¥TIMED_WAITINGçŠ¶æ€ï¼Œå› æ­¤ä¼šæŠ›å‡ºä¸€ä¸ª InterruptedExceptionï¼Œä»è€Œæå‰ç»“æŸçº¿ç¨‹ï¼Œä¸æ‰§è¡Œä¹‹åçš„è¯­å¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterruptExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread1</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);<span class="comment">//çº¿ç¨‹è¿›å…¥TIMED_WAITINGçŠ¶æ€</span></span><br><span class="line">                System.out.println(<span class="string">"Thread run"</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread thread1 = <span class="keyword">new</span> MyThread1();</span><br><span class="line">    thread1.start();</span><br><span class="line">    thread1.interrupt();<span class="comment">//å› ä¸ºçº¿ç¨‹æ˜¯TIMED_WAITINGçŠ¶æ€ï¼Œè°ƒç”¨Interrup()ä¼šæŠ›å‡ºå¼‚å¸¸ä»è€Œç»“æŸè¯¥çº¿ç¨‹</span></span><br><span class="line">    System.out.println(<span class="string">"Main run"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Main run</span><br><span class="line">java.lang.InterruptedException: sleep interrupted</span><br><span class="line">    at java.lang.Thread.sleep(Native Method)</span><br><span class="line">    at InterruptExample.lambda$main$<span class="number">0</span>(InterruptExample.java:<span class="number">5</span>)</span><br><span class="line">    at InterruptExample$$Lambda$<span class="number">1</span>/<span class="number">713338599</span>.run(Unknown Source)</span><br><span class="line">    at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br></pre></td></tr></table></figure>



<h2 id="interrupted"><a href="#interrupted" class="headerlink" title="interrupted()"></a>interrupted()</h2><p>å¦‚æœä¸€ä¸ªçº¿ç¨‹çš„ run() æ–¹æ³•æ‰§è¡Œä¸€ä¸ª<strong>æ— é™å¾ªç¯</strong>ï¼Œ<strong><u>å¹¶ä¸”æ²¡æœ‰æ‰§è¡Œ sleep() ç­‰ä¼šæŠ›å‡º InterruptedException çš„æ“ä½œ</u></strong>ï¼Œ<strong><u>é‚£ä¹ˆè°ƒç”¨çº¿ç¨‹çš„ interrupt() æ–¹æ³•å°±æ— æ³•ä½¿çº¿ç¨‹æå‰ç»“æŸ</u></strong>ã€‚</p>
<p>ä½†æ˜¯è°ƒç”¨ interrupt() æ–¹æ³•ä¼š<strong><u>è®¾ç½®çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°</u></strong>ï¼Œæ­¤æ—¶è°ƒç”¨ interrupted() æ–¹æ³•ä¼šè¿”å› <strong>true</strong>ã€‚å› æ­¤å¯ä»¥åœ¨å¾ªç¯ä½“ä¸­ä½¿ç”¨ interrupted() æ–¹æ³•æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¤„äºä¸­æ–­çŠ¶æ€ï¼Œä»è€Œæå‰ç»“æŸçº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterruptExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          <span class="comment">// æ²¡æœ‰è°ƒç”¨interruptæ–¹æ³•ä¹‹å‰ï¼Œinterruptedæ–¹æ³•è¿”å›çš„éƒ½æ˜¯falseï¼Œæ‰€ä»¥ä¼šä¸€ç›´å¾ªç¯</span></span><br><span class="line">            <span class="keyword">while</span> (!interrupted()) &#123;</span><br><span class="line">                <span class="comment">// ..</span></span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Thread end"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread thread2 = <span class="keyword">new</span> MyThread2();</span><br><span class="line">    thread2.start();</span><br><span class="line">    thread2.interrupt(); <span class="comment">//è°ƒç”¨ä¹‹åï¼Œinterruptedæ–¹æ³•è¿”å›trueä»è€Œç»“æŸå¾ªç¯ï¼Œç»“æŸçº¿ç¨‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Thread end</span><br></pre></td></tr></table></figure>



<h2 id="Executor-çš„ä¸­æ–­æ“ä½œ"><a href="#Executor-çš„ä¸­æ–­æ“ä½œ" class="headerlink" title="Executor çš„ä¸­æ–­æ“ä½œ"></a>Executor çš„ä¸­æ–­æ“ä½œ</h2><p><strong><u>è°ƒç”¨ Executor çš„ shutdown() æ–¹æ³•ä¼šç­‰å¾…çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åå†å…³é—­ï¼Œä½†æ˜¯å¦‚æœè°ƒç”¨çš„æ˜¯ shutdownNow() æ–¹æ³•ï¼Œåˆ™ç›¸å½“äºè°ƒç”¨æ¯ä¸ªçº¿ç¨‹çš„ interrupt() æ–¹æ³•ã€‚</u></strong></p>
<p>ä»¥ä¸‹ä½¿ç”¨ Lambda åˆ›å»ºçº¿ç¨‹ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå†…éƒ¨çº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    executorService.execute(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            System.out.println(<span class="string">"Thread run"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    executorService.shutdownNow();</span><br><span class="line">    System.out.println(<span class="string">"Main run"</span>);</span><br><span class="line">&#125;</span><br><span class="line">Main run</span><br><span class="line">java.lang.InterruptedException: sleep interrupted</span><br><span class="line">    at java.lang.Thread.sleep(Native Method)</span><br><span class="line">    at ExecutorInterruptExample.lambda$main$<span class="number">0</span>(ExecutorInterruptExample.java:<span class="number">9</span>)</span><br><span class="line">    at ExecutorInterruptExample$$Lambda$<span class="number">1</span>/<span class="number">1160460865</span>.run(Unknown Source)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1142</span>)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">617</span>)</span><br><span class="line">    at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªæƒ³ä¸­æ–­ Executor ä¸­çš„ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ submit() æ–¹æ³•æ¥æäº¤ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª Future&lt;?&gt; å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨è¯¥å¯¹è±¡çš„ cancel(true) æ–¹æ³•å°±å¯ä»¥ä¸­æ–­çº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Future&lt;?&gt; future = executorService.submit(() -&gt; &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;);</span><br><span class="line">future.cancel(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>



<h1 id="å››ã€äº’æ–¥åŒæ­¥"><a href="#å››ã€äº’æ–¥åŒæ­¥" class="headerlink" title="å››ã€äº’æ–¥åŒæ­¥"></a>å››ã€äº’æ–¥åŒæ­¥</h1><p>Java æä¾›äº†<strong>ä¸¤ç§é”æœºåˆ¶</strong>æ¥<strong>æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®</strong>ï¼Œç¬¬ä¸€ä¸ªæ˜¯ JVM å®ç°çš„ <strong>synchronized</strong>ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ JDK å®ç°çš„ <strong>ReentrantLock</strong>ã€‚</p>
<h2 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h2><p><strong>1. åŒæ­¥ä¸€ä¸ªä»£ç å—</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å®ƒåªä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå¦‚æœè°ƒç”¨ä¸¤ä¸ªå¯¹è±¡ä¸Šçš„åŒæ­¥ä»£ç å—ï¼Œå°±ä¸ä¼šè¿›è¡ŒåŒæ­¥ã€‚</p>
<p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œä½¿ç”¨ ExecutorService æ‰§è¡Œäº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œç”±äºè°ƒç”¨çš„æ˜¯<strong>åŒä¸€ä¸ªå¯¹è±¡</strong>çš„åŒæ­¥ä»£ç å—ï¼Œ<strong><u>å› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹ä¼šè¿›è¡ŒåŒæ­¥ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åŒæ­¥è¯­å¥å—æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å°±å¿…é¡»ç­‰å¾…ã€‚</u></strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                System.out.print(i + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    SynchronizedExample e1 = <span class="keyword">new</span> SynchronizedExample();</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    executorService.execute(() -&gt; e1.func1());</span><br><span class="line">    executorService.execute(() -&gt; e1.func1());</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œ<strong><u>ä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨äº†ä¸åŒå¯¹è±¡çš„åŒæ­¥ä»£ç å—</u></strong>ï¼Œ<strong><u>å› æ­¤è¿™ä¸¤ä¸ªçº¿ç¨‹å°±ä¸éœ€è¦åŒæ­¥</u></strong>ã€‚ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªçº¿ç¨‹<strong>äº¤å‰æ‰§è¡Œ</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    SynchronizedExample e1 = <span class="keyword">new</span> SynchronizedExample();</span><br><span class="line">    SynchronizedExample e2 = <span class="keyword">new</span> SynchronizedExample();</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    executorService.execute(() -&gt; e1.func1()); <span class="comment">//lambaè¡¨è¾¾å¼æ¥å®ç°new Runnableå¹¶åœ¨runæ–¹æ³•é‡Œè°ƒç”¨e.func1()</span></span><br><span class="line">    executorService.execute(() -&gt; e2.func1());</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span> <span class="number">3</span> <span class="number">4</span> <span class="number">4</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">6</span> <span class="number">7</span> <span class="number">7</span> <span class="number">8</span> <span class="number">8</span> <span class="number">9</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<p><strong>2. åŒæ­¥ä¸€ä¸ªæ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">func</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ƒå’ŒåŒæ­¥ä»£ç å—ä¸€æ ·ï¼Œä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p><strong>3. åŒæ­¥ä¸€ä¸ªç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (SynchronizedExample<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><u>ä½œç”¨äºæ•´ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¸Šçš„è¿™ç§åŒæ­¥è¯­å¥ï¼Œä¹Ÿä¼šè¿›è¡ŒåŒæ­¥ã€‚</u></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (SynchronizedExample<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                System.out.print(i + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    SynchronizedExample e1 = <span class="keyword">new</span> SynchronizedExample();</span><br><span class="line">    SynchronizedExample e2 = <span class="keyword">new</span> SynchronizedExample();</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    executorService.execute(() -&gt; e1.func2());</span><br><span class="line">    executorService.execute(() -&gt; e2.func2());</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<p><strong>4. åŒæ­¥ä¸€ä¸ªé™æ€æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½œç”¨äºæ•´ä¸ªç±»ã€‚</p>
<h2 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h2><p>ReentrantLock æ˜¯ java.util.concurrentï¼ˆJ.U.Cï¼‰åŒ…ä¸­çš„é”ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                System.out.print(i + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock(); <span class="comment">// ç¡®ä¿é‡Šæ”¾é”ï¼Œä»è€Œé¿å…å‘ç”Ÿæ­»é”ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    LockExample lockExample = <span class="keyword">new</span> LockExample();</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    executorService.execute(() -&gt; lockExample.func());</span><br><span class="line">    executorService.execute(() -&gt; lockExample.func());</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>



<h2 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h2><p><strong>1. é”çš„å®ç°</strong></p>
<p>synchronized æ˜¯ JVM å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯ JDK å®ç°çš„ã€‚</p>
<p><strong>2. æ€§èƒ½</strong></p>
<p>æ–°ç‰ˆæœ¬ Java å¯¹ synchronized è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä¾‹å¦‚è‡ªæ—‹é”ç­‰ï¼Œsynchronized ä¸ ReentrantLock å¤§è‡´ç›¸åŒã€‚</p>
<p><strong>3. ç­‰å¾…å¯ä¸­æ–­</strong></p>
<p>å½“æŒæœ‰é”çš„çº¿ç¨‹é•¿æœŸä¸é‡Šæ”¾é”çš„æ—¶å€™ï¼Œæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚</p>
<p><u>ReentrantLock å¯ä¸­æ–­ï¼Œè€Œ synchronized ä¸è¡Œã€‚</u></p>
<p><strong>4. å…¬å¹³é”</strong></p>
<p>å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªé”æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ç”³è¯·é”çš„æ—¶é—´é¡ºåºæ¥ä¾æ¬¡è·å¾—é”ã€‚</p>
<p>synchronized ä¸­çš„é”æ˜¯éå…¬å¹³çš„ï¼ŒReentrantLock é»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éå…¬å¹³çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯å…¬å¹³çš„ã€‚</p>
<p><strong>5. é”ç»‘å®šå¤šä¸ªæ¡ä»¶</strong></p>
<p>ä¸€ä¸ª ReentrantLock å¯ä»¥åŒæ—¶ç»‘å®š<u>å¤šä¸ª Condition å¯¹è±¡</u>ã€‚</p>
<h2 id="ä½¿ç”¨é€‰æ‹©"><a href="#ä½¿ç”¨é€‰æ‹©" class="headerlink" title="ä½¿ç”¨é€‰æ‹©"></a>ä½¿ç”¨é€‰æ‹©</h2><p>é™¤ééœ€è¦ä½¿ç”¨ ReentrantLock çš„é«˜çº§åŠŸèƒ½ï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨ synchronizedã€‚è¿™æ˜¯å› ä¸º synchronized æ˜¯  JVM å®ç°çš„ä¸€ç§é”æœºåˆ¶ï¼ŒJVM åŸç”Ÿåœ°æ”¯æŒå®ƒï¼Œè€Œ ReentrantLock ä¸æ˜¯æ‰€æœ‰çš„ JDK ç‰ˆæœ¬éƒ½æ”¯æŒã€‚å¹¶ä¸”ä½¿ç”¨  synchronized ä¸ç”¨æ‹…å¿ƒæ²¡æœ‰é‡Šæ”¾é”è€Œå¯¼è‡´æ­»é”é—®é¢˜ï¼Œå› ä¸º JVM ä¼šç¡®ä¿é”çš„é‡Šæ”¾ã€‚</p>
<h1 id="äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ"><a href="#äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ" class="headerlink" title="äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ"></a>äº”ã€çº¿ç¨‹ä¹‹é—´çš„åä½œ</h1><p>å½“å¤šä¸ªçº¿ç¨‹å¯ä»¥ä¸€èµ·å·¥ä½œå»è§£å†³æŸä¸ªé—®é¢˜æ—¶ï¼Œå¦‚æœæŸäº›éƒ¨åˆ†å¿…é¡»åœ¨å…¶å®ƒéƒ¨åˆ†ä¹‹å‰å®Œæˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹çº¿ç¨‹è¿›è¡Œåè°ƒã€‚</p>
<h2 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h2><p><u>åœ¨çº¿ç¨‹ä¸­è°ƒç”¨å¦ä¸€ä¸ªçº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œä¼šå°†å½“å‰çº¿ç¨‹æŒ‚èµ·ï¼Œè€Œä¸æ˜¯å¿™ç­‰å¾…ï¼Œç›´åˆ°ç›®æ ‡çº¿ç¨‹ç»“æŸã€‚</u></p>
<p>å¯¹äºä»¥ä¸‹ä»£ç ï¼Œ<u>è™½ç„¶ b çº¿ç¨‹å…ˆå¯åŠ¨ï¼Œä½†æ˜¯å› ä¸ºåœ¨ b çº¿ç¨‹ä¸­è°ƒç”¨äº† a çº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œb çº¿ç¨‹ä¼šç­‰å¾… a çº¿ç¨‹ç»“æŸæ‰ç»§ç»­æ‰§è¡Œï¼Œå› æ­¤æœ€åèƒ½å¤Ÿä¿è¯ a çº¿ç¨‹çš„è¾“å‡ºå…ˆäº b çº¿ç¨‹çš„è¾“å‡º</u>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JoinExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"A"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> A a;</span><br><span class="line"></span><br><span class="line">        B(A a) &#123;</span><br><span class="line">            <span class="keyword">this</span>.a = a;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                a.join();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"B"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        B b = <span class="keyword">new</span> B(a);</span><br><span class="line">        b.start();</span><br><span class="line">        a.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    JoinExample example = <span class="keyword">new</span> JoinExample();</span><br><span class="line">    example.test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A</span><br><span class="line">B</span><br></pre></td></tr></table></figure>



<h2 id="wait-notify-notifyAll"><a href="#wait-notify-notifyAll" class="headerlink" title="wait() notify() notifyAll()"></a>wait() notify() notifyAll()</h2><p>è°ƒç”¨ <strong>wait()</strong> ä½¿å¾—çº¿ç¨‹<strong>ç­‰å¾…æŸä¸ªæ¡ä»¶æ»¡è¶³</strong>ï¼Œ<strong>çº¿ç¨‹åœ¨ç­‰å¾…æ—¶ä¼šè¢«æŒ‚èµ·</strong>ï¼Œå½“<strong>å…¶ä»–çº¿ç¨‹</strong>çš„è¿è¡Œä½¿å¾—è¿™ä¸ª<strong>æ¡ä»¶æ»¡è¶³</strong>æ—¶ï¼Œå…¶å®ƒçº¿ç¨‹ä¼šè°ƒç”¨ <strong>notify()</strong> æˆ–è€… <strong>notifyAll()</strong> æ¥å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹ã€‚</p>
<p>å®ƒä»¬éƒ½å±äº <strong>Object</strong> çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸å±äº <strong>Thread</strong>ã€‚</p>
<p><u><strong>åªèƒ½ç”¨åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—ä¸­ä½¿ç”¨</strong></u>ï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡º <strong>IllegalMonitorStateException</strong>ã€‚</p>
<p><u>ä½¿ç”¨ wait() æŒ‚èµ·æœŸé—´ï¼Œ<strong>çº¿ç¨‹ä¼šé‡Šæ”¾é”</strong>ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœæ²¡æœ‰é‡Šæ”¾é”ï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹å°±æ— æ³•è¿›å…¥å¯¹è±¡çš„åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—ä¸­ï¼Œé‚£ä¹ˆå°±æ— æ³•æ‰§è¡Œ notify() æˆ–è€… notifyAll() æ¥å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹ï¼Œé€ æˆæ­»é”</u>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaitNotifyExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"before"</span>);</span><br><span class="line">        notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            wait();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"after"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    WaitNotifyExample example = <span class="keyword">new</span> WaitNotifyExample();</span><br><span class="line">    executorService.execute(() -&gt; example.after());<span class="comment">//wait()å°†å½“å‰çº¿ç¨‹æŒ‚èµ·ï¼Œçº¿ç¨‹é‡Šæ”¾é”ï¼Œè¿™æ ·æ‰èƒ½æ‰§è¡Œbeforeæ–¹æ³•ä¸­çš„notifyAllæ–¹æ³•æ¥å”¤é†’è¢«æŒ‚èµ·çš„çº¿ç¨‹ï¼Œå¦åˆ™æ­»é”</span></span><br><span class="line">    executorService.execute(() -&gt; example.before());</span><br><span class="line">&#125;</span><br><span class="line">before</span><br><span class="line">after</span><br></pre></td></tr></table></figure>

<p><strong>wait() å’Œ sleep() çš„åŒºåˆ«</strong></p>
<ul>
<li>wait() æ˜¯ Object çš„æ–¹æ³•ï¼Œè€Œ sleep() æ˜¯ Thread çš„é™æ€æ–¹æ³•ï¼›</li>
<li><strong>wait() ä¼šé‡Šæ”¾é”ï¼Œsleep() å’Œyield()ä¸ä¼šã€‚</strong></li>
</ul>
<h2 id="await-signal-signalAll"><a href="#await-signal-signalAll" class="headerlink" title="await() signal() signalAll()"></a>await() signal() signalAll()</h2><p>java.util.concurrent ç±»åº“ä¸­æä¾›äº† <strong>Condition</strong> ç±»æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åè°ƒï¼Œå¯ä»¥åœ¨ Condition ä¸Šè°ƒç”¨ <strong>await()</strong> æ–¹æ³•ä½¿çº¿ç¨‹ç­‰å¾…ï¼Œå…¶å®ƒçº¿ç¨‹è°ƒç”¨ <strong>signal()</strong> æˆ– <strong>signalAll()</strong> æ–¹æ³•å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚</p>
<p>ç›¸æ¯”äº wait() è¿™ç§ç­‰å¾…æ–¹å¼ï¼Œawait() å¯ä»¥æŒ‡å®šç­‰å¾…çš„æ¡ä»¶ï¼Œå› æ­¤æ›´åŠ çµæ´»ã€‚</p>
<p>ä½¿ç”¨ <strong>Lock</strong> æ¥è·å–ä¸€ä¸ª <strong>Condition</strong> å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AwaitSignalExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> Condition condition = lock.newCondition();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"before"</span>);</span><br><span class="line">            condition.signalAll();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//boolean await()</span></span><br><span class="line">          <span class="comment">// é€ æˆå½“å‰çº¿ç¨‹åœ¨æ¥åˆ°ä¿¡å·ã€è¢«ä¸­æ–­æˆ–åˆ°è¾¾æŒ‡å®šç­‰å¾…æ—¶é—´ä¹‹å‰ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ã€‚</span></span><br><span class="line">          <span class="comment">//boolean await(long time, TimeUnit unit)</span></span><br><span class="line">            condition.await();</span><br><span class="line">            System.out.println(<span class="string">"after"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    AwaitSignalExample example = <span class="keyword">new</span> AwaitSignalExample();</span><br><span class="line">    executorService.execute(() -&gt; example.after());</span><br><span class="line">    executorService.execute(() -&gt; example.before());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">before</span><br><span class="line">after</span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€çº¿ç¨‹çŠ¶æ€"><a href="#å…­ã€çº¿ç¨‹çŠ¶æ€" class="headerlink" title="å…­ã€çº¿ç¨‹çŠ¶æ€"></a>å…­ã€çº¿ç¨‹çŠ¶æ€</h1><p><strong>ä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„äºä¸€ç§çŠ¶æ€</strong>ï¼Œå¹¶ä¸”è¿™é‡Œçš„çº¿ç¨‹çŠ¶æ€ç‰¹æŒ‡ Java è™šæ‹Ÿæœºçš„çº¿ç¨‹çŠ¶æ€ï¼Œä¸èƒ½åæ˜ çº¿ç¨‹åœ¨ç‰¹å®šæ“ä½œç³»ç»Ÿä¸‹çš„çŠ¶æ€ã€‚</p>
<h2 id="æ–°å»ºï¼ˆNEWï¼‰"><a href="#æ–°å»ºï¼ˆNEWï¼‰" class="headerlink" title="æ–°å»ºï¼ˆNEWï¼‰"></a>æ–°å»ºï¼ˆNEWï¼‰</h2><p>åˆ›å»ºåå°šæœªå¯åŠ¨ã€‚</p>
<h2 id="å¯è¿è¡Œï¼ˆRUNABLEï¼‰"><a href="#å¯è¿è¡Œï¼ˆRUNABLEï¼‰" class="headerlink" title="å¯è¿è¡Œï¼ˆRUNABLEï¼‰"></a>å¯è¿è¡Œï¼ˆRUNABLEï¼‰</h2><p>æ­£åœ¨ Java è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚ä½†æ˜¯åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œå®ƒå¯èƒ½å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ç­‰å¾…èµ„æºè°ƒåº¦ï¼ˆä¾‹å¦‚å¤„ç†å™¨èµ„æºï¼‰ï¼Œèµ„æºè°ƒåº¦å®Œæˆå°±è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚<strong>æ‰€ä»¥è¯¥çŠ¶æ€çš„å¯è¿è¡Œæ˜¯æŒ‡å¯ä»¥è¢«è¿è¡Œï¼Œå…·ä½“æœ‰æ²¡æœ‰è¿è¡Œè¦çœ‹åº•å±‚æ“ä½œç³»ç»Ÿçš„èµ„æºè°ƒåº¦ã€‚</strong></p>
<h2 id="é˜»å¡ï¼ˆBLOCKEDï¼‰"><a href="#é˜»å¡ï¼ˆBLOCKEDï¼‰" class="headerlink" title="é˜»å¡ï¼ˆBLOCKEDï¼‰"></a>é˜»å¡ï¼ˆBLOCKEDï¼‰</h2><p>è¯·æ±‚è·å– monitor lock ä»è€Œè¿›å…¥ synchronized å‡½æ•°æˆ–è€…ä»£ç å—ï¼Œä½†æ˜¯å…¶å®ƒçº¿ç¨‹å·²ç»å ç”¨äº†è¯¥ monitor lockï¼Œæ‰€ä»¥å‡ºäºé˜»å¡çŠ¶æ€ã€‚è¦ç»“æŸè¯¥çŠ¶æ€è¿›å…¥ä»è€Œ RUNABLE éœ€è¦å…¶ä»–çº¿ç¨‹é‡Šæ”¾ monitor lockã€‚<strong>çº¿ç¨‹Aå…ˆè®¿é—®sychronizedä»£ç å—ï¼Œçº¿ç¨‹Bå†è®¿é—®éœ€è¦è¯·æ±‚è¯¥ä»£ç å—çš„monitor lockï¼Œä½†æ˜¯å‘ç°çº¿ç¨‹Aå·²ç»å ç”¨äº†è¯¥monitor lockï¼Œæ‰€ä»¥çº¿ç¨‹Bç°åœ¨çš„çŠ¶æ€æ˜¯BLOCK</strong></p>
<h2 id="æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰"><a href="#æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰" class="headerlink" title="æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰"></a>æ— é™æœŸç­‰å¾…ï¼ˆWAITINGï¼‰</h2><p>ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ã€‚</p>
<p><strong>é˜»å¡å’Œç­‰å¾…çš„åŒºåˆ«åœ¨äºï¼Œé˜»å¡æ˜¯è¢«åŠ¨çš„ï¼Œå®ƒæ˜¯åœ¨ç­‰å¾…è·å– monitor lockã€‚è€Œç­‰å¾…æ˜¯ä¸»åŠ¨çš„ï¼Œé€šè¿‡è°ƒç”¨  Object.wait() ç­‰æ–¹æ³•è¿›å…¥ã€‚</strong></p>
<table>
<thead>
<tr>
<th>è¿›å…¥æ–¹æ³•</th>
<th>é€€å‡ºæ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td>æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•</td>
<td>Object.notify() / Object.notifyAll()</td>
</tr>
<tr>
<td>æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•</td>
<td>è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</td>
</tr>
<tr>
<td>LockSupport.park() æ–¹æ³•</td>
<td>LockSupport.unpark(Thread)</td>
</tr>
</tbody></table>
<h2 id="é™æœŸç­‰å¾…ï¼ˆTIMED-WAITINGï¼‰"><a href="#é™æœŸç­‰å¾…ï¼ˆTIMED-WAITINGï¼‰" class="headerlink" title="é™æœŸç­‰å¾…ï¼ˆTIMED_WAITINGï¼‰"></a>é™æœŸç­‰å¾…ï¼ˆTIMED_WAITINGï¼‰</h2><p>æ— éœ€ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ï¼Œ<strong>åœ¨ä¸€å®šæ—¶é—´ä¹‹åä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ã€‚</strong></p>
<table>
<thead>
<tr>
<th>è¿›å…¥æ–¹æ³•</th>
<th>é€€å‡ºæ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td>Thread.sleep() æ–¹æ³•</td>
<td>æ—¶é—´ç»“æŸ</td>
</tr>
<tr>
<td>è®¾ç½®äº† Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•</td>
<td>æ—¶é—´ç»“æŸ / Object.notify() / Object.notifyAll()</td>
</tr>
<tr>
<td>è®¾ç½®äº† Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•</td>
<td>æ—¶é—´ç»“æŸ / è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</td>
</tr>
<tr>
<td>LockSupport.parkNanos() æ–¹æ³•</td>
<td>LockSupport.unpark(Thread)</td>
</tr>
<tr>
<td>LockSupport.parkUntil() æ–¹æ³•</td>
<td>LockSupport.unpark(Thread)</td>
</tr>
</tbody></table>
<p><strong><u>è°ƒç”¨ Thread.sleep() æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…çŠ¶æ€æ—¶ï¼Œå¸¸å¸¸ç”¨â€œä½¿ä¸€ä¸ªçº¿ç¨‹ç¡çœ â€è¿›è¡Œæè¿°ã€‚è°ƒç”¨ Object.wait()  æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…æˆ–è€…æ— é™æœŸç­‰å¾…æ—¶ï¼Œå¸¸å¸¸ç”¨â€œæŒ‚èµ·ä¸€ä¸ªçº¿ç¨‹â€è¿›è¡Œæè¿°ã€‚ç¡çœ å’ŒæŒ‚èµ·æ˜¯ç”¨æ¥æè¿°è¡Œä¸ºï¼Œè€Œé˜»å¡å’Œç­‰å¾…ç”¨æ¥æè¿°çŠ¶æ€ã€‚</u></strong></p>
<h2 id="æ­»äº¡ï¼ˆTERMINATEDï¼‰"><a href="#æ­»äº¡ï¼ˆTERMINATEDï¼‰" class="headerlink" title="æ­»äº¡ï¼ˆTERMINATEDï¼‰"></a>æ­»äº¡ï¼ˆTERMINATEDï¼‰</h2><p>å¯ä»¥æ˜¯çº¿ç¨‹ç»“æŸä»»åŠ¡ä¹‹åè‡ªå·±ç»“æŸï¼Œæˆ–è€…äº§ç”Ÿäº†å¼‚å¸¸è€Œç»“æŸã€‚</p>
<p><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.State.html">Java SE 9 Enum Thread.State</a></p>
<h1 id="ä¸ƒã€J-U-C-AQS"><a href="#ä¸ƒã€J-U-C-AQS" class="headerlink" title="ä¸ƒã€J.U.C - AQS"></a>ä¸ƒã€J.U.C - AQS</h1><p>java.util.concurrentï¼ˆJ.U.Cï¼‰å¤§å¤§æé«˜äº†å¹¶å‘æ€§èƒ½ï¼ŒAQS è¢«è®¤ä¸ºæ˜¯ J.U.C çš„æ ¸å¿ƒã€‚</p>
<h2 id="CountDownLatch"><a href="#CountDownLatch" class="headerlink" title="CountDownLatch"></a>CountDownLatch</h2><p><strong><u>ç”¨æ¥æ§åˆ¶ä¸€ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹</u></strong>ã€‚</p>
<p>ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ cntï¼Œæ¯æ¬¡è°ƒç”¨ <strong>countDown()</strong> æ–¹æ³•ä¼šè®©è®¡æ•°å™¨çš„å€¼<strong>å‡ 1</strong>ï¼Œ<u>å‡åˆ° 0 çš„æ—¶å€™ï¼Œé‚£äº›å› ä¸ºè°ƒç”¨ <strong>await()</strong> æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚</u></p>
<p>åˆ©ç”¨å®ƒå¯ä»¥å®ç°ç±»ä¼¼è®¡æ•°å™¨çš„åŠŸèƒ½ã€‚æ¯”å¦‚æœ‰ä¸€ä¸ªä»»åŠ¡Aï¼Œå®ƒè¦ç­‰å¾…å…¶ä»–4ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œï¼Œæ­¤æ—¶å°±å¯ä»¥åˆ©ç”¨CountDownLatchæ¥å®ç°è¿™ç§åŠŸèƒ½äº†ã€‚</p>
<p> <a href="https://camo.githubusercontent.com/c2a94b75d7379c204996f24411a9c497125cfa06/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f62613037383239312d373931652d343337382d623664312d6563653736633266306231342e706e67"><img src="https://camo.githubusercontent.com/c2a94b75d7379c204996f24411a9c497125cfa06/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f62613037383239312d373931652d343337382d623664312d6563653736633266306231342e706e67" alt="img"></a> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountdownLatchExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> CountDownLatch latch = <span class="keyword">new</span> CountDownLatch(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">"å­çº¿ç¨‹"</span>+Thread.currentThread().getName()+<span class="string">"æ­£åœ¨æ‰§è¡Œ"</span>);</span><br><span class="line">                    Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">                    System.out.println(<span class="string">"å­çº¿ç¨‹"</span>+Thread.currentThread().getName()+<span class="string">"æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">                    latch.countDown();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">"å­çº¿ç¨‹"</span>+Thread.currentThread().getName()+<span class="string">"æ­£åœ¨æ‰§è¡Œ"</span>);</span><br><span class="line">                    Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">                    System.out.println(<span class="string">"å­çº¿ç¨‹"</span>+Thread.currentThread().getName()+<span class="string">"æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">                    latch.countDown();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"ç­‰å¾…2ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•..."</span>);</span><br><span class="line">            latch.await();<span class="comment">//æŒ‚èµ·ä¸»çº¿ç¨‹ï¼Œè®©ä¸¤ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">          <span class="comment">//å½“ä¸¤ä¸ªå­çº¿ç¨‹éƒ½countDown()ä¹‹åï¼Œè®¡æ•°å™¨çš„å€¼ä¸º0ï¼Œè¢«æŒ‚èµ·çš„ä¸»çº¿ç¨‹è¢«å”¤é†’ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line">            System.out.println(<span class="string">"2ä¸ªå­çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">            System.out.println(<span class="string">"ç»§ç»­æ‰§è¡Œä¸»çº¿ç¨‹"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç­‰å¾…<span class="number">2</span>ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•...</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">1</span>æ­£åœ¨æ‰§è¡Œ</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">0</span>æ­£åœ¨æ‰§è¡Œ</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">1</span>æ‰§è¡Œå®Œæ¯•</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">0</span>æ‰§è¡Œå®Œæ¯•</span><br><span class="line"><span class="number">2</span>ä¸ªå­çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•</span><br><span class="line">ç»§ç»­æ‰§è¡Œä¸»çº¿ç¨‹</span><br></pre></td></tr></table></figure>



<h2 id="CyclicBarrier"><a href="#CyclicBarrier" class="headerlink" title="CyclicBarrier"></a>CyclicBarrier</h2><p><u><strong>ç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œåªæœ‰å½“å¤šä¸ªçº¿ç¨‹éƒ½åˆ°è¾¾æ—¶ï¼Œè¿™äº›çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</strong></u></p>
<p>å’Œ CountdownLatch ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡<u><strong>ç»´æŠ¤è®¡æ•°å™¨</strong></u>æ¥å®ç°çš„ã€‚<u>çº¿ç¨‹æ‰§è¡Œ <strong>await()</strong> æ–¹æ³•ä¹‹åè®¡æ•°å™¨ä¼šå‡ 1</u>ï¼Œå¹¶è¿›è¡Œç­‰å¾…ï¼Œç›´åˆ°è®¡æ•°å™¨ä¸º 0ï¼Œæ‰€æœ‰è°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p>
<p><u><strong>CyclicBarrier å’Œ CountdownLatch çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼ŒCyclicBarrier çš„è®¡æ•°å™¨é€šè¿‡è°ƒç”¨ reset() æ–¹æ³•å¯ä»¥å¾ªç¯ä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒæ‰å«åšå¾ªç¯å±éšœã€‚</strong></u></p>
<p><u><strong>CyclicBarrier æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå…¶ä¸­ parties æŒ‡ç¤ºè®¡æ•°å™¨çš„åˆå§‹å€¼ï¼ŒbarrierAction åœ¨æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœçš„æ—¶å€™ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</strong></u></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">CyclicBarrier</span><span class="params">(<span class="keyword">int</span> parties, Runnable barrierAction)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (parties &lt;= <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">    <span class="keyword">this</span>.parties = parties;</span><br><span class="line">    <span class="keyword">this</span>.count = parties;</span><br><span class="line">    <span class="keyword">this</span>.barrierCommand = barrierAction;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">CyclicBarrier</span><span class="params">(<span class="keyword">int</span> parties)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(parties, <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <a href="https://camo.githubusercontent.com/10dd07a9c7828fab8f68a0f953755869dc286a8e/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f66373161663636622d306435342d343339392d613434622d6634376235383332313938342e706e67"><img src="https://camo.githubusercontent.com/10dd07a9c7828fab8f68a0f953755869dc286a8e/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f66373161663636622d306435342d343339392d613434622d6634376235383332313938342e706e67" alt="img"></a> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CyclicBarrierExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> totalThread = <span class="number">10</span>;</span><br><span class="line">        CyclicBarrier cyclicBarrier = <span class="keyword">new</span> CyclicBarrier(totalThread);</span><br><span class="line">        ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totalThread; i++) &#123;</span><br><span class="line">            executorService.execute(() -&gt; &#123;</span><br><span class="line">                System.out.print(<span class="string">"before.."</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    cyclicBarrier.await();<span class="comment">//æŒ‚èµ·çº¿ç¨‹ï¼Œå¹¶å°†è®¡æ•°å™¨-1ï¼Œè®¡æ•°å™¨ä¸º0æ—¶æ‰ä¼šé‡Šæ”¾çº¿ç¨‹å¾€ä¸‹æ‰§è¡Œ</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException | BrokenBarrierException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.print(<span class="string">"after.."</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">before..before..before..before..before..before..before..before..before..before..after..after..after..after..after..after..after..after..after..after..</span><br></pre></td></tr></table></figure>



<h2 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h2><p>Semaphore ç±»ä¼¼äºæ“ä½œç³»ç»Ÿä¸­çš„ä¿¡å·é‡ï¼Œ<strong><u>å¯ä»¥æ§åˆ¶å¯¹äº’æ–¥èµ„æºçš„è®¿é—®çº¿ç¨‹æ•°</u></strong>ã€‚</p>
<p>Semaphoreç¿»è¯‘æˆå­—é¢æ„æ€ä¸º ä¿¡å·é‡ï¼ŒSemaphoreå¯ä»¥æ§åŒæ—¶è®¿é—®çš„çº¿ç¨‹ä¸ªæ•°ï¼Œé€šè¿‡ acquire() è·å–ä¸€ä¸ªè®¸å¯ï¼Œå¦‚æœæ²¡æœ‰å°±ç­‰å¾…ï¼Œè€Œ release() é‡Šæ”¾ä¸€ä¸ªè®¸å¯ã€‚</p>
<p>ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†å¯¹æŸä¸ªæœåŠ¡çš„å¹¶å‘è¯·æ±‚ï¼Œæ¯æ¬¡åªèƒ½æœ‰ 3 ä¸ªå®¢æˆ·ç«¯åŒæ—¶è®¿é—®ï¼Œè¯·æ±‚æ€»æ•°ä¸º 10ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SemaphoreExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> clientCount = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> totalRequestCount = <span class="number">10</span>;</span><br><span class="line">        Semaphore semaphore = <span class="keyword">new</span> Semaphore(clientCount);<span class="comment">//å…è®¸ä¸‰ä¸ªçº¿ç¨‹è¿›è¡Œè®¿é—®</span></span><br><span class="line">        ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totalRequestCount; i++) &#123;</span><br><span class="line">            executorService.execute(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    semaphore.acquire();<span class="comment">//è·å¾—ä¸€ä¸ªè®¸å¯</span></span><br><span class="line">                    System.out.print(semaphore.availablePermits() + <span class="string">" "</span>);<span class="comment">//å½“å‰å¯ç”¨çš„è®¸å¯æ•°ç›®</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    semaphore.release();<span class="comment">//é‡Šæ”¾ä¸€ä¸ªè®¸å¯</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>



<h1 id="å…«ã€J-U-C-å…¶å®ƒç»„ä»¶"><a href="#å…«ã€J-U-C-å…¶å®ƒç»„ä»¶" class="headerlink" title="å…«ã€J.U.C - å…¶å®ƒç»„ä»¶"></a>å…«ã€J.U.C - å…¶å®ƒç»„ä»¶</h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="FutureTask"><a href="#FutureTask" class="headerlink" title="FutureTask"></a>FutureTask</h2><p>åœ¨ä»‹ç» Callable æ—¶æˆ‘ä»¬çŸ¥é“å®ƒå¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼é€šè¿‡ Future è¿›è¡Œå°è£…ã€‚FutureTask å®ç°äº†  RunnableFuture æ¥å£ï¼Œè¯¥æ¥å£ç»§æ‰¿è‡ª Runnable å’Œ Future æ¥å£ï¼Œè¿™ä½¿å¾— FutureTask  æ—¢å¯ä»¥å½“åšä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class FutureTask&lt;V&gt; implements RunnableFuture&lt;V&gt;</span><br><span class="line">public interface RunnableFuture&lt;V&gt; extends Runnable, Future&lt;V&gt;</span><br></pre></td></tr></table></figure>

<p>FutureTask å¯ç”¨äºå¼‚æ­¥è·å–æ‰§è¡Œç»“æœæˆ–å–æ¶ˆæ‰§è¡Œä»»åŠ¡çš„åœºæ™¯ã€‚å½“ä¸€ä¸ªè®¡ç®—ä»»åŠ¡éœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ FutureTask æ¥å°è£…è¿™ä¸ªä»»åŠ¡ï¼Œä¸»çº¿ç¨‹åœ¨å®Œæˆè‡ªå·±çš„ä»»åŠ¡ä¹‹åå†å»è·å–ç»“æœã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class FutureTaskExample &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws ExecutionException, InterruptedException &#123;</span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = new FutureTask&lt;Integer&gt;(new Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public Integer call() throws Exception &#123;</span><br><span class="line">                int result = 0;</span><br><span class="line">                for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">                    Thread.sleep(10);</span><br><span class="line">                    result += i;</span><br><span class="line">                &#125;</span><br><span class="line">                return result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread computeThread = new Thread(futureTask);</span><br><span class="line">        computeThread.start();</span><br><span class="line"></span><br><span class="line">        Thread otherThread = new Thread(() -&gt; &#123;</span><br><span class="line">            System.out.println(&quot;other task is running...&quot;);</span><br><span class="line">            try &#123;</span><br><span class="line">                Thread.sleep(1000);</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        otherThread.start();</span><br><span class="line">        System.out.println(futureTask.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">other task is running...</span><br><span class="line">4950</span><br></pre></td></tr></table></figure>

<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="BlockingQueue"><a href="#BlockingQueue" class="headerlink" title="BlockingQueue"></a>BlockingQueue</h2><p>java.util.concurrent.BlockingQueue æ¥å£æœ‰ä»¥ä¸‹é˜»å¡é˜Ÿåˆ—çš„å®ç°ï¼š</p>
<ul>
<li><strong>FIFO é˜Ÿåˆ—</strong>  ï¼šLinkedBlockingQueueã€ArrayBlockingQueueï¼ˆå›ºå®šé•¿åº¦ï¼‰</li>
<li><strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong>  ï¼šPriorityBlockingQueue</li>
</ul>
<p>æä¾›äº†é˜»å¡çš„ take() å’Œ put() æ–¹æ³•ï¼šå¦‚æœé˜Ÿåˆ—ä¸ºç©º take() å°†é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰å†…å®¹ï¼›å¦‚æœé˜Ÿåˆ—ä¸ºæ»¡ put() å°†é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—æœ‰ç©ºé—²ä½ç½®ã€‚</p>
<p><strong>ä½¿ç”¨ BlockingQueue å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class ProducerConsumer &#123;</span><br><span class="line"></span><br><span class="line">    private static BlockingQueue&lt;String&gt; queue = new ArrayBlockingQueue&lt;&gt;(5);</span><br><span class="line"></span><br><span class="line">    private static class Producer extends Thread &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                queue.put(&quot;product&quot;);</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(&quot;produce..&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static class Consumer extends Thread &#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                String product = queue.take();</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(&quot;consume..&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    for (int i = 0; i &lt; 2; i++) &#123;</span><br><span class="line">        Producer producer = new Producer();</span><br><span class="line">        producer.start();</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">        Consumer consumer = new Consumer();</span><br><span class="line">        consumer.start();</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">        Producer producer = new Producer();</span><br><span class="line">        producer.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">produce..produce..consume..consume..produce..consume..produce..consume..produce..consume..</span><br></pre></td></tr></table></figure>

<h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h2 id="ForkJoin"><a href="#ForkJoin" class="headerlink" title="ForkJoin"></a>ForkJoin</h2><p>ä¸»è¦ç”¨äºå¹¶è¡Œè®¡ç®—ä¸­ï¼Œå’Œ MapReduce åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯æŠŠå¤§çš„è®¡ç®—ä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªå°ä»»åŠ¡å¹¶è¡Œè®¡ç®—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class ForkJoinExample extends RecursiveTask&lt;Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    private final int threshold = 5;</span><br><span class="line">    private int first;</span><br><span class="line">    private int last;</span><br><span class="line"></span><br><span class="line">    public ForkJoinExample(int first, int last) &#123;</span><br><span class="line">        this.first = first;</span><br><span class="line">        this.last = last;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Integer compute() &#123;</span><br><span class="line">        int result = 0;</span><br><span class="line">        if (last - first &lt;= threshold) &#123;</span><br><span class="line">            // ä»»åŠ¡è¶³å¤Ÿå°åˆ™ç›´æ¥è®¡ç®—</span><br><span class="line">            for (int i = first; i &lt;= last; i++) &#123;</span><br><span class="line">                result += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // æ‹†åˆ†æˆå°ä»»åŠ¡</span><br><span class="line">            int middle = first + (last - first) / 2;</span><br><span class="line">            ForkJoinExample leftTask = new ForkJoinExample(first, middle);</span><br><span class="line">            ForkJoinExample rightTask = new ForkJoinExample(middle + 1, last);</span><br><span class="line">            leftTask.fork();</span><br><span class="line">            rightTask.fork();</span><br><span class="line">            result = leftTask.join() + rightTask.join();</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public static void main(String[] args) throws ExecutionException, InterruptedException &#123;</span><br><span class="line">    ForkJoinExample example = new ForkJoinExample(1, 10000);</span><br><span class="line">    ForkJoinPool forkJoinPool = new ForkJoinPool();</span><br><span class="line">    Future result = forkJoinPool.submit(example);</span><br><span class="line">    System.out.println(result.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ForkJoin ä½¿ç”¨ ForkJoinPool æ¥å¯åŠ¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ•°é‡å–å†³äº CPU æ ¸æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class ForkJoinPool extends AbstractExecutorService</span><br></pre></td></tr></table></figure>

<p>ForkJoinPool å®ç°äº†å·¥ä½œçªƒå–ç®—æ³•æ¥æé«˜ CPU  çš„åˆ©ç”¨ç‡ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ç»´æŠ¤äº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚å·¥ä½œçªƒå–ç®—æ³•å…è®¸ç©ºé—²çš„çº¿ç¨‹ä»å…¶å®ƒçº¿ç¨‹çš„åŒç«¯é˜Ÿåˆ—ä¸­çªƒå–ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œã€‚çªƒå–çš„ä»»åŠ¡å¿…é¡»æ˜¯æœ€æ™šçš„ä»»åŠ¡ï¼Œé¿å…å’Œé˜Ÿåˆ—æ‰€å±çº¿ç¨‹å‘ç”Ÿç«äº‰ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­ï¼ŒThread2 ä» Thread1 çš„é˜Ÿåˆ—ä¸­æ‹¿å‡ºæœ€æ™šçš„ Task1 ä»»åŠ¡ï¼ŒThread1 ä¼šæ‹¿å‡º Task2  æ¥æ‰§è¡Œï¼Œè¿™æ ·å°±é¿å…å‘ç”Ÿç«äº‰ã€‚ä½†æ˜¯å¦‚æœé˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªä»»åŠ¡æ—¶è¿˜æ˜¯ä¼šå‘ç”Ÿç«äº‰ã€‚</p>
<p> <a href="https://camo.githubusercontent.com/b06eff6a60482e87b9ded90d6df90f9b47370f84/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f65343266313838662d663461392d346536662d383866632d3435663436383230373266622e706e67"><img src="https://camo.githubusercontent.com/b06eff6a60482e87b9ded90d6df90f9b47370f84/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f65343266313838662d663461392d346536662d383866632d3435663436383230373266622e706e67" alt="img"></a> </p>
<h1 id="-3"><a href="#-3" class="headerlink" title=""></a></h1><h1 id="ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹"><a href="#ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹" class="headerlink" title="ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹"></a>ä¹ã€çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹</h1><p>å¦‚æœå¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…±äº«æ•°æ®è¿›è¡Œè®¿é—®è€Œä¸é‡‡å–åŒæ­¥æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆæ“ä½œçš„ç»“æœæ˜¯ä¸ä¸€è‡´çš„ã€‚</p>
<p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº† 1000 ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ cnt æ‰§è¡Œè‡ªå¢æ“ä½œï¼Œæ“ä½œç»“æŸä¹‹åå®ƒçš„å€¼æœ‰å¯èƒ½å°äº 1000ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class ThreadUnsafeExample &#123;</span><br><span class="line"></span><br><span class="line">    private int cnt = 0;</span><br><span class="line"></span><br><span class="line">    public void add() &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int get() &#123;</span><br><span class="line">        return cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public static void main(String[] args) throws InterruptedException &#123;</span><br><span class="line">    final int threadSize = 1000;</span><br><span class="line">    ThreadUnsafeExample example = new ThreadUnsafeExample();</span><br><span class="line">    final CountDownLatch countDownLatch = new CountDownLatch(threadSize);</span><br><span class="line">    ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">    for (int i = 0; i &lt; threadSize; i++) &#123;</span><br><span class="line">        executorService.execute(() -&gt; &#123;</span><br><span class="line">            example.add();</span><br><span class="line">            countDownLatch.countDown();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    countDownLatch.await();</span><br><span class="line">    executorService.shutdown();</span><br><span class="line">    System.out.println(example.get());</span><br><span class="line">&#125;</span><br><span class="line">997</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>concurrency</tag>
      </tags>
  </entry>
  <entry>
    <title>Usage Of Volatile In Java</title>
    <url>/2019/12/02/Usage-Of-Volatile-In-Java/</url>
    <content><![CDATA[<p>Volatileç”¨åœ¨å¤šçº¿ç¨‹ï¼ŒåŒæ­¥å˜é‡ã€‚ çº¿ç¨‹ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå°†æŸæˆå‘˜å˜é‡(å¦‚A)æ‹·è´äº†ä¸€ä»½ï¼ˆå¦‚Bï¼‰ï¼Œçº¿ç¨‹ä¸­å¯¹Açš„è®¿é—®å…¶å®è®¿é—®çš„æ˜¯Bã€‚åªåœ¨æŸäº›åŠ¨ä½œæ—¶æ‰è¿›è¡ŒAå’ŒBçš„åŒæ­¥ã€‚å› æ­¤å­˜åœ¨Aå’ŒBä¸ä¸€è‡´çš„æƒ…å†µã€‚volatileå°±æ˜¯ç”¨æ¥é¿å…è¿™ç§æƒ…å†µçš„ã€‚volatileå‘Šè¯‰jvmï¼Œ å®ƒæ‰€ä¿®é¥°çš„å˜é‡ä¸ä¿ç•™æ‹·è´ï¼Œç›´æ¥è®¿é—®ä¸»å†…å­˜ä¸­çš„ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„A)</p>
<p>åœ¨Javaå†…å­˜æ¨¡å‹ä¸­ï¼Œæœ‰main memoryï¼Œæ¯ä¸ªçº¿ç¨‹ä¹Ÿæœ‰è‡ªå·±çš„memory (ä¾‹å¦‚å¯„å­˜å™¨)ã€‚ä¸ºäº†æ€§èƒ½ï¼Œä¸€ä¸ªçº¿ç¨‹ä¼šåœ¨è‡ªå·±çš„memoryä¸­ä¿æŒè¦è®¿é—®çš„å˜é‡çš„å‰¯æœ¬ã€‚è¿™æ ·å°±ä¼šå‡ºç°åŒä¸€ä¸ªå˜é‡åœ¨æŸä¸ªç¬é—´ï¼Œåœ¨ä¸€ä¸ªçº¿ç¨‹çš„memoryä¸­çš„å€¼å¯èƒ½ä¸å¦å¤–ä¸€ä¸ªçº¿ç¨‹memoryä¸­çš„å€¼ï¼Œæˆ–è€…main memoryä¸­çš„å€¼ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<a id="more"></a>



<p>ä¸€ä¸ªå˜é‡å£°æ˜ä¸ºvolatileï¼Œå°±æ„å‘³ç€è¿™ä¸ªå˜é‡æ˜¯éšæ—¶ä¼šè¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹çš„ï¼Œå› æ­¤ä¸èƒ½å°†å®ƒcacheåœ¨çº¿ç¨‹memoryä¸­ã€‚ä»¥ä¸‹ä¾‹å­å±•ç°äº†volatileçš„ä½œç”¨ï¼š</p>
<p>public class StoppableTask extends Thread {  </p>
<p>  private volatile boolean pleaseStop;  </p>
<p>  public void run() {  </p>
<pre><code>while (!pleaseStop) {  

 // do some stuff...  

}  </code></pre><p> }  </p>
<p>  public void tellMeToStop() {  </p>
<p>   pleaseStop = true;  </p>
<p>  }  </p>
<p>}  </p>
<p>å‡å¦‚pleaseStopæ²¡æœ‰è¢«å£°æ˜ä¸ºvolatileï¼Œçº¿ç¨‹æ‰§è¡Œrunçš„æ—¶å€™æ£€æŸ¥çš„æ˜¯è‡ªå·±çš„å‰¯æœ¬ï¼Œå°±ä¸èƒ½åŠæ—¶å¾—çŸ¥å…¶ä»–çº¿ç¨‹å·²ç»è°ƒç”¨tellMeToStop()ä¿®æ”¹äº†pleaseStopçš„å€¼ã€‚</p>
<p>Volatileä¸€èˆ¬æƒ…å†µä¸‹ä¸èƒ½ä»£æ›¿sychronizedï¼Œå› ä¸ºvolatileä¸èƒ½ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œå³ä½¿åªæ˜¯i++ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ç”±å¤šä¸ªåŸå­æ“ä½œç»„æˆï¼šread i; inc; write iï¼Œå‡å¦‚å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œi++ï¼Œvolatileåªèƒ½ä¿è¯ä»–ä»¬æ“ä½œçš„iæ˜¯åŒä¸€å—å†…å­˜ï¼Œä½†ä¾ç„¶å¯èƒ½å‡ºç°å†™å…¥è„æ•°æ®çš„æƒ…å†µã€‚å¦‚æœé…åˆJava 5å¢åŠ çš„atomic wrapper classesï¼Œå¯¹å®ƒä»¬çš„increaseä¹‹ç±»çš„æ“ä½œå°±ä¸éœ€è¦sychronizedã€‚</p>
<p>Referenceï¼š<br><a href="http://www.javamex.com/tutorials/synchronization_volatile.shtml">http://www.javamex.com/tutorials/synchronization_volatile.shtml</a><br><a href="http://www.javamex.com/tutorials/synchronization_volatile_java_5.shtml">http://www.javamex.com/tutorials/synchronization_volatile_java_5.shtml</a><br><a href="http://www.ibm.com/developerworks/cn/java/j-jtp06197.html">http://www.ibm.com/developerworks/cn/java/j-jtp06197.html</a><br>ææ€•æ¯”è¾ƒä¸€ä¸‹volatileå’Œsynchronizedçš„ä¸åŒæ˜¯æœ€å®¹æ˜“è§£é‡Šæ¸…æ¥šçš„ã€‚volatileæ˜¯å˜é‡ä¿®é¥°ç¬¦ï¼Œè€Œsynchronizedåˆ™ä½œç”¨äºä¸€æ®µä»£ç æˆ–æ–¹æ³•ï¼›çœ‹å¦‚ä¸‹ä¸‰å¥getä»£ç ï¼š</p>
<p>int i1;<br>int geti1() {return i1;}<br>volatile int i2;<br>int geti2()<br>{return i2;}<br>int i3;<br>synchronized int geti3() {return i3;}<br>ã€€ã€€geti1()  </p>
<p>å¾—åˆ°å­˜å‚¨åœ¨å½“å‰çº¿ç¨‹ä¸­i1çš„æ•°å€¼ã€‚å¤šä¸ªçº¿ç¨‹æœ‰å¤šä¸ªi1å˜é‡æ‹·è´ï¼Œè€Œä¸”è¿™äº›i1ä¹‹é—´å¯ä»¥äº’ä¸ç›¸åŒã€‚æ¢å¥è¯è¯´ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½å·²ç»æ”¹å˜äº†å®ƒçº¿ç¨‹å†…çš„i1å€¼ï¼Œè€Œè¿™ä¸ªå€¼å¯ä»¥å’Œå½“å‰çº¿ç¨‹ä¸­çš„i1å€¼ä¸ç›¸åŒã€‚äº‹å®ä¸Šï¼ŒJavaæœ‰ä¸ªæ€æƒ³å«â€œä¸»â€å†…å­˜åŒºåŸŸï¼Œè¿™é‡Œå­˜æ”¾äº†å˜é‡ç›®å‰çš„â€œå‡†ç¡®å€¼â€ã€‚æ¯ä¸ªçº¿ç¨‹å¯ä»¥æœ‰å®ƒè‡ªå·±çš„å˜é‡æ‹·è´ï¼Œè€Œè¿™ä¸ªå˜é‡æ‹·è´å€¼å¯ä»¥å’Œâ€œä¸»â€å†…å­˜åŒºåŸŸé‡Œå­˜æ”¾çš„ä¸åŒã€‚å› æ­¤å®é™…ä¸Šå­˜åœ¨ä¸€ç§å¯èƒ½ï¼šâ€œä¸»â€å†…å­˜åŒºåŸŸé‡Œçš„i1å€¼æ˜¯1ï¼Œçº¿ç¨‹1é‡Œçš„i1å€¼æ˜¯2ï¼Œçº¿ç¨‹2é‡Œçš„i1å€¼æ˜¯3â€”â€”è¿™åœ¨çº¿ç¨‹1å’Œçº¿ç¨‹2éƒ½æ”¹å˜äº†å®ƒä»¬å„è‡ªçš„i1å€¼ï¼Œè€Œä¸”è¿™ä¸ªæ”¹å˜è¿˜æ²¡æ¥å¾—åŠä¼ é€’ç»™â€œä¸»â€å†…å­˜åŒºåŸŸæˆ–å…¶ä»–çº¿ç¨‹æ—¶å°±ä¼šå‘ç”Ÿã€‚<br>ã€€ã€€è€Œ geti2()å¾—åˆ°çš„æ˜¯â€œä¸»â€å†…å­˜åŒºåŸŸçš„i2æ•°å€¼ã€‚ç”¨volatileä¿®é¥°åçš„å˜é‡ä¸å…è®¸æœ‰ä¸åŒäºâ€œä¸»â€å†…å­˜åŒºåŸŸçš„å˜é‡æ‹·è´ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå˜é‡ç» volatileä¿®é¥°ååœ¨æ‰€æœ‰çº¿ç¨‹ä¸­å¿…é¡»æ˜¯åŒæ­¥çš„ï¼›ä»»ä½•çº¿ç¨‹ä¸­æ”¹å˜äº†å®ƒçš„å€¼ï¼Œæ‰€æœ‰å…¶ä»–çº¿ç¨‹ç«‹å³è·å–åˆ°äº†ç›¸åŒçš„å€¼ã€‚ç†æ‰€å½“ç„¶çš„ï¼Œvolatileä¿®é¥°çš„å˜é‡å­˜å–æ—¶æ¯”ä¸€èˆ¬å˜é‡æ¶ˆè€—çš„èµ„æºè¦å¤šä¸€ç‚¹ï¼Œå› ä¸ºçº¿ç¨‹æœ‰å®ƒè‡ªå·±çš„å˜é‡æ‹·è´æ›´ä¸ºé«˜æ•ˆã€‚<br>ã€€ã€€æ—¢ç„¶volatileå…³é”®å­—å·²ç»å®ç°äº†çº¿ç¨‹é—´æ•°æ®åŒæ­¥ï¼Œåˆè¦ synchronizedå¹²ä»€ä¹ˆå‘¢ï¼Ÿå‘µå‘µï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä¸¤ç‚¹ä¸åŒã€‚é¦–å…ˆï¼Œsynchronizedè·å¾—å¹¶é‡Šæ”¾ç›‘è§†å™¨â€”â€”å¦‚æœä¸¤ä¸ªçº¿ç¨‹ä½¿ç”¨äº†åŒä¸€ä¸ªå¯¹è±¡é”ï¼Œç›‘è§†å™¨èƒ½å¼ºåˆ¶ä¿è¯ä»£ç å—åŒæ—¶åªè¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æ‰§è¡Œâ€”â€”è¿™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„äº‹å®ã€‚ä½†æ˜¯ï¼Œsynchronizedä¹ŸåŒæ­¥å†…å­˜ï¼šäº‹å®ä¸Šï¼Œsynchronizedåœ¨â€œ ä¸»â€å†…å­˜åŒºåŸŸåŒæ­¥æ•´ä¸ªçº¿ç¨‹çš„å†…å­˜ã€‚å› æ­¤ï¼Œæ‰§è¡Œgeti3()æ–¹æ³•åšäº†å¦‚ä¸‹å‡ æ­¥ï¼š</p>
<pre><code>çº¿ç¨‹è¯·æ±‚è·å¾—ç›‘è§†thiså¯¹è±¡çš„å¯¹è±¡é”ï¼ˆå‡è®¾æœªè¢«é”ï¼Œå¦åˆ™çº¿ç¨‹ç­‰å¾…ç›´åˆ°é”é‡Šæ”¾ï¼‰
çº¿ç¨‹å†…å­˜çš„æ•°æ®è¢«æ¶ˆé™¤ï¼Œä»â€œä¸»â€å†…å­˜åŒºåŸŸä¸­è¯»å…¥ï¼ˆJavaè™šæ‹Ÿæœºèƒ½ä¼˜åŒ–æ­¤æ­¥ã€‚ã€‚ã€‚[åé¢çš„ä¸çŸ¥é“æ€ä¹ˆè¡¨è¾¾,æ±—]ï¼‰
ä»£ç å—è¢«æ‰§è¡Œ
å¯¹äºå˜é‡çš„ä»»ä½•æ”¹å˜ç°åœ¨å¯ä»¥å®‰å…¨åœ°å†™åˆ°â€œä¸»â€å†…å­˜åŒºåŸŸä¸­ï¼ˆä¸è¿‡geti3()æ–¹æ³•ä¸ä¼šæ”¹å˜å˜é‡å€¼ï¼‰
çº¿ç¨‹é‡Šæ”¾ç›‘è§†thiså¯¹è±¡çš„å¯¹è±¡é”
ã€€ã€€å› æ­¤volatileåªæ˜¯åœ¨çº¿ç¨‹å†…å­˜å’Œâ€œä¸»â€å†…å­˜é—´åŒæ­¥æŸä¸ªå˜é‡çš„å€¼ï¼Œè€Œsynchronizedé€šè¿‡é”å®šå’Œè§£é”æŸä¸ªç›‘è§†å™¨åŒæ­¥æ‰€æœ‰å˜é‡çš„å€¼ã€‚æ˜¾ç„¶synchronizedè¦æ¯”volatileæ¶ˆè€—æ›´å¤šèµ„æºã€‚
volatileå…³é”®å­—ç›¸ä¿¡äº†è§£Javaå¤šçº¿ç¨‹çš„è¯»è€…éƒ½å¾ˆæ¸…æ¥šå®ƒçš„ä½œç”¨ã€‚volatileå…³é”®å­—ç”¨äºå£°æ˜ç®€å•ç±»å‹å˜é‡ï¼Œå¦‚intã€floatã€ booleanç­‰æ•°æ®ç±»å‹ã€‚å¦‚æœè¿™äº›ç®€å•æ•°æ®ç±»å‹å£°æ˜ä¸ºvolatileï¼Œå¯¹å®ƒä»¬çš„æ“ä½œå°±ä¼šå˜æˆåŸå­çº§åˆ«çš„ã€‚ä½†è¿™æœ‰ä¸€å®šçš„é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¾‹å­ä¸­çš„nå°±ä¸æ˜¯åŸå­çº§åˆ«çš„ï¼š</code></pre><p>package  mythread;  </p>
<p>public   class  JoinThread  extends  Thread<br>{<br>     public   static volatile int  n  =   0 ;<br>    public   void  run()<br>    {<br>         for  ( int  i  =   0 ; i  &lt;   10 ; i ++ )<br>             try<br>        {<br>                n  =  n  +   1 ;<br>                sleep( 3 );  //  ä¸ºäº†ä½¿è¿è¡Œç»“æœæ›´éšæœºï¼Œå»¶è¿Ÿ3æ¯«ç§’   </p>
<pre><code>        }  
         catch  (Exception e)  
        {  
        }  
}  

 public   static   void  main(String[] args)  throws  Exception  
{  

    Thread threads[]  =   new  Thread[ 100 ];  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  å»ºç«‹100ä¸ªçº¿ç¨‹   
        threads[i]  =   new  JoinThread();  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  è¿è¡Œåˆšæ‰å»ºç«‹çš„100ä¸ªçº¿ç¨‹   
        threads[i].start();  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  100ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œå®Œåç»§ç»­   
        threads[i].join();  
    System.out.println( &quot; n= &quot;   +  JoinThread.n);  
}  </code></pre><p>}   </p>
<p>å¦‚æœå¯¹nçš„æ“ä½œæ˜¯åŸå­çº§åˆ«çš„ï¼Œæœ€åè¾“å‡ºçš„ç»“æœåº”è¯¥ä¸ºn=1000ï¼Œè€Œåœ¨æ‰§è¡Œä¸Šé¢ç§¯ä»£ç æ—¶ï¼Œå¾ˆå¤šæ—¶ä¾¯è¾“å‡ºçš„néƒ½å°äº1000ï¼Œè¿™è¯´æ˜n=n+1ä¸æ˜¯åŸå­çº§åˆ«çš„æ“ä½œã€‚åŸå› æ˜¯å£°æ˜ä¸ºvolatileçš„ç®€å•å˜é‡å¦‚æœå½“å‰å€¼ç”±è¯¥å˜é‡ä»¥å‰çš„å€¼ç›¸å…³ï¼Œé‚£ä¹ˆvolatileå…³é”®å­—ä¸èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚ä¸‹çš„è¡¨è¾¾å¼éƒ½ä¸æ˜¯åŸå­æ“ä½œï¼š</p>
<p>n  =  n  +   1 ;<br>n ++ ; </p>
<p>å¦‚æœè¦æƒ³ä½¿è¿™ç§æƒ…å†µå˜æˆåŸå­æ“ä½œï¼Œéœ€è¦ä½¿ç”¨synchronizedå…³é”®å­—ï¼Œå¦‚ä¸Šçš„ä»£ç å¯ä»¥æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<p>package  mythread;  </p>
<p>public   class  JoinThread  extends  Thread<br>{<br>     public   static int  n  =   0 ;  </p>
<pre><code> public static   synchronized   void  inc()  
{  
    n ++ ;  
}  
 public   void  run()  
{  
     for  ( int  i  =   0 ; i  &lt;   10 ; i ++ )  
         try   
        {  
            inc();  //  n = n + 1 æ”¹æˆäº† inc();   
            sleep( 3 );  //  ä¸ºäº†ä½¿è¿è¡Œç»“æœæ›´éšæœºï¼Œå»¶è¿Ÿ3æ¯«ç§’   

        }  
         catch  (Exception e)  
        {  
        }  
}  

 public   static   void  main(String[] args)  throws  Exception  
{  

    Thread threads[]  =   new  Thread[ 100 ];  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  å»ºç«‹100ä¸ªçº¿ç¨‹   
        threads[i]  =   new  JoinThread();  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  è¿è¡Œåˆšæ‰å»ºç«‹çš„100ä¸ªçº¿ç¨‹   
        threads[i].start();  
     for  ( int  i  =   0 ; i  &lt;  threads.length; i ++ )  
         //  100ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œå®Œåç»§ç»­   
        threads[i].join();  
    System.out.println( &quot; n= &quot;   +  JoinThread.n);  
}  </code></pre><p>}   </p>
<p>ä¸Šé¢çš„ä»£ç å°†n=n+1æ”¹æˆäº†inc()ï¼Œå…¶ä¸­incæ–¹æ³•ä½¿ç”¨äº†synchronizedå…³é”®å­—è¿›è¡Œæ–¹æ³•åŒæ­¥ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨volatileå…³é”®å­—æ—¶è¦æ…é‡ï¼Œå¹¶ä¸æ˜¯åªè¦ç®€å•ç±»å‹å˜é‡ä½¿ç”¨volatileä¿®é¥°ï¼Œå¯¹è¿™ä¸ªå˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸæ¥æ“ä½œï¼Œå½“å˜é‡çš„å€¼ç”±è‡ªèº«çš„ä¸Šä¸€ä¸ªå†³å®šæ—¶ï¼Œå¦‚n=n+1ã€n++ ç­‰ï¼Œvolatileå…³é”®å­—å°†å¤±æ•ˆï¼Œåªæœ‰å½“å˜é‡çš„å€¼å’Œè‡ªèº«ä¸Šä¸€ä¸ªå€¼æ— å…³æ—¶å¯¹è¯¥å˜é‡çš„æ“ä½œæ‰æ˜¯åŸå­çº§åˆ«çš„ï¼Œå¦‚n = m + 1ï¼Œè¿™ä¸ªå°±æ˜¯åŸçº§åˆ«çš„ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨volatileå…³é”®æ—¶ä¸€å®šè¦è°¨æ…ï¼Œå¦‚æœè‡ªå·±æ²¡æœ‰æŠŠæ¡ï¼Œå¯ä»¥ä½¿ç”¨synchronizedæ¥ä»£æ›¿volatileã€‚</p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>concurrency</tag>
      </tags>
  </entry>
  <entry>
    <title>Interview - Java Basics</title>
    <url>/2020/04/01/javabasics/</url>
    <content><![CDATA[<h2 id="2-1-JavaåŸºç¡€"><a href="#2-1-JavaåŸºç¡€" class="headerlink" title="2.1 JavaåŸºç¡€"></a>2.1 JavaåŸºç¡€</h2><p><a href="https://github.com/Snailclimb/JavaGuide-Interview">Original Blog</a></p>
<h3 id="1-é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"><a href="#1-é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«" class="headerlink" title="1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"></a>1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«</h3><ul>
<li><strong>é¢å‘è¿‡ç¨‹</strong> ï¼š<strong>é¢å‘è¿‡ç¨‹æ€§èƒ½æ¯”é¢å‘å¯¹è±¡é«˜ã€‚</strong> å› ä¸ºç±»è°ƒç”¨æ—¶éœ€è¦å®ä¾‹åŒ–ï¼Œå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ¶ˆè€—èµ„æºï¼Œæ‰€ä»¥å½“æ€§èƒ½æ˜¯æœ€é‡è¦çš„è€ƒé‡å› ç´ çš„æ—¶å€™ï¼Œæ¯”å¦‚å•ç‰‡æœºã€åµŒå…¥å¼å¼€å‘ã€Linux/Unix ç­‰ä¸€èˆ¬é‡‡ç”¨é¢å‘è¿‡ç¨‹å¼€å‘ã€‚ä½†æ˜¯ï¼Œ<strong>é¢å‘è¿‡ç¨‹æ²¡æœ‰é¢å‘å¯¹è±¡æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€‚</strong></li>
<li><strong>é¢å‘å¯¹è±¡</strong> ï¼š<strong>é¢å‘å¯¹è±¡æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€‚</strong> å› ä¸ºé¢å‘å¯¹è±¡æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€æ€§çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å¯ä»¥è®¾è®¡å‡ºä½è€¦åˆçš„ç³»ç»Ÿï¼Œä½¿ç³»ç»Ÿæ›´åŠ çµæ´»ã€æ›´åŠ æ˜“äºç»´æŠ¤ã€‚ä½†æ˜¯ï¼Œ<strong>é¢å‘å¯¹è±¡æ€§èƒ½æ¯”é¢å‘è¿‡ç¨‹ä½</strong>ã€‚</li>
</ul>
<p>å‚è§ issue : <a href="https://github.com/Snailclimb/JavaGuide/issues/431">é¢å‘è¿‡ç¨‹ ï¼šé¢å‘è¿‡ç¨‹æ€§èƒ½æ¯”é¢å‘å¯¹è±¡é«˜ï¼Ÿï¼Ÿ</a></p>
<blockquote>
<p>è¿™ä¸ªå¹¶ä¸æ˜¯æ ¹æœ¬åŸå› ï¼Œé¢å‘è¿‡ç¨‹ä¹Ÿéœ€è¦åˆ†é…å†…å­˜ï¼Œè®¡ç®—å†…å­˜åç§»é‡ï¼ŒJava æ€§èƒ½å·®çš„ä¸»è¦åŸå› å¹¶ä¸æ˜¯å› ä¸ºå®ƒæ˜¯é¢å‘å¯¹è±¡è¯­è¨€ï¼Œè€Œæ˜¯ Java æ˜¯åŠç¼–è¯‘è¯­è¨€ï¼Œæœ€ç»ˆçš„æ‰§è¡Œä»£ç å¹¶ä¸æ˜¯å¯ä»¥ç›´æ¥è¢« CPU æ‰§è¡Œçš„äºŒè¿›åˆ¶æœºæ¢°ç ã€‚</p>
<p>è€Œé¢å‘è¿‡ç¨‹è¯­è¨€å¤§å¤šéƒ½æ˜¯ç›´æ¥ç¼–è¯‘æˆæœºæ¢°ç åœ¨ç”µè„‘ä¸Šæ‰§è¡Œï¼Œå¹¶ä¸”å…¶å®ƒä¸€äº›é¢å‘è¿‡ç¨‹çš„è„šæœ¬è¯­è¨€æ€§èƒ½ä¹Ÿå¹¶ä¸ä¸€å®šæ¯” Java å¥½ã€‚</p>
</blockquote>
<a id="more"></a>

<h3 id="2-Java-è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹"><a href="#2-Java-è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹" class="headerlink" title="2. Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹?"></a>2. Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹?</h3><ol>
<li>ç®€å•æ˜“å­¦ï¼›</li>
<li>é¢å‘å¯¹è±¡ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ï¼›</li>
<li>å¹³å°æ— å…³æ€§ï¼ˆ Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§ï¼‰ï¼›</li>
<li>å¯é æ€§ï¼›</li>
<li>å®‰å…¨æ€§ï¼›</li>
<li>æ”¯æŒå¤šçº¿ç¨‹ï¼ˆ C++ è¯­è¨€æ²¡æœ‰å†…ç½®çš„å¤šçº¿ç¨‹æœºåˆ¶ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å¤šçº¿ç¨‹åŠŸèƒ½æ¥è¿›è¡Œå¤šçº¿ç¨‹ç¨‹åºè®¾è®¡ï¼Œè€Œ Java è¯­è¨€å´æä¾›äº†å¤šçº¿ç¨‹æ”¯æŒï¼‰ï¼›</li>
<li>æ”¯æŒç½‘ç»œç¼–ç¨‹å¹¶ä¸”å¾ˆæ–¹ä¾¿ï¼ˆ Java è¯­è¨€è¯ç”Ÿæœ¬èº«å°±æ˜¯ä¸ºç®€åŒ–ç½‘ç»œç¼–ç¨‹è®¾è®¡çš„ï¼Œå› æ­¤ Java è¯­è¨€ä¸ä»…æ”¯æŒç½‘ç»œç¼–ç¨‹è€Œä¸”å¾ˆæ–¹ä¾¿ï¼‰ï¼›</li>
<li>ç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜ï¼›</li>
</ol>
<blockquote>
<p>ä¿®æ­£ï¼ˆå‚è§ï¼š <a href="https://github.com/Snailclimb/JavaGuide/issues/544">issue#544</a>ï¼‰ï¼šC++11 å¼€å§‹ï¼ˆ2011 å¹´çš„æ—¶å€™ï¼‰,C++å°±å¼•å…¥äº†å¤šçº¿ç¨‹åº“ï¼Œåœ¨ windowsã€linuxã€macos éƒ½å¯ä»¥ä½¿ç”¨<code>std::thread</code>å’Œ<code>std::async</code>æ¥åˆ›å»ºçº¿ç¨‹ã€‚å‚è€ƒé“¾æ¥ï¼š<a href="http://www.cplusplus.com/reference/thread/thread/?kw=thread">http://www.cplusplus.com/reference/thread/thread/?kw=thread</a></p>
</blockquote>
<h3 id="3-å…³äº-JVM-JDK-å’Œ-JRE-æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”"><a href="#3-å…³äº-JVM-JDK-å’Œ-JRE-æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”" class="headerlink" title="3. å…³äº JVM JDK å’Œ JRE æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”"></a>3. å…³äº JVM JDK å’Œ JRE æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”</h3><h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><p>Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVM æœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œå®ƒä»¬éƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯å­—èŠ‚ç ?é‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„æ˜¯ä»€ä¹ˆ?</strong></p>
<blockquote>
<p>åœ¨ Java ä¸­ï¼ŒJVM å¯ä»¥ç†è§£çš„ä»£ç å°±å«åš<code>å­—èŠ‚ç </code>ï¼ˆå³æ‰©å±•åä¸º <code>.class</code> çš„æ–‡ä»¶ï¼‰ï¼Œå®ƒä¸é¢å‘ä»»ä½•ç‰¹å®šçš„å¤„ç†å™¨ï¼Œåªé¢å‘è™šæ‹Ÿæœºã€‚Java è¯­è¨€é€šè¿‡å­—èŠ‚ç çš„æ–¹å¼ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ä¼ ç»Ÿè§£é‡Šå‹è¯­è¨€æ‰§è¡Œæ•ˆç‡ä½çš„é—®é¢˜ï¼ŒåŒæ—¶åˆä¿ç•™äº†è§£é‡Šå‹è¯­è¨€å¯ç§»æ¤çš„ç‰¹ç‚¹ã€‚æ‰€ä»¥ Java ç¨‹åºè¿è¡Œæ—¶æ¯”è¾ƒé«˜æ•ˆï¼Œè€Œä¸”ï¼Œç”±äºå­—èŠ‚ç å¹¶ä¸é’ˆå¯¹ä¸€ç§ç‰¹å®šçš„æœºå™¨ï¼Œå› æ­¤ï¼ŒJava ç¨‹åºæ— é¡»é‡æ–°ç¼–è¯‘ä¾¿å¯åœ¨å¤šç§ä¸åŒæ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºä¸Šè¿è¡Œã€‚</p>
</blockquote>
<p><strong>Java ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸€èˆ¬æœ‰ä¸‹é¢ 3 æ­¥ï¼š</strong></p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/Java%20%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B.png" alt="Javaç¨‹åºè¿è¡Œè¿‡ç¨‹"></p>
<p>æˆ‘ä»¬éœ€è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ .class-&gt;æœºå™¨ç  è¿™ä¸€æ­¥ã€‚åœ¨è¿™ä¸€æ­¥ JVM ç±»åŠ è½½å™¨é¦–å…ˆåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨é€è¡Œè§£é‡Šæ‰§è¡Œï¼Œè¿™ç§æ–¹å¼çš„æ‰§è¡Œé€Ÿåº¦ä¼šç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚è€Œä¸”ï¼Œæœ‰äº›æ–¹æ³•å’Œä»£ç å—æ˜¯ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„(ä¹Ÿå°±æ˜¯æ‰€è°“çš„çƒ­ç‚¹ä»£ç )ï¼Œæ‰€ä»¥åé¢å¼•è¿›äº† JIT ç¼–è¯‘å™¨ï¼Œè€Œ JIT å±äºè¿è¡Œæ—¶ç¼–è¯‘ã€‚å½“ JIT ç¼–è¯‘å™¨å®Œæˆç¬¬ä¸€æ¬¡ç¼–è¯‘åï¼Œå…¶ä¼šå°†å­—èŠ‚ç å¯¹åº”çš„æœºå™¨ç ä¿å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼Œæœºå™¨ç çš„è¿è¡Œæ•ˆç‡è‚¯å®šæ˜¯é«˜äº Java è§£é‡Šå™¨çš„ã€‚è¿™ä¹Ÿè§£é‡Šäº†æˆ‘ä»¬ä¸ºä»€ä¹ˆç»å¸¸ä¼šè¯´ Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ã€‚</p>
<blockquote>
<p>HotSpot é‡‡ç”¨äº†æƒ°æ€§è¯„ä¼°(Lazy Evaluation)çš„åšæ³•ï¼Œæ ¹æ®äºŒå…«å®šå¾‹ï¼Œæ¶ˆè€—å¤§éƒ¨åˆ†ç³»ç»Ÿèµ„æºçš„åªæœ‰é‚£ä¸€å°éƒ¨åˆ†çš„ä»£ç ï¼ˆçƒ­ç‚¹ä»£ç ï¼‰ï¼Œè€Œè¿™ä¹Ÿå°±æ˜¯ JIT æ‰€éœ€è¦ç¼–è¯‘çš„éƒ¨åˆ†ã€‚JVM ä¼šæ ¹æ®ä»£ç æ¯æ¬¡è¢«æ‰§è¡Œçš„æƒ…å†µæ”¶é›†ä¿¡æ¯å¹¶ç›¸åº”åœ°åšå‡ºä¸€äº›ä¼˜åŒ–ï¼Œå› æ­¤æ‰§è¡Œçš„æ¬¡æ•°è¶Šå¤šï¼Œå®ƒçš„é€Ÿåº¦å°±è¶Šå¿«ã€‚JDK 9 å¼•å…¥äº†ä¸€ç§æ–°çš„ç¼–è¯‘æ¨¡å¼ AOT(Ahead of Time Compilation)ï¼Œå®ƒæ˜¯ç›´æ¥å°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™æ ·å°±é¿å…äº† JIT é¢„çƒ­ç­‰å„æ–¹é¢çš„å¼€é”€ã€‚JDK æ”¯æŒåˆ†å±‚ç¼–è¯‘å’Œ AOT åä½œä½¿ç”¨ã€‚ä½†æ˜¯ ï¼ŒAOT ç¼–è¯‘å™¨çš„ç¼–è¯‘è´¨é‡æ˜¯è‚¯å®šæ¯”ä¸ä¸Š JIT ç¼–è¯‘å™¨çš„ã€‚</p>
</blockquote>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVM æœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œå®ƒä»¬éƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚å­—èŠ‚ç å’Œä¸åŒç³»ç»Ÿçš„ JVM å®ç°æ˜¯ Java è¯­è¨€â€œä¸€æ¬¡ç¼–è¯‘ï¼Œéšå¤„å¯ä»¥è¿è¡Œâ€çš„å…³é”®æ‰€åœ¨ã€‚</p>
<h4 id="JDK-å’Œ-JRE"><a href="#JDK-å’Œ-JRE" class="headerlink" title="JDK å’Œ JRE"></a>JDK å’Œ JRE</h4><p>JDK æ˜¯ Java Development Kitï¼Œå®ƒæ˜¯åŠŸèƒ½é½å…¨çš„ Java SDKã€‚å®ƒæ‹¥æœ‰ JRE æ‰€æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œå·¥å…·ï¼ˆå¦‚ javadoc å’Œ jdbï¼‰ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚</p>
<p>JRE æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿è¡Œå·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJava ç±»åº“ï¼Œjava å‘½ä»¤å’Œå…¶ä»–çš„ä¸€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½ç”¨äºåˆ›å»ºæ–°ç¨‹åºã€‚</p>
<p>å¦‚æœä½ åªæ˜¯ä¸ºäº†è¿è¡Œä¸€ä¸‹ Java ç¨‹åºçš„è¯ï¼Œé‚£ä¹ˆä½ åªéœ€è¦å®‰è£… JRE å°±å¯ä»¥äº†ã€‚å¦‚æœä½ éœ€è¦è¿›è¡Œä¸€äº› Java ç¼–ç¨‹æ–¹é¢çš„å·¥ä½œï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å®‰è£… JDK äº†ã€‚ä½†æ˜¯ï¼Œè¿™ä¸æ˜¯ç»å¯¹çš„ã€‚æœ‰æ—¶ï¼Œå³ä½¿æ‚¨ä¸æ‰“ç®—åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œä»»ä½• Java å¼€å‘ï¼Œä»ç„¶éœ€è¦å®‰è£… JDKã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦ä½¿ç”¨ JSP éƒ¨ç½² Web åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨åªæ˜¯åœ¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­è¿è¡Œ Java ç¨‹åºã€‚é‚£ä½ ä¸ºä»€ä¹ˆéœ€è¦ JDK å‘¢ï¼Ÿå› ä¸ºåº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¼šå°† JSP è½¬æ¢ä¸º Java servletï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨ JDK æ¥ç¼–è¯‘ servletã€‚</p>
<h3 id="4-Oracle-JDK-å’Œ-OpenJDK-çš„å¯¹æ¯”"><a href="#4-Oracle-JDK-å’Œ-OpenJDK-çš„å¯¹æ¯”" class="headerlink" title="4. Oracle JDK å’Œ OpenJDK çš„å¯¹æ¯”"></a>4. Oracle JDK å’Œ OpenJDK çš„å¯¹æ¯”</h3><p>å¯èƒ½åœ¨çœ‹è¿™ä¸ªé—®é¢˜ä¹‹å‰å¾ˆå¤šäººå’Œæˆ‘ä¸€æ ·å¹¶æ²¡æœ‰æ¥è§¦å’Œä½¿ç”¨è¿‡ OpenJDK ã€‚é‚£ä¹ˆ Oracle å’Œ OpenJDK ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å¤§å·®å¼‚ï¼Ÿä¸‹é¢æˆ‘é€šè¿‡æ”¶é›†åˆ°çš„ä¸€äº›èµ„æ–™ï¼Œä¸ºä½ è§£ç­”è¿™ä¸ªè¢«å¾ˆå¤šäººå¿½è§†çš„é—®é¢˜ã€‚</p>
<p>å¯¹äº Java 7ï¼Œæ²¡ä»€ä¹ˆå…³é”®çš„åœ°æ–¹ã€‚OpenJDK é¡¹ç›®ä¸»è¦åŸºäº Sun æèµ çš„ HotSpot æºä»£ç ã€‚æ­¤å¤–ï¼ŒOpenJDK è¢«é€‰ä¸º Java 7 çš„å‚è€ƒå®ç°ï¼Œç”± Oracle å·¥ç¨‹å¸ˆç»´æŠ¤ã€‚å…³äº JVMï¼ŒJDKï¼ŒJRE å’Œ OpenJDK ä¹‹é—´çš„åŒºåˆ«ï¼ŒOracle åšå®¢å¸–å­åœ¨ 2012 å¹´æœ‰ä¸€ä¸ªæ›´è¯¦ç»†çš„ç­”æ¡ˆï¼š</p>
<blockquote>
<p>é—®ï¼šOpenJDK å­˜å‚¨åº“ä¸­çš„æºä»£ç ä¸ç”¨äºæ„å»º Oracle JDK çš„ä»£ç ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p>ç­”ï¼šéå¸¸æ¥è¿‘ - æˆ‘ä»¬çš„ Oracle JDK ç‰ˆæœ¬æ„å»ºè¿‡ç¨‹åŸºäº OpenJDK 7 æ„å»ºï¼Œåªæ·»åŠ äº†å‡ ä¸ªéƒ¨åˆ†ï¼Œä¾‹å¦‚éƒ¨ç½²ä»£ç ï¼Œå…¶ä¸­åŒ…æ‹¬ Oracle çš„ Java æ’ä»¶å’Œ Java WebStart çš„å®ç°ï¼Œä»¥åŠä¸€äº›å°é—­çš„æºä»£ç æ´¾å¯¹ç»„ä»¶ï¼Œå¦‚å›¾å½¢å…‰æ …åŒ–å™¨ï¼Œä¸€äº›å¼€æºçš„ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œå¦‚ Rhinoï¼Œä»¥åŠä¸€äº›é›¶ç¢çš„ä¸œè¥¿ï¼Œå¦‚é™„åŠ æ–‡æ¡£æˆ–ç¬¬ä¸‰æ–¹å­—ä½“ã€‚å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å¼€æº Oracle JDK çš„æ‰€æœ‰éƒ¨åˆ†ï¼Œé™¤äº†æˆ‘ä»¬è€ƒè™‘å•†ä¸šåŠŸèƒ½çš„éƒ¨åˆ†ã€‚</p>
</blockquote>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li>Oracle JDK å¤§æ¦‚æ¯ 6 ä¸ªæœˆå‘ä¸€æ¬¡ä¸»è¦ç‰ˆæœ¬ï¼Œè€Œ OpenJDK ç‰ˆæœ¬å¤§æ¦‚æ¯ä¸‰ä¸ªæœˆå‘å¸ƒä¸€æ¬¡ã€‚ä½†è¿™ä¸æ˜¯å›ºå®šçš„ï¼Œæˆ‘è§‰å¾—äº†è§£è¿™ä¸ªæ²¡å•¥ç”¨å¤„ã€‚è¯¦æƒ…å‚è§ï¼š<a href="https://blogs.oracle.com/java-platform-group/update-and-faq-on-the-java-se-release-cadenceã€‚">https://blogs.oracle.com/java-platform-group/update-and-faq-on-the-java-se-release-cadenceã€‚</a></li>
<li>OpenJDK æ˜¯ä¸€ä¸ªå‚è€ƒæ¨¡å‹å¹¶ä¸”æ˜¯å®Œå…¨å¼€æºçš„ï¼Œè€Œ Oracle JDK æ˜¯ OpenJDK çš„ä¸€ä¸ªå®ç°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨å¼€æºçš„ï¼›</li>
<li>Oracle JDK æ¯” OpenJDK æ›´ç¨³å®šã€‚OpenJDK å’Œ Oracle JDK çš„ä»£ç å‡ ä¹ç›¸åŒï¼Œä½† Oracle JDK æœ‰æ›´å¤šçš„ç±»å’Œä¸€äº›é”™è¯¯ä¿®å¤ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³å¼€å‘ä¼ä¸š/å•†ä¸šè½¯ä»¶ï¼Œæˆ‘å»ºè®®æ‚¨é€‰æ‹© Oracle JDKï¼Œå› ä¸ºå®ƒç»è¿‡äº†å½»åº•çš„æµ‹è¯•å’Œç¨³å®šã€‚æŸäº›æƒ…å†µä¸‹ï¼Œæœ‰äº›äººæåˆ°åœ¨ä½¿ç”¨ OpenJDK å¯èƒ½ä¼šé‡åˆ°äº†è®¸å¤šåº”ç”¨ç¨‹åºå´©æºƒçš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œåªéœ€åˆ‡æ¢åˆ° Oracle JDK å°±å¯ä»¥è§£å†³é—®é¢˜ï¼›</li>
<li>åœ¨å“åº”æ€§å’Œ JVM æ€§èƒ½æ–¹é¢ï¼ŒOracle JDK ä¸ OpenJDK ç›¸æ¯”æä¾›äº†æ›´å¥½çš„æ€§èƒ½ï¼›</li>
<li>Oracle JDK ä¸ä¼šä¸ºå³å°†å‘å¸ƒçš„ç‰ˆæœ¬æä¾›é•¿æœŸæ”¯æŒï¼Œç”¨æˆ·æ¯æ¬¡éƒ½å¿…é¡»é€šè¿‡æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬è·å¾—æ”¯æŒæ¥è·å–æœ€æ–°ç‰ˆæœ¬ï¼›</li>
<li>Oracle JDK æ ¹æ®äºŒè¿›åˆ¶ä»£ç è®¸å¯åè®®è·å¾—è®¸å¯ï¼Œè€Œ OpenJDK æ ¹æ® GPL v2 è®¸å¯è·å¾—è®¸å¯ã€‚</li>
</ol>
<h3 id="5-Java-å’Œ-C-çš„åŒºåˆ«"><a href="#5-Java-å’Œ-C-çš„åŒºåˆ«" class="headerlink" title="5. Java å’Œ C++çš„åŒºåˆ«?"></a>5. Java å’Œ C++çš„åŒºåˆ«?</h3><p>æˆ‘çŸ¥é“å¾ˆå¤šäººæ²¡å­¦è¿‡ C++ï¼Œä½†æ˜¯é¢è¯•å®˜å°±æ˜¯æ²¡äº‹å–œæ¬¢æ‹¿å’±ä»¬ Java å’Œ C++ æ¯”å‘€ï¼æ²¡åŠæ³•ï¼ï¼ï¼å°±ç®—æ²¡å­¦è¿‡ C++ï¼Œä¹Ÿè¦è®°ä¸‹æ¥ï¼</p>
<ul>
<li>éƒ½æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œéƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€</li>
<li>Java ä¸æä¾›æŒ‡é’ˆæ¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œç¨‹åºå†…å­˜æ›´åŠ å®‰å…¨</li>
<li>Java çš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼ŒC++ æ”¯æŒå¤šé‡ç»§æ‰¿ï¼›è™½ç„¶ Java çš„ç±»ä¸å¯ä»¥å¤šç»§æ‰¿ï¼Œä½†æ˜¯æ¥å£å¯ä»¥å¤šç»§æ‰¿ã€‚</li>
<li>Java æœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾æ— ç”¨å†…å­˜</li>
<li><strong>åœ¨ C è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æˆ–å­—ç¬¦æ•°ç»„æœ€åéƒ½ä¼šæœ‰ä¸€ä¸ªé¢å¤–çš„å­—ç¬¦â€˜\0â€™æ¥è¡¨ç¤ºç»“æŸã€‚ä½†æ˜¯ï¼ŒJava è¯­è¨€ä¸­æ²¡æœ‰ç»“æŸç¬¦è¿™ä¸€æ¦‚å¿µã€‚</strong> è¿™æ˜¯ä¸€ä¸ªå€¼å¾—æ·±åº¦æ€è€ƒçš„é—®é¢˜ï¼Œå…·ä½“åŸå› æ¨èçœ‹è¿™ç¯‡æ–‡ç« ï¼š <a href="https://blog.csdn.net/sszgg2006/article/details/49148189">https://blog.csdn.net/sszgg2006/article/details/49148189</a></li>
</ul>
<blockquote>
<p>ä½œè€…ï¼šGuideå“¥ã€‚</p>
<p><strong>ä»‹ç»:</strong> Github 70k Star é¡¹ç›®  <strong><a href="https://github.com/Snailclimb/JavaGuide">JavaGuide</a></strong>ï¼ˆå…¬ä¼—å·åŒåï¼‰ ä½œè€…ã€‚æ¯å‘¨éƒ½ä¼šåœ¨å…¬ä¼—å·æ›´æ–°ä¸€äº›è‡ªå·±åŸåˆ›å¹²è´§ã€‚å…¬ä¼—å·åå°å›å¤â€œ1â€é¢†å–Javaå·¥ç¨‹å¸ˆå¿…å¤‡å­¦ä¹ èµ„æ–™+é¢è¯•çªå‡»pdfã€‚</p>
</blockquote>
<h3 id="6-ä»€ä¹ˆæ˜¯-Java-ç¨‹åºçš„ä¸»ç±»-åº”ç”¨ç¨‹åºå’Œå°ç¨‹åºçš„ä¸»ç±»æœ‰ä½•ä¸åŒ"><a href="#6-ä»€ä¹ˆæ˜¯-Java-ç¨‹åºçš„ä¸»ç±»-åº”ç”¨ç¨‹åºå’Œå°ç¨‹åºçš„ä¸»ç±»æœ‰ä½•ä¸åŒ" class="headerlink" title="6. ä»€ä¹ˆæ˜¯ Java ç¨‹åºçš„ä¸»ç±» åº”ç”¨ç¨‹åºå’Œå°ç¨‹åºçš„ä¸»ç±»æœ‰ä½•ä¸åŒ?"></a>6. ä»€ä¹ˆæ˜¯ Java ç¨‹åºçš„ä¸»ç±» åº”ç”¨ç¨‹åºå’Œå°ç¨‹åºçš„ä¸»ç±»æœ‰ä½•ä¸åŒ?</h3><p>ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥æœ‰å¤šä¸ªç±»ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªç±»æ˜¯ä¸»ç±»ã€‚åœ¨ Java åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™ä¸ªä¸»ç±»æ˜¯æŒ‡åŒ…å« mainï¼ˆï¼‰æ–¹æ³•çš„ç±»ã€‚è€Œåœ¨ Java å°ç¨‹åºä¸­ï¼Œè¿™ä¸ªä¸»ç±»æ˜¯ä¸€ä¸ªç»§æ‰¿è‡ªç³»ç»Ÿç±» JApplet æˆ– Applet çš„å­ç±»ã€‚åº”ç”¨ç¨‹åºçš„ä¸»ç±»ä¸ä¸€å®šè¦æ±‚æ˜¯ public ç±»ï¼Œä½†å°ç¨‹åºçš„ä¸»ç±»è¦æ±‚å¿…é¡»æ˜¯ public ç±»ã€‚ä¸»ç±»æ˜¯ Java ç¨‹åºæ‰§è¡Œçš„å…¥å£ç‚¹ã€‚</p>
<h3 id="7-Java-åº”ç”¨ç¨‹åºä¸å°ç¨‹åºä¹‹é—´æœ‰å“ªäº›å·®åˆ«"><a href="#7-Java-åº”ç”¨ç¨‹åºä¸å°ç¨‹åºä¹‹é—´æœ‰å“ªäº›å·®åˆ«" class="headerlink" title="7. Java åº”ç”¨ç¨‹åºä¸å°ç¨‹åºä¹‹é—´æœ‰å“ªäº›å·®åˆ«?"></a>7. Java åº”ç”¨ç¨‹åºä¸å°ç¨‹åºä¹‹é—´æœ‰å“ªäº›å·®åˆ«?</h3><p>ç®€å•è¯´åº”ç”¨ç¨‹åºæ˜¯ä»ä¸»çº¿ç¨‹å¯åŠ¨(ä¹Ÿå°±æ˜¯ <code>main()</code> æ–¹æ³•)ã€‚applet å°ç¨‹åºæ²¡æœ‰ <code>main()</code> æ–¹æ³•ï¼Œä¸»è¦æ˜¯åµŒåœ¨æµè§ˆå™¨é¡µé¢ä¸Šè¿è¡Œ(è°ƒç”¨<code>init()</code>æˆ–è€…<code>run()</code>æ¥å¯åŠ¨)ï¼ŒåµŒå…¥æµè§ˆå™¨è¿™ç‚¹è·Ÿ flash çš„å°æ¸¸æˆç±»ä¼¼ã€‚</p>
<h3 id="8-å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«"><a href="#8-å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«" class="headerlink" title="8. å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«?"></a>8. å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«?</h3><ol>
<li>å½¢å¼ä¸Š: å­—ç¬¦å¸¸é‡æ˜¯å•å¼•å·å¼•èµ·çš„ä¸€ä¸ªå­—ç¬¦; å­—ç¬¦ä¸²å¸¸é‡æ˜¯åŒå¼•å·å¼•èµ·çš„è‹¥å¹²ä¸ªå­—ç¬¦</li>
<li>å«ä¹‰ä¸Š: å­—ç¬¦å¸¸é‡ç›¸å½“äºä¸€ä¸ªæ•´å‹å€¼( ASCII å€¼),å¯ä»¥å‚åŠ è¡¨è¾¾å¼è¿ç®—; å­—ç¬¦ä¸²å¸¸é‡ä»£è¡¨ä¸€ä¸ªåœ°å€å€¼(è¯¥å­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­å­˜æ”¾ä½ç½®)</li>
<li>å å†…å­˜å¤§å° å­—ç¬¦å¸¸é‡åªå  2 ä¸ªå­—èŠ‚; å­—ç¬¦ä¸²å¸¸é‡å è‹¥å¹²ä¸ªå­—èŠ‚ (<strong>æ³¨æ„ï¼š char åœ¨ Java ä¸­å ä¸¤ä¸ªå­—èŠ‚</strong>)</li>
</ol>
<blockquote>
<p>java ç¼–ç¨‹æ€æƒ³ç¬¬å››ç‰ˆï¼š2.2.2 èŠ‚<br><img src="http://my-blog-to-use.oss-cn-beijing.aliyuncs.com/18-9-15/86735519.jpg" alt=""></p>
</blockquote>
<h3 id="9-æ„é€ å™¨-Constructor-æ˜¯å¦å¯è¢«-override"><a href="#9-æ„é€ å™¨-Constructor-æ˜¯å¦å¯è¢«-override" class="headerlink" title="9. æ„é€ å™¨ Constructor æ˜¯å¦å¯è¢« override?"></a>9. æ„é€ å™¨ Constructor æ˜¯å¦å¯è¢« override?</h3><p>Constructor ä¸èƒ½è¢« overrideï¼ˆé‡å†™ï¼‰,ä½†æ˜¯å¯ä»¥ overloadï¼ˆé‡è½½ï¼‰,æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç±»ä¸­æœ‰å¤šä¸ªæ„é€ å‡½æ•°çš„æƒ…å†µã€‚</p>
<h3 id="10-é‡è½½å’Œé‡å†™çš„åŒºåˆ«"><a href="#10-é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="headerlink" title="10. é‡è½½å’Œé‡å†™çš„åŒºåˆ«"></a>10. é‡è½½å’Œé‡å†™çš„åŒºåˆ«</h3><h4 id="é‡è½½"><a href="#é‡è½½" class="headerlink" title="é‡è½½"></a>é‡è½½</h4><p>å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åå¿…é¡»ç›¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒã€ä¸ªæ•°ä¸åŒã€é¡ºåºä¸åŒï¼Œæ–¹æ³•è¿”å›å€¼å’Œè®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚</p>
<p>ä¸‹é¢æ˜¯ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ã€‹å¯¹é‡è½½è¿™ä¸ªæ¦‚å¿µçš„ä»‹ç»ï¼š</p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/bg/desktopjava%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E9%87%8D%E8%BD%BD.jpg" alt=""></p>
<h4 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h4><p>é‡å†™æ˜¯å­ç±»å¯¹çˆ¶ç±»çš„å…è®¸è®¿é—®çš„æ–¹æ³•çš„å®ç°è¿‡ç¨‹è¿›è¡Œé‡æ–°ç¼–å†™,å‘ç”Ÿåœ¨å­ç±»ä¸­ï¼Œæ–¹æ³•åã€å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒï¼Œè¿”å›å€¼èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºç­‰äºçˆ¶ç±»ã€‚å¦å¤–ï¼Œå¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º private åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ã€‚<strong>ä¹Ÿå°±æ˜¯è¯´æ–¹æ³•æä¾›çš„è¡Œä¸ºæ”¹å˜ï¼Œè€Œæ–¹æ³•çš„å¤–è²Œå¹¶æ²¡æœ‰æ”¹å˜ã€‚</strong></p>
<h3 id="11-Java-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§-å°è£…-ç»§æ‰¿-å¤šæ€"><a href="#11-Java-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§-å°è£…-ç»§æ‰¿-å¤šæ€" class="headerlink" title="11. Java é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§: å°è£… ç»§æ‰¿ å¤šæ€"></a>11. Java é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§: å°è£… ç»§æ‰¿ å¤šæ€</h3><h4 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h4><p>å°è£…æŠŠä¸€ä¸ªå¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ŒåŒæ—¶æä¾›ä¸€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„å±æ€§çš„æ–¹æ³•ï¼Œå¦‚æœå±æ€§ä¸æƒ³è¢«å¤–ç•Œè®¿é—®ï¼Œæˆ‘ä»¬å¤§å¯ä¸å¿…æä¾›æ–¹æ³•ç»™å¤–ç•Œè®¿é—®ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æä¾›ç»™å¤–ç•Œè®¿é—®çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚</p>
<h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>ç»§æ‰¿æ˜¯ä½¿ç”¨å·²å­˜åœ¨çš„ç±»çš„å®šä¹‰ä½œä¸ºåŸºç¡€å»ºç«‹æ–°ç±»çš„æŠ€æœ¯ï¼Œæ–°ç±»çš„å®šä¹‰å¯ä»¥å¢åŠ æ–°çš„æ•°æ®æˆ–æ–°çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½é€‰æ‹©æ€§åœ°ç»§æ‰¿çˆ¶ç±»ã€‚é€šè¿‡ä½¿ç”¨ç»§æ‰¿æˆ‘ä»¬èƒ½å¤Ÿéå¸¸æ–¹ä¾¿åœ°å¤ç”¨ä»¥å‰çš„ä»£ç ã€‚</p>
<p><strong>å…³äºç»§æ‰¿å¦‚ä¸‹ 3 ç‚¹è¯·è®°ä½ï¼š</strong></p>
<ol>
<li>å­ç±»æ‹¥æœ‰çˆ¶ç±»å¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯çˆ¶ç±»ä¸­çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•å­ç±»æ˜¯æ— æ³•è®¿é—®ï¼Œ<strong>åªæ˜¯æ‹¥æœ‰</strong>ã€‚</li>
<li>å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±å±æ€§å’Œæ–¹æ³•ï¼Œå³å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•ã€‚</li>
<li>å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚ï¼ˆä»¥åä»‹ç»ï¼‰ã€‚</li>
</ol>
<h4 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h4><p>æ‰€è°“å¤šæ€å°±æ˜¯æŒ‡ç¨‹åºä¸­å®šä¹‰çš„å¼•ç”¨å˜é‡æ‰€æŒ‡å‘çš„å…·ä½“ç±»å‹å’Œé€šè¿‡è¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åœ¨ç¼–ç¨‹æ—¶å¹¶ä¸ç¡®å®šï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰ç¡®å®šï¼Œå³ä¸€ä¸ªå¼•ç”¨å˜é‡åˆ°åº•ä¼šæŒ‡å‘å“ªä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åˆ°åº•æ˜¯å“ªä¸ªç±»ä¸­å®ç°çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç”±ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½å†³å®šã€‚</p>
<p>åœ¨ Java ä¸­æœ‰ä¸¤ç§å½¢å¼å¯ä»¥å®ç°å¤šæ€ï¼šç»§æ‰¿ï¼ˆå¤šä¸ªå­ç±»å¯¹åŒä¸€æ–¹æ³•çš„é‡å†™ï¼‰å’Œæ¥å£ï¼ˆå®ç°æ¥å£å¹¶è¦†ç›–æ¥å£ä¸­åŒä¸€æ–¹æ³•ï¼‰ã€‚</p>
<h3 id="12-String-StringBuffer-å’Œ-StringBuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ-String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„"><a href="#12-String-StringBuffer-å’Œ-StringBuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ-String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„" class="headerlink" title="12. String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ? String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?"></a>12. String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ? String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?</h3><p><strong>å¯å˜æ€§</strong></p>
<p>ç®€å•çš„æ¥è¯´ï¼šString ç±»ä¸­ä½¿ç”¨ final å…³é”®å­—ä¿®é¥°å­—ç¬¦æ•°ç»„æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œ<code>private final char value[]</code>ï¼Œæ‰€ä»¥ String å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚</p>
<blockquote>
<p>è¡¥å……ï¼ˆæ¥è‡ª<a href="https://github.com/Snailclimb/JavaGuide/issues/675">issue 675</a>ï¼‰ï¼šåœ¨ Java 9 ä¹‹åï¼ŒString ç±»çš„å®ç°æ”¹ç”¨ byte æ•°ç»„å­˜å‚¨å­—ç¬¦ä¸² <code>private final byte[] value</code></p>
</blockquote>
<p>è€Œ StringBuilder ä¸ StringBuffer éƒ½ç»§æ‰¿è‡ª AbstractStringBuilder ç±»ï¼Œåœ¨ AbstractStringBuilder ä¸­ä¹Ÿæ˜¯ä½¿ç”¨å­—ç¬¦æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²<code>char[]value</code> ä½†æ˜¯æ²¡æœ‰ç”¨ final å…³é”®å­—ä¿®é¥°ï¼Œæ‰€ä»¥è¿™ä¸¤ç§å¯¹è±¡éƒ½æ˜¯å¯å˜çš„ã€‚</p>
<p>StringBuilder ä¸ StringBuffer çš„æ„é€ æ–¹æ³•éƒ½æ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ä¹Ÿå°±æ˜¯ AbstractStringBuilder å®ç°çš„ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æºç ã€‚</p>
<p><code>AbstractStringBuilder.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractStringBuilder</span> <span class="keyword">implements</span> <span class="title">Appendable</span>, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The value is used for character storage.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">char</span>[] value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The count is the number of characters used.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line"></span><br><span class="line">    AbstractStringBuilder(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        value = <span class="keyword">new</span> <span class="keyword">char</span>[capacity];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>çº¿ç¨‹å®‰å…¨æ€§</strong></p>
<p>String ä¸­çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£ä¸ºå¸¸é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚AbstractStringBuilder æ˜¯ StringBuilder ä¸ StringBuffer çš„å…¬å…±çˆ¶ç±»ï¼Œå®šä¹‰äº†ä¸€äº›å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œï¼Œå¦‚ expandCapacityã€appendã€insertã€indexOf ç­‰å…¬å…±æ–¹æ³•ã€‚StringBuffer å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚StringBuilder å¹¶æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡ŒåŠ åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p><strong>æ€§èƒ½</strong></p>
<p>æ¯æ¬¡å¯¹ String ç±»å‹è¿›è¡Œæ”¹å˜çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ String å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ String å¯¹è±¡ã€‚StringBuffer æ¯æ¬¡éƒ½ä¼šå¯¹ StringBuffer å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ã€‚ç›¸åŒæƒ…å†µä¸‹ä½¿ç”¨ StringBuilder ç›¸æ¯”ä½¿ç”¨ StringBuffer ä»…èƒ½è·å¾— 10%~15% å·¦å³çš„æ€§èƒ½æå‡ï¼Œä½†å´è¦å†’å¤šçº¿ç¨‹ä¸å®‰å…¨çš„é£é™©ã€‚</p>
<p><strong>å¯¹äºä¸‰è€…ä½¿ç”¨çš„æ€»ç»“ï¼š</strong></p>
<ol>
<li>æ“ä½œå°‘é‡çš„æ•°æ®: é€‚ç”¨ String</li>
<li>å•çº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ StringBuilder</li>
<li>å¤šçº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ StringBuffer</li>
</ol>
<h3 id="13-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"><a href="#13-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±" class="headerlink" title="13. è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"></a>13. è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h3><ul>
<li><strong>è£…ç®±</strong>ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›</li>
<li><strong>æ‹†ç®±</strong>ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›</li>
</ul>
<p>æ›´å¤šå†…å®¹è§ï¼š<a href="https://www.cnblogs.com/dolphin0520/p/3780005.html">æ·±å…¥å‰–æJavaä¸­çš„è£…ç®±å’Œæ‹†ç®±</a></p>
<h3 id="14-åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„"><a href="#14-åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„" class="headerlink" title="14. åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„?"></a>14. åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„?</h3><p>ç”±äºé™æ€æ–¹æ³•å¯ä»¥ä¸é€šè¿‡å¯¹è±¡è¿›è¡Œè°ƒç”¨ï¼Œå› æ­¤åœ¨é™æ€æ–¹æ³•é‡Œï¼Œä¸èƒ½è°ƒç”¨å…¶ä»–éé™æ€å˜é‡ï¼Œä¹Ÿä¸å¯ä»¥è®¿é—®éé™æ€å˜é‡æˆå‘˜ã€‚</p>
<h3 id="15-åœ¨-Java-ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨"><a href="#15-åœ¨-Java-ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨" class="headerlink" title="15. åœ¨ Java ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨"></a>15. åœ¨ Java ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨</h3><p>Java ç¨‹åºåœ¨æ‰§è¡Œå­ç±»çš„æ„é€ æ–¹æ³•ä¹‹å‰ï¼Œå¦‚æœæ²¡æœ‰ç”¨ <code>super()</code>æ¥è°ƒç”¨çˆ¶ç±»ç‰¹å®šçš„æ„é€ æ–¹æ³•ï¼Œåˆ™ä¼šè°ƒç”¨çˆ¶ç±»ä¸­â€œæ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•â€ã€‚å› æ­¤ï¼Œå¦‚æœçˆ¶ç±»ä¸­åªå®šä¹‰äº†æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œè€Œåœ¨å­ç±»çš„æ„é€ æ–¹æ³•ä¸­åˆæ²¡æœ‰ç”¨ <code>super()</code>æ¥è°ƒç”¨çˆ¶ç±»ä¸­ç‰¹å®šçš„æ„é€ æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘æ—¶å°†å‘ç”Ÿé”™è¯¯ï¼Œå› ä¸º Java ç¨‹åºåœ¨çˆ¶ç±»ä¸­æ‰¾ä¸åˆ°æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•å¯ä¾›æ‰§è¡Œã€‚è§£å†³åŠæ³•æ˜¯åœ¨çˆ¶ç±»é‡ŒåŠ ä¸Šä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚</p>
<h3 id="16-import-java-å’Œ-javax-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#16-import-java-å’Œ-javax-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="16. import java å’Œ javax æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>16. import java å’Œ javax æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>åˆšå¼€å§‹çš„æ—¶å€™ JavaAPI æ‰€å¿…éœ€çš„åŒ…æ˜¯ java å¼€å¤´çš„åŒ…ï¼Œjavax å½“æ—¶åªæ˜¯æ‰©å±• API åŒ…æ¥ä½¿ç”¨ã€‚ç„¶è€Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œjavax é€æ¸åœ°æ‰©å±•æˆä¸º Java API çš„ç»„æˆéƒ¨åˆ†ã€‚ä½†æ˜¯ï¼Œå°†æ‰©å±•ä» javax åŒ…ç§»åŠ¨åˆ° java åŒ…ç¡®å®å¤ªéº»çƒ¦äº†ï¼Œæœ€ç»ˆä¼šç ´åä¸€å †ç°æœ‰çš„ä»£ç ã€‚å› æ­¤ï¼Œæœ€ç»ˆå†³å®š javax åŒ…å°†æˆä¸ºæ ‡å‡† API çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ‰€ä»¥ï¼Œå®é™…ä¸Š java å’Œ javax æ²¡æœ‰åŒºåˆ«ã€‚è¿™éƒ½æ˜¯ä¸€ä¸ªåå­—ã€‚</p>
<h3 id="17-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#17-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="17. æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>17. æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ol>
<li>æ¥å£çš„æ–¹æ³•é»˜è®¤æ˜¯ publicï¼Œæ‰€æœ‰æ–¹æ³•åœ¨æ¥å£ä¸­ä¸èƒ½æœ‰å®ç°(Java 8 å¼€å§‹æ¥å£æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥æœ‰éæŠ½è±¡çš„æ–¹æ³•ã€‚</li>
<li>æ¥å£ä¸­é™¤äº† staticã€final å˜é‡ï¼Œä¸èƒ½æœ‰å…¶ä»–å˜é‡ï¼Œè€ŒæŠ½è±¡ç±»ä¸­åˆ™ä¸ä¸€å®šã€‚</li>
<li>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½å®ç°ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æ¥å£è‡ªå·±æœ¬èº«å¯ä»¥é€šè¿‡ extends å…³é”®å­—æ‰©å±•å¤šä¸ªæ¥å£ã€‚</li>
<li>æ¥å£æ–¹æ³•é»˜è®¤ä¿®é¥°ç¬¦æ˜¯ publicï¼ŒæŠ½è±¡æ–¹æ³•å¯ä»¥æœ‰ publicã€protected å’Œ default è¿™äº›ä¿®é¥°ç¬¦ï¼ˆæŠ½è±¡æ–¹æ³•å°±æ˜¯ä¸ºäº†è¢«é‡å†™æ‰€ä»¥ä¸èƒ½ä½¿ç”¨ private å…³é”®å­—ä¿®é¥°ï¼ï¼‰ã€‚</li>
<li>ä»è®¾è®¡å±‚é¢æ¥è¯´ï¼ŒæŠ½è±¡æ˜¯å¯¹ç±»çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿è®¾è®¡ï¼Œè€Œæ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§è¡Œä¸ºçš„è§„èŒƒã€‚</li>
</ol>
<blockquote>
<p>å¤‡æ³¨ï¼š</p>
<ol>
<li>åœ¨ JDK8 ä¸­ï¼Œæ¥å£ä¹Ÿå¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥å£åè°ƒç”¨ã€‚å®ç°ç±»å’Œå®ç°æ˜¯ä¸å¯ä»¥è°ƒç”¨çš„ã€‚å¦‚æœåŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£ï¼Œæ¥å£ä¸­å®šä¹‰äº†ä¸€æ ·çš„é»˜è®¤æ–¹æ³•ï¼Œåˆ™å¿…é¡»é‡å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚(è¯¦è§ issue:<a href="https://github.com/Snailclimb/JavaGuide/issues/146">https://github.com/Snailclimb/JavaGuide/issues/146</a>ã€‚</li>
<li>jdk9 çš„æ¥å£è¢«å…è®¸å®šä¹‰ç§æœ‰æ–¹æ³• ã€‚</li>
</ol>
</blockquote>
<p>æ€»ç»“ä¸€ä¸‹ jdk7~jdk9 Java ä¸­æ¥å£æ¦‚å¿µçš„å˜åŒ–ï¼ˆ<a href="https://www.geeksforgeeks.org/private-methods-java-9-interfaces/">ç›¸å…³é˜…è¯»</a>ï¼‰ï¼š</p>
<ol>
<li>åœ¨ jdk 7 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­ï¼Œæ¥å£é‡Œé¢åªèƒ½æœ‰å¸¸é‡å˜é‡å’ŒæŠ½è±¡æ–¹æ³•ã€‚è¿™äº›æ¥å£æ–¹æ³•å¿…é¡»ç”±é€‰æ‹©å®ç°æ¥å£çš„ç±»å®ç°ã€‚</li>
<li>jdk8 çš„æ—¶å€™æ¥å£å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•åŠŸèƒ½ã€‚</li>
<li>Jdk 9 åœ¨æ¥å£ä¸­å¼•å…¥äº†ç§æœ‰æ–¹æ³•å’Œç§æœ‰é™æ€æ–¹æ³•ã€‚</li>
</ol>
<h3 id="18-æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ"><a href="#18-æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="18. æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ"></a>18. æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</h3><ol>
<li>ä»è¯­æ³•å½¢å¼ä¸Šçœ‹:æˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œè€Œå±€éƒ¨å˜é‡æ˜¯åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡æˆ–æ˜¯æ–¹æ³•çš„å‚æ•°ï¼›æˆå‘˜å˜é‡å¯ä»¥è¢« public,private,static ç­‰ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œè€Œå±€éƒ¨å˜é‡ä¸èƒ½è¢«è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åŠ static æ‰€ä¿®é¥°ï¼›ä½†æ˜¯ï¼Œæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½èƒ½è¢« final æ‰€ä¿®é¥°ã€‚</li>
<li>ä»å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼æ¥çœ‹:å¦‚æœæˆå‘˜å˜é‡æ˜¯ä½¿ç”¨<code>static</code>ä¿®é¥°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨<code>static</code>ä¿®é¥°ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºå®ä¾‹çš„ã€‚è€Œå¯¹è±¡å­˜åœ¨äºå †å†…å­˜ï¼Œå±€éƒ¨å˜é‡åˆ™å­˜åœ¨äºæ ˆå†…å­˜ã€‚</li>
<li>ä»å˜é‡åœ¨å†…å­˜ä¸­çš„ç”Ÿå­˜æ—¶é—´ä¸Šçœ‹:æˆå‘˜å˜é‡æ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒéšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨ï¼Œè€Œå±€éƒ¨å˜é‡éšç€æ–¹æ³•çš„è°ƒç”¨è€Œè‡ªåŠ¨æ¶ˆå¤±ã€‚</li>
<li>æˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰è¢«èµ‹åˆå€¼:åˆ™ä¼šè‡ªåŠ¨ä»¥ç±»å‹çš„é»˜è®¤å€¼è€Œèµ‹å€¼ï¼ˆä¸€ç§æƒ…å†µä¾‹å¤–:è¢« final ä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¾å¼åœ°èµ‹å€¼ï¼‰ï¼Œè€Œå±€éƒ¨å˜é‡åˆ™ä¸ä¼šè‡ªåŠ¨èµ‹å€¼ã€‚</li>
</ol>
<h3 id="19-åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦-å¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒ"><a href="#19-åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦-å¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒ" class="headerlink" title="19. åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦?å¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒ?"></a>19. åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦?å¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒ?</h3><p>new è¿ç®—ç¬¦ï¼Œnew åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼ˆå¯¹è±¡å®ä¾‹åœ¨å †å†…å­˜ä¸­ï¼‰ï¼Œå¯¹è±¡å¼•ç”¨æŒ‡å‘å¯¹è±¡å®ä¾‹ï¼ˆå¯¹è±¡å¼•ç”¨å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼‰ã€‚ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¯ä»¥æŒ‡å‘ 0 ä¸ªæˆ– 1 ä¸ªå¯¹è±¡ï¼ˆä¸€æ ¹ç»³å­å¯ä»¥ä¸ç³»æ°”çƒï¼Œä¹Ÿå¯ä»¥ç³»ä¸€ä¸ªæ°”çƒï¼‰;ä¸€ä¸ªå¯¹è±¡å¯ä»¥æœ‰ n ä¸ªå¼•ç”¨æŒ‡å‘å®ƒï¼ˆå¯ä»¥ç”¨ n æ¡ç»³å­ç³»ä½ä¸€ä¸ªæ°”çƒï¼‰ã€‚</p>
<h3 id="20-ä»€ä¹ˆæ˜¯æ–¹æ³•çš„è¿”å›å€¼-è¿”å›å€¼åœ¨ç±»çš„æ–¹æ³•é‡Œçš„ä½œç”¨æ˜¯ä»€ä¹ˆ"><a href="#20-ä»€ä¹ˆæ˜¯æ–¹æ³•çš„è¿”å›å€¼-è¿”å›å€¼åœ¨ç±»çš„æ–¹æ³•é‡Œçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="20. ä»€ä¹ˆæ˜¯æ–¹æ³•çš„è¿”å›å€¼?è¿”å›å€¼åœ¨ç±»çš„æ–¹æ³•é‡Œçš„ä½œç”¨æ˜¯ä»€ä¹ˆ?"></a>20. ä»€ä¹ˆæ˜¯æ–¹æ³•çš„è¿”å›å€¼?è¿”å›å€¼åœ¨ç±»çš„æ–¹æ³•é‡Œçš„ä½œç”¨æ˜¯ä»€ä¹ˆ?</h3><p>æ–¹æ³•çš„è¿”å›å€¼æ˜¯æŒ‡æˆ‘ä»¬è·å–åˆ°çš„æŸä¸ªæ–¹æ³•ä½“ä¸­çš„ä»£ç æ‰§è¡Œåäº§ç”Ÿçš„ç»“æœï¼ï¼ˆå‰ææ˜¯è¯¥æ–¹æ³•å¯èƒ½äº§ç”Ÿç»“æœï¼‰ã€‚è¿”å›å€¼çš„ä½œç”¨:æ¥æ”¶å‡ºç»“æœï¼Œä½¿å¾—å®ƒå¯ä»¥ç”¨äºå…¶ä»–çš„æ“ä½œï¼</p>
<h3 id="21-ä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-è‹¥ä¸€ä¸ªç±»æ²¡æœ‰å£°æ˜æ„é€ æ–¹æ³•ï¼Œè¯¥ç¨‹åºèƒ½æ­£ç¡®æ‰§è¡Œå—-ä¸ºä»€ä¹ˆ"><a href="#21-ä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆ-è‹¥ä¸€ä¸ªç±»æ²¡æœ‰å£°æ˜æ„é€ æ–¹æ³•ï¼Œè¯¥ç¨‹åºèƒ½æ­£ç¡®æ‰§è¡Œå—-ä¸ºä»€ä¹ˆ" class="headerlink" title="21. ä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆ? è‹¥ä¸€ä¸ªç±»æ²¡æœ‰å£°æ˜æ„é€ æ–¹æ³•ï¼Œè¯¥ç¨‹åºèƒ½æ­£ç¡®æ‰§è¡Œå—? ä¸ºä»€ä¹ˆ?"></a>21. ä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆ? è‹¥ä¸€ä¸ªç±»æ²¡æœ‰å£°æ˜æ„é€ æ–¹æ³•ï¼Œè¯¥ç¨‹åºèƒ½æ­£ç¡®æ‰§è¡Œå—? ä¸ºä»€ä¹ˆ?</h3><p>ä¸»è¦ä½œç”¨æ˜¯å®Œæˆå¯¹ç±»å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œã€‚å¯ä»¥æ‰§è¡Œã€‚å› ä¸ºä¸€ä¸ªç±»å³ä½¿æ²¡æœ‰å£°æ˜æ„é€ æ–¹æ³•ä¹Ÿä¼šæœ‰é»˜è®¤çš„ä¸å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚</p>
<h3 id="22-æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ"><a href="#22-æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ" class="headerlink" title="22. æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ"></a>22. æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</h3><ol>
<li>åå­—ä¸ç±»åç›¸åŒã€‚</li>
<li>æ²¡æœ‰è¿”å›å€¼ï¼Œä½†ä¸èƒ½ç”¨ void å£°æ˜æ„é€ å‡½æ•°ã€‚</li>
<li>ç”Ÿæˆç±»çš„å¯¹è±¡æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œæ— éœ€è°ƒç”¨ã€‚</li>
</ol>
<h3 id="23-é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä½•ä¸åŒ"><a href="#23-é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä½•ä¸åŒ" class="headerlink" title="23. é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä½•ä¸åŒ"></a>23. é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä½•ä¸åŒ</h3><ol>
<li><p>åœ¨å¤–éƒ¨è°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨â€ç±»å.æ–¹æ³•åâ€çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€å¯¹è±¡å.æ–¹æ³•åâ€çš„æ–¹å¼ã€‚è€Œå®ä¾‹æ–¹æ³•åªæœ‰åé¢è¿™ç§æ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨é™æ€æ–¹æ³•å¯ä»¥æ— éœ€åˆ›å»ºå¯¹è±¡ã€‚</p>
</li>
<li><p>é™æ€æ–¹æ³•åœ¨è®¿é—®æœ¬ç±»çš„æˆå‘˜æ—¶ï¼Œåªå…è®¸è®¿é—®é™æ€æˆå‘˜ï¼ˆå³é™æ€æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•ï¼‰ï¼Œè€Œä¸å…è®¸è®¿é—®å®ä¾‹æˆå‘˜å˜é‡å’Œå®ä¾‹æ–¹æ³•ï¼›å®ä¾‹æ–¹æ³•åˆ™æ— æ­¤é™åˆ¶ã€‚</p>
</li>
</ol>
<h3 id="24-å¯¹è±¡çš„ç›¸ç­‰ä¸æŒ‡å‘ä»–ä»¬çš„å¼•ç”¨ç›¸ç­‰-ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒ"><a href="#24-å¯¹è±¡çš„ç›¸ç­‰ä¸æŒ‡å‘ä»–ä»¬çš„å¼•ç”¨ç›¸ç­‰-ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="24. å¯¹è±¡çš„ç›¸ç­‰ä¸æŒ‡å‘ä»–ä»¬çš„å¼•ç”¨ç›¸ç­‰,ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒ?"></a>24. å¯¹è±¡çš„ç›¸ç­‰ä¸æŒ‡å‘ä»–ä»¬çš„å¼•ç”¨ç›¸ç­‰,ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒ?</h3><p>å¯¹è±¡çš„ç›¸ç­‰ï¼Œæ¯”çš„æ˜¯å†…å­˜ä¸­å­˜æ”¾çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚è€Œå¼•ç”¨ç›¸ç­‰ï¼Œæ¯”è¾ƒçš„æ˜¯ä»–ä»¬æŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚</p>
<h3 id="25-åœ¨è°ƒç”¨å­ç±»æ„é€ æ–¹æ³•ä¹‹å‰ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•-å…¶ç›®çš„æ˜¯"><a href="#25-åœ¨è°ƒç”¨å­ç±»æ„é€ æ–¹æ³•ä¹‹å‰ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•-å…¶ç›®çš„æ˜¯" class="headerlink" title="25. åœ¨è°ƒç”¨å­ç±»æ„é€ æ–¹æ³•ä¹‹å‰ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•,å…¶ç›®çš„æ˜¯?"></a>25. åœ¨è°ƒç”¨å­ç±»æ„é€ æ–¹æ³•ä¹‹å‰ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•,å…¶ç›®çš„æ˜¯?</h3><p>å¸®åŠ©å­ç±»åšåˆå§‹åŒ–å·¥ä½œã€‚</p>
<h3 id="26-ä¸-equals-é‡è¦"><a href="#26-ä¸-equals-é‡è¦" class="headerlink" title="26. == ä¸ equals(é‡è¦)"></a>26. == ä¸ equals(é‡è¦)</h3><p><strong>==</strong> : å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡(åŸºæœ¬æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)ã€‚</p>
<p><strong>equals()</strong> : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š</p>
<ul>
<li>æƒ…å†µ 1ï¼šç±»æ²¡æœ‰è¦†ç›– equals() æ–¹æ³•ã€‚åˆ™é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚</li>
<li>æƒ…å†µ 2ï¼šç±»è¦†ç›–äº† equals() æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– equals() æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true (å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚</li>
</ul>
<p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String a = <span class="keyword">new</span> String(<span class="string">"ab"</span>); <span class="comment">// a ä¸ºä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line">        String b = <span class="keyword">new</span> String(<span class="string">"ab"</span>); <span class="comment">// bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·</span></span><br><span class="line">        String aa = <span class="string">"ab"</span>; <span class="comment">// æ”¾åœ¨å¸¸é‡æ± ä¸­</span></span><br><span class="line">        String bb = <span class="string">"ab"</span>; <span class="comment">// ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾</span></span><br><span class="line">        <span class="keyword">if</span> (aa == bb) <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">"aa==bb"</span>);</span><br><span class="line">        <span class="keyword">if</span> (a == b) <span class="comment">// falseï¼ŒéåŒä¸€å¯¹è±¡</span></span><br><span class="line">            System.out.println(<span class="string">"a==b"</span>);</span><br><span class="line">        <span class="keyword">if</span> (a.equals(b)) <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">"aEQb"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">42</span> == <span class="number">42.0</span>) &#123; <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">"true"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>String ä¸­çš„ equals æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º object çš„ equals æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ String çš„ equals æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚</li>
<li>å½“åˆ›å»º String ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª String å¯¹è±¡ã€‚</li>
</ul>
<h3 id="27-hashCode-ä¸-equals-é‡è¦"><a href="#27-hashCode-ä¸-equals-é‡è¦" class="headerlink" title="27. hashCode ä¸ equals (é‡è¦)"></a>27. hashCode ä¸ equals (é‡è¦)</h3><p>é¢è¯•å®˜å¯èƒ½ä¼šé—®ä½ ï¼šâ€œä½ é‡å†™è¿‡ hashcode å’Œ equals ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode æ–¹æ³•ï¼Ÿâ€</p>
<h4 id="hashCodeï¼ˆï¼‰ä»‹ç»"><a href="#hashCodeï¼ˆï¼‰ä»‹ç»" class="headerlink" title="hashCodeï¼ˆï¼‰ä»‹ç»"></a>hashCodeï¼ˆï¼‰ä»‹ç»</h4><p>hashCode() çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ª int æ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚hashCode() å®šä¹‰åœ¨ JDK çš„ Object.java ä¸­ï¼Œè¿™å°±æ„å‘³ç€ Java ä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰ hashCode() å‡½æ•°ã€‚</p>
<p>æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰</p>
<h4 id="ä¸ºä»€ä¹ˆè¦æœ‰-hashCode"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰-hashCode" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰ hashCode"></a>ä¸ºä»€ä¹ˆè¦æœ‰ hashCode</h4><p><strong>æˆ‘ä»¬å…ˆä»¥â€œHashSet å¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼š</strong> å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ HashSet æ—¶ï¼ŒHashSet ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ hashcode å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸è¯¥ä½ç½®å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ hashcode å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„ hashcodeï¼ŒHashSet ä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ hashcode å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ <code>equals()</code>æ–¹æ³•æ¥æ£€æŸ¥ hashcode ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSet å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚ï¼ˆæ‘˜è‡ªæˆ‘çš„ Java å¯è’™ä¹¦ã€ŠHead first javaã€‹ç¬¬äºŒç‰ˆï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† equals çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚</p>
<p>é€šè¿‡æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š<code>hashCode()</code> çš„ä½œç”¨å°±æ˜¯<strong>è·å–å“ˆå¸Œç </strong>ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ª int æ•´æ•°ã€‚è¿™ä¸ª<strong>å“ˆå¸Œç çš„ä½œç”¨</strong>æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚<strong><code>hashCode()</code>åœ¨æ•£åˆ—è¡¨ä¸­æ‰æœ‰ç”¨ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹æ²¡ç”¨</strong>ã€‚åœ¨æ•£åˆ—è¡¨ä¸­ hashCode() çš„ä½œç”¨æ˜¯è·å–å¯¹è±¡çš„æ•£åˆ—ç ï¼Œè¿›è€Œç¡®å®šè¯¥å¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ã€‚</p>
<h4 id="hashCodeï¼ˆï¼‰ä¸-equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š"><a href="#hashCodeï¼ˆï¼‰ä¸-equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š" class="headerlink" title="hashCodeï¼ˆï¼‰ä¸ equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š"></a>hashCodeï¼ˆï¼‰ä¸ equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š</h4><ol>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode ä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„</li>
<li>ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨ equals æ–¹æ³•éƒ½è¿”å› true</li>
<li>ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„</li>
<li><strong>å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–</strong></li>
<li>hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode()ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰</li>
</ol>
<p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/skywang12345/p/3324958.html">Java hashCode() å’Œ equals()çš„è‹¥å¹²é—®é¢˜è§£ç­”</a></p>
<h3 id="28-ä¸ºä»€ä¹ˆ-Java-ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"><a href="#28-ä¸ºä»€ä¹ˆ-Java-ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ" class="headerlink" title="28. ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"></a>28. ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ</h3><p><a href="https://juejin.im/post/5e18879e6fb9a02fc63602e2">ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ</a></p>
<h3 id="29-ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ"><a href="#29-ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ" class="headerlink" title="29. ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ?"></a>29. ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ?</h3><p><strong>çº¿ç¨‹</strong>ä¸è¿›ç¨‹ç›¸ä¼¼ï¼Œä½†çº¿ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¿›ç¨‹æ›´å°çš„æ‰§è¡Œå•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹åœ¨å…¶æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¯ä»¥äº§ç”Ÿå¤šä¸ªçº¿ç¨‹ã€‚ä¸è¿›ç¨‹ä¸åŒçš„æ˜¯åŒç±»çš„å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€å—å†…å­˜ç©ºé—´å’Œä¸€ç»„ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥ç³»ç»Ÿåœ¨äº§ç”Ÿä¸€ä¸ªçº¿ç¨‹ï¼Œæˆ–æ˜¯åœ¨å„ä¸ªçº¿ç¨‹ä¹‹é—´ä½œåˆ‡æ¢å·¥ä½œæ—¶ï¼Œè´Ÿæ‹…è¦æ¯”è¿›ç¨‹å°å¾—å¤šï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œçº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºè½»é‡çº§è¿›ç¨‹ã€‚</p>
<p><strong>ç¨‹åº</strong>æ˜¯å«æœ‰æŒ‡ä»¤å’Œæ•°æ®çš„æ–‡ä»¶ï¼Œè¢«å­˜å‚¨åœ¨ç£ç›˜æˆ–å…¶ä»–çš„æ•°æ®å­˜å‚¨è®¾å¤‡ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ç¨‹åºæ˜¯é™æ€çš„ä»£ç ã€‚</p>
<p><strong>è¿›ç¨‹</strong>æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œç¨‹åºçš„åŸºæœ¬å•ä½ï¼Œå› æ­¤è¿›ç¨‹æ˜¯åŠ¨æ€çš„ã€‚ç³»ç»Ÿè¿è¡Œä¸€ä¸ªç¨‹åºå³æ˜¯ä¸€ä¸ªè¿›ç¨‹ä»åˆ›å»ºï¼Œè¿è¡Œåˆ°æ¶ˆäº¡çš„è¿‡ç¨‹ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªæ‰§è¡Œä¸­çš„ç¨‹åºï¼Œå®ƒåœ¨è®¡ç®—æœºä¸­ä¸€ä¸ªæŒ‡ä»¤æ¥ç€ä¸€ä¸ªæŒ‡ä»¤åœ°æ‰§è¡Œç€ï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªè¿›ç¨‹è¿˜å æœ‰æŸäº›ç³»ç»Ÿèµ„æºå¦‚ CPU æ—¶é—´ï¼Œå†…å­˜ç©ºé—´ï¼Œæ–‡ä»¶ï¼Œè¾“å…¥è¾“å‡ºè®¾å¤‡çš„ä½¿ç”¨æƒç­‰ç­‰ã€‚æ¢å¥è¯è¯´ï¼Œå½“ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†ä¼šè¢«æ“ä½œç³»ç»Ÿè½½å…¥å†…å­˜ä¸­ã€‚<br>çº¿ç¨‹æ˜¯è¿›ç¨‹åˆ’åˆ†æˆçš„æ›´å°çš„è¿è¡Œå•ä½ã€‚çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚ä»å¦ä¸€è§’åº¦æ¥è¯´ï¼Œè¿›ç¨‹å±äºæ“ä½œç³»ç»Ÿçš„èŒƒç•´ï¼Œä¸»è¦æ˜¯åŒä¸€æ®µæ—¶é—´å†…ï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œä¸€ä¸ªä»¥ä¸Šçš„ç¨‹åºï¼Œè€Œçº¿ç¨‹åˆ™æ˜¯åœ¨åŒä¸€ç¨‹åºå†…å‡ ä¹åŒæ—¶æ‰§è¡Œä¸€ä¸ªä»¥ä¸Šçš„ç¨‹åºæ®µã€‚</p>
<h3 id="30-çº¿ç¨‹æœ‰å“ªäº›åŸºæœ¬çŠ¶æ€"><a href="#30-çº¿ç¨‹æœ‰å“ªäº›åŸºæœ¬çŠ¶æ€" class="headerlink" title="30. çº¿ç¨‹æœ‰å“ªäº›åŸºæœ¬çŠ¶æ€?"></a>30. çº¿ç¨‹æœ‰å“ªäº›åŸºæœ¬çŠ¶æ€?</h3><p>Java çº¿ç¨‹åœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­çš„æŒ‡å®šæ—¶åˆ»åªå¯èƒ½å¤„äºä¸‹é¢ 6 ç§ä¸åŒçŠ¶æ€çš„å…¶ä¸­ä¸€ä¸ªçŠ¶æ€ï¼ˆå›¾æºã€ŠJava å¹¶å‘ç¼–ç¨‹è‰ºæœ¯ã€‹4.1.4 èŠ‚ï¼‰ã€‚</p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/19-1-29/Java%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81.png" alt="Javaçº¿ç¨‹çš„çŠ¶æ€"></p>
<p>çº¿ç¨‹åœ¨ç”Ÿå‘½å‘¨æœŸä¸­å¹¶ä¸æ˜¯å›ºå®šå¤„äºæŸä¸€ä¸ªçŠ¶æ€è€Œæ˜¯éšç€ä»£ç çš„æ‰§è¡Œåœ¨ä¸åŒçŠ¶æ€ä¹‹é—´åˆ‡æ¢ã€‚Java çº¿ç¨‹çŠ¶æ€å˜è¿å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå›¾æºã€ŠJava å¹¶å‘ç¼–ç¨‹è‰ºæœ¯ã€‹4.1.4 èŠ‚ï¼‰ï¼š</p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/19-1-29/Java%20%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E5%8F%98%E8%BF%81.png" alt="Javaçº¿ç¨‹çŠ¶æ€å˜è¿"></p>
<p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼š</p>
<p>çº¿ç¨‹åˆ›å»ºä¹‹åå®ƒå°†å¤„äº <strong>NEWï¼ˆæ–°å»ºï¼‰</strong> çŠ¶æ€ï¼Œè°ƒç”¨ <code>start()</code> æ–¹æ³•åå¼€å§‹è¿è¡Œï¼Œçº¿ç¨‹è¿™æ—¶å€™å¤„äº <strong>READYï¼ˆå¯è¿è¡Œï¼‰</strong> çŠ¶æ€ã€‚å¯è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹è·å¾—äº† cpu æ—¶é—´ç‰‡ï¼ˆtimesliceï¼‰åå°±å¤„äº <strong>RUNNINGï¼ˆè¿è¡Œï¼‰</strong> çŠ¶æ€ã€‚</p>
<blockquote>
<p>æ“ä½œç³»ç»Ÿéšè— Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸­çš„ READY å’Œ RUNNING çŠ¶æ€ï¼Œå®ƒåªèƒ½çœ‹åˆ° RUNNABLE çŠ¶æ€ï¼ˆå›¾æºï¼š<a href="https://howtodoinjava.com/">HowToDoInJava</a>ï¼š<a href="https://howtodoinjava.com/java/multi-threading/java-thread-life-cycle-and-thread-states/">Java Thread Life Cycle and Thread States</a>ï¼‰ï¼Œæ‰€ä»¥ Java ç³»ç»Ÿä¸€èˆ¬å°†è¿™ä¸¤ä¸ªçŠ¶æ€ç»Ÿç§°ä¸º <strong>RUNNABLEï¼ˆè¿è¡Œä¸­ï¼‰</strong> çŠ¶æ€ ã€‚</p>
</blockquote>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2019-3/RUNNABLE-VS-RUNNING.png" alt="RUNNABLE-VS-RUNNING"></p>
<p>å½“çº¿ç¨‹æ‰§è¡Œ <code>wait()</code>æ–¹æ³•ä¹‹åï¼Œçº¿ç¨‹è¿›å…¥ <strong>WAITINGï¼ˆç­‰å¾…ï¼‰</strong>çŠ¶æ€ã€‚è¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ä¾é å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥æ‰èƒ½å¤Ÿè¿”å›åˆ°è¿è¡ŒçŠ¶æ€ï¼Œè€Œ <strong>TIME_WAITING(è¶…æ—¶ç­‰å¾…)</strong> çŠ¶æ€ç›¸å½“äºåœ¨ç­‰å¾…çŠ¶æ€çš„åŸºç¡€ä¸Šå¢åŠ äº†è¶…æ—¶é™åˆ¶ï¼Œæ¯”å¦‚é€šè¿‡ <code>sleepï¼ˆlong millisï¼‰</code>æ–¹æ³•æˆ– <code>waitï¼ˆlong millisï¼‰</code>æ–¹æ³•å¯ä»¥å°† Java çº¿ç¨‹ç½®äº TIMED WAITING çŠ¶æ€ã€‚å½“è¶…æ—¶æ—¶é—´åˆ°è¾¾å Java çº¿ç¨‹å°†ä¼šè¿”å›åˆ° RUNNABLE çŠ¶æ€ã€‚å½“çº¿ç¨‹è°ƒç”¨åŒæ­¥æ–¹æ³•æ—¶ï¼Œåœ¨æ²¡æœ‰è·å–åˆ°é”çš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹å°†ä¼šè¿›å…¥åˆ° <strong>BLOCKEDï¼ˆé˜»å¡ï¼‰</strong> çŠ¶æ€ã€‚çº¿ç¨‹åœ¨æ‰§è¡Œ Runnable çš„<code>run()</code>æ–¹æ³•ä¹‹åå°†ä¼šè¿›å…¥åˆ° <strong>TERMINATEDï¼ˆç»ˆæ­¢ï¼‰</strong> çŠ¶æ€ã€‚</p>
<h3 id="31-å…³äº-final-å…³é”®å­—çš„ä¸€äº›æ€»ç»“"><a href="#31-å…³äº-final-å…³é”®å­—çš„ä¸€äº›æ€»ç»“" class="headerlink" title="31 å…³äº final å…³é”®å­—çš„ä¸€äº›æ€»ç»“"></a>31 å…³äº final å…³é”®å­—çš„ä¸€äº›æ€»ç»“</h3><p>final å…³é”®å­—ä¸»è¦ç”¨åœ¨ä¸‰ä¸ªåœ°æ–¹ï¼šå˜é‡ã€æ–¹æ³•ã€ç±»ã€‚</p>
<ol>
<li>å¯¹äºä¸€ä¸ª final å˜é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåˆ™å…¶æ•°å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½æ›´æ”¹ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½å†è®©å…¶æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>å½“ç”¨ final ä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚final ç±»ä¸­çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•éƒ½ä¼šè¢«éšå¼åœ°æŒ‡å®šä¸º final æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨ final æ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚åœ¨æ—©æœŸçš„ Java å®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°† final æ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ï¼ˆç°åœ¨çš„ Java ç‰ˆæœ¬å·²ç»ä¸éœ€è¦ä½¿ç”¨ final æ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ï¼‰ã€‚ç±»ä¸­æ‰€æœ‰çš„ private æ–¹æ³•éƒ½éšå¼åœ°æŒ‡å®šä¸º finalã€‚</li>
</ol>
<h3 id="32-Java-ä¸­çš„å¼‚å¸¸å¤„ç†"><a href="#32-Java-ä¸­çš„å¼‚å¸¸å¤„ç†" class="headerlink" title="32 Java ä¸­çš„å¼‚å¸¸å¤„ç†"></a>32 Java ä¸­çš„å¼‚å¸¸å¤„ç†</h3><h4 id="Java-å¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„å›¾"><a href="#Java-å¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„å›¾" class="headerlink" title="Java å¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„å›¾"></a>Java å¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„å›¾</h4><p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2019-2/Exception.png" alt="Javaå¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„å›¾"></p>
<p>åœ¨ Java ä¸­ï¼Œæ‰€æœ‰çš„å¼‚å¸¸éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç¥–å…ˆ java.lang åŒ…ä¸­çš„ <strong>Throwable ç±»</strong>ã€‚Throwableï¼š æœ‰ä¸¤ä¸ªé‡è¦çš„å­ç±»ï¼š<strong>Exceptionï¼ˆå¼‚å¸¸ï¼‰</strong> å’Œ <strong>Errorï¼ˆé”™è¯¯ï¼‰</strong> ï¼ŒäºŒè€…éƒ½æ˜¯ Java å¼‚å¸¸å¤„ç†çš„é‡è¦å­ç±»ï¼Œå„è‡ªéƒ½åŒ…å«å¤§é‡å­ç±»ã€‚</p>
<p><strong>Errorï¼ˆé”™è¯¯ï¼‰:æ˜¯ç¨‹åºæ— æ³•å¤„ç†çš„é”™è¯¯</strong>ï¼Œè¡¨ç¤ºè¿è¡Œåº”ç”¨ç¨‹åºä¸­è¾ƒä¸¥é‡é—®é¢˜ã€‚å¤§å¤šæ•°é”™è¯¯ä¸ä»£ç ç¼–å†™è€…æ‰§è¡Œçš„æ“ä½œæ— å…³ï¼Œè€Œè¡¨ç¤ºä»£ç è¿è¡Œæ—¶ JVMï¼ˆJava è™šæ‹Ÿæœºï¼‰å‡ºç°çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼ŒJava è™šæ‹Ÿæœºè¿è¡Œé”™è¯¯ï¼ˆVirtual MachineErrorï¼‰ï¼Œå½“ JVM ä¸å†æœ‰ç»§ç»­æ‰§è¡Œæ“ä½œæ‰€éœ€çš„å†…å­˜èµ„æºæ—¶ï¼Œå°†å‡ºç° OutOfMemoryErrorã€‚è¿™äº›å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒJava è™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸€èˆ¬ä¼šé€‰æ‹©çº¿ç¨‹ç»ˆæ­¢ã€‚</p>
<p>è¿™äº›é”™è¯¯è¡¨ç¤ºæ•…éšœå‘ç”Ÿäºè™šæ‹Ÿæœºè‡ªèº«ã€æˆ–è€…å‘ç”Ÿåœ¨è™šæ‹Ÿæœºè¯•å›¾æ‰§è¡Œåº”ç”¨æ—¶ï¼Œå¦‚ Java è™šæ‹Ÿæœºè¿è¡Œé”™è¯¯ï¼ˆVirtual MachineErrorï¼‰ã€ç±»å®šä¹‰é”™è¯¯ï¼ˆNoClassDefFoundErrorï¼‰ç­‰ã€‚è¿™äº›é”™è¯¯æ˜¯ä¸å¯æŸ¥çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨åº”ç”¨ç¨‹åºçš„æ§åˆ¶å’Œå¤„ç†èƒ½åŠ›ä¹‹ å¤–ï¼Œè€Œä¸”ç»å¤§å¤šæ•°æ˜¯ç¨‹åºè¿è¡Œæ—¶ä¸å…è®¸å‡ºç°çš„çŠ¶å†µã€‚å¯¹äºè®¾è®¡åˆç†çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå³ä½¿ç¡®å®å‘ç”Ÿäº†é”™è¯¯ï¼Œæœ¬è´¨ä¸Šä¹Ÿä¸åº”è¯¥è¯•å›¾å»å¤„ç†å®ƒæ‰€å¼•èµ·çš„å¼‚å¸¸çŠ¶å†µã€‚åœ¨ Java ä¸­ï¼Œé”™è¯¯é€šè¿‡ Error çš„å­ç±»æè¿°ã€‚</p>
<p><strong>Exceptionï¼ˆå¼‚å¸¸ï¼‰:æ˜¯ç¨‹åºæœ¬èº«å¯ä»¥å¤„ç†çš„å¼‚å¸¸</strong>ã€‚</font>Exception ç±»æœ‰ä¸€ä¸ªé‡è¦çš„å­ç±» <strong>RuntimeException</strong>ã€‚RuntimeException å¼‚å¸¸ç”± Java è™šæ‹ŸæœºæŠ›å‡ºã€‚<strong>NullPointerException</strong>ï¼ˆè¦è®¿é—®çš„å˜é‡æ²¡æœ‰å¼•ç”¨ä»»ä½•å¯¹è±¡æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ï¼‰ã€<strong>ArithmeticException</strong>ï¼ˆç®—æœ¯è¿ç®—å¼‚å¸¸ï¼Œä¸€ä¸ªæ•´æ•°é™¤ä»¥ 0 æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ï¼‰å’Œ <strong>ArrayIndexOutOfBoundsException</strong> ï¼ˆä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼‰ã€‚</p>
<p><strong>æ³¨æ„ï¼šå¼‚å¸¸å’Œé”™è¯¯çš„åŒºåˆ«ï¼šå¼‚å¸¸èƒ½è¢«ç¨‹åºæœ¬èº«å¤„ç†ï¼Œé”™è¯¯æ˜¯æ— æ³•å¤„ç†ã€‚</strong></p>
<h4 id="Throwable-ç±»å¸¸ç”¨æ–¹æ³•"><a href="#Throwable-ç±»å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Throwable ç±»å¸¸ç”¨æ–¹æ³•"></a>Throwable ç±»å¸¸ç”¨æ–¹æ³•</h4><ul>
<li><strong>public string getMessage()</strong>:è¿”å›å¼‚å¸¸å‘ç”Ÿæ—¶çš„ç®€è¦æè¿°</li>
<li><strong>public string toString()</strong>:è¿”å›å¼‚å¸¸å‘ç”Ÿæ—¶çš„è¯¦ç»†ä¿¡æ¯</li>
<li><strong>public string getLocalizedMessage()</strong>:è¿”å›å¼‚å¸¸å¯¹è±¡çš„æœ¬åœ°åŒ–ä¿¡æ¯ã€‚ä½¿ç”¨ Throwable çš„å­ç±»è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç”Ÿæˆæœ¬åœ°åŒ–ä¿¡æ¯ã€‚å¦‚æœå­ç±»æ²¡æœ‰è¦†ç›–è¯¥æ–¹æ³•ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›çš„ä¿¡æ¯ä¸ getMessageï¼ˆï¼‰è¿”å›çš„ç»“æœç›¸åŒ</li>
<li><strong>public void printStackTrace()</strong>:åœ¨æ§åˆ¶å°ä¸Šæ‰“å° Throwable å¯¹è±¡å°è£…çš„å¼‚å¸¸ä¿¡æ¯</li>
</ul>
<h4 id="å¼‚å¸¸å¤„ç†æ€»ç»“"><a href="#å¼‚å¸¸å¤„ç†æ€»ç»“" class="headerlink" title="å¼‚å¸¸å¤„ç†æ€»ç»“"></a>å¼‚å¸¸å¤„ç†æ€»ç»“</h4><ul>
<li><strong>try å—ï¼š</strong> ç”¨äºæ•è·å¼‚å¸¸ã€‚å…¶åå¯æ¥é›¶ä¸ªæˆ–å¤šä¸ª catch å—ï¼Œå¦‚æœæ²¡æœ‰ catch å—ï¼Œåˆ™å¿…é¡»è·Ÿä¸€ä¸ª finally å—ã€‚</li>
<li><strong>catch å—ï¼š</strong> ç”¨äºå¤„ç† try æ•è·åˆ°çš„å¼‚å¸¸ã€‚</li>
<li><strong>finally å—ï¼š</strong> æ— è®ºæ˜¯å¦æ•è·æˆ–å¤„ç†å¼‚å¸¸ï¼Œfinally å—é‡Œçš„è¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚å½“åœ¨ try å—æˆ– catch å—ä¸­é‡åˆ° return<br>è¯­å¥æ—¶ï¼Œfinally è¯­å¥å—å°†åœ¨æ–¹æ³•è¿”å›ä¹‹å‰è¢«æ‰§è¡Œã€‚</li>
</ul>
<p><strong>åœ¨ä»¥ä¸‹ 4 ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œfinally å—ä¸ä¼šè¢«æ‰§è¡Œï¼š</strong></p>
<ol>
<li>åœ¨ finally è¯­å¥å—ç¬¬ä¸€è¡Œå‘ç”Ÿäº†å¼‚å¸¸ã€‚ å› ä¸ºåœ¨å…¶ä»–è¡Œï¼Œfinally å—è¿˜æ˜¯ä¼šå¾—åˆ°æ‰§è¡Œ</li>
<li>åœ¨å‰é¢çš„ä»£ç ä¸­ç”¨äº† System.exit(int)å·²é€€å‡ºç¨‹åºã€‚ exit æ˜¯å¸¦å‚å‡½æ•° ï¼›è‹¥è¯¥è¯­å¥åœ¨å¼‚å¸¸è¯­å¥ä¹‹åï¼Œfinally ä¼šæ‰§è¡Œ</li>
<li>ç¨‹åºæ‰€åœ¨çš„çº¿ç¨‹æ­»äº¡ã€‚</li>
<li>å…³é—­ CPUã€‚</li>
</ol>
<p>ä¸‹é¢è¿™éƒ¨åˆ†å†…å®¹æ¥è‡ª issue:<a href="https://github.com/Snailclimb/JavaGuide/issues/190">https://github.com/Snailclimb/JavaGuide/issues/190</a>ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> å½“ try è¯­å¥å’Œ finally è¯­å¥ä¸­éƒ½æœ‰ return è¯­å¥æ—¶ï¼Œåœ¨æ–¹æ³•è¿”å›ä¹‹å‰ï¼Œfinally è¯­å¥çš„å†…å®¹å°†è¢«æ‰§è¡Œï¼Œå¹¶ä¸” finally è¯­å¥çš„è¿”å›å€¼å°†ä¼šè¦†ç›–åŸå§‹çš„è¿”å›å€¼ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value * value;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè°ƒç”¨ <code>f(2)</code>ï¼Œè¿”å›å€¼å°†æ˜¯ 0ï¼Œå› ä¸º finally è¯­å¥çš„è¿”å›å€¼è¦†ç›–äº† try è¯­å¥å—çš„è¿”å›å€¼ã€‚</p>
<h3 id="33-Java-åºåˆ—åŒ–ä¸­å¦‚æœæœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#33-Java-åºåˆ—åŒ–ä¸­å¦‚æœæœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="33 Java åºåˆ—åŒ–ä¸­å¦‚æœæœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>33 Java åºåˆ—åŒ–ä¸­å¦‚æœæœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ</h3><p>å¯¹äºä¸æƒ³è¿›è¡Œåºåˆ—åŒ–çš„å˜é‡ï¼Œä½¿ç”¨ transient å…³é”®å­—ä¿®é¥°ã€‚</p>
<p>transient å…³é”®å­—çš„ä½œç”¨æ˜¯ï¼šé˜»æ­¢å®ä¾‹ä¸­é‚£äº›ç”¨æ­¤å…³é”®å­—ä¿®é¥°çš„çš„å˜é‡åºåˆ—åŒ–ï¼›å½“å¯¹è±¡è¢«ååºåˆ—åŒ–æ—¶ï¼Œè¢« transient ä¿®é¥°çš„å˜é‡å€¼ä¸ä¼šè¢«æŒä¹…åŒ–å’Œæ¢å¤ã€‚transient åªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸èƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ã€‚</p>
<h3 id="34-è·å–ç”¨é”®ç›˜è¾“å…¥å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•"><a href="#34-è·å–ç”¨é”®ç›˜è¾“å…¥å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•" class="headerlink" title="34 è·å–ç”¨é”®ç›˜è¾“å…¥å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•"></a>34 è·å–ç”¨é”®ç›˜è¾“å…¥å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•</h3><p>æ–¹æ³• 1ï¼šé€šè¿‡ Scanner</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">String s  = input.nextLine();</span><br><span class="line">input.close();</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³• 2ï¼šé€šè¿‡ BufferedReader</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedReader input = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">String s = input.readLine();</span><br></pre></td></tr></table></figure>

<h3 id="35-Java-ä¸­-IO-æµ"><a href="#35-Java-ä¸­-IO-æµ" class="headerlink" title="35 Java ä¸­ IO æµ"></a>35 Java ä¸­ IO æµ</h3><h4 id="Java-ä¸­-IO-æµåˆ†ä¸ºå‡ ç§"><a href="#Java-ä¸­-IO-æµåˆ†ä¸ºå‡ ç§" class="headerlink" title="Java ä¸­ IO æµåˆ†ä¸ºå‡ ç§?"></a>Java ä¸­ IO æµåˆ†ä¸ºå‡ ç§?</h4><ul>
<li>æŒ‰ç…§æµçš„æµå‘åˆ†ï¼Œå¯ä»¥åˆ†ä¸ºè¾“å…¥æµå’Œè¾“å‡ºæµï¼›</li>
<li>æŒ‰ç…§æ“ä½œå•å…ƒåˆ’åˆ†ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµï¼›</li>
<li>æŒ‰ç…§æµçš„è§’è‰²åˆ’åˆ†ä¸ºèŠ‚ç‚¹æµå’Œå¤„ç†æµã€‚</li>
</ul>
<p>Java Io æµå…±æ¶‰åŠ 40 å¤šä¸ªç±»ï¼Œè¿™äº›ç±»çœ‹ä¸Šå»å¾ˆæ‚ä¹±ï¼Œä½†å®é™…ä¸Šå¾ˆæœ‰è§„åˆ™ï¼Œè€Œä¸”å½¼æ­¤ä¹‹é—´å­˜åœ¨éå¸¸ç´§å¯†çš„è”ç³»ï¼Œ Java I0 æµçš„ 40 å¤šä¸ªç±»éƒ½æ˜¯ä»å¦‚ä¸‹ 4 ä¸ªæŠ½è±¡ç±»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºæ¥çš„ã€‚</p>
<ul>
<li>InputStream/Reader: æ‰€æœ‰çš„è¾“å…¥æµçš„åŸºç±»ï¼Œå‰è€…æ˜¯å­—èŠ‚è¾“å…¥æµï¼Œåè€…æ˜¯å­—ç¬¦è¾“å…¥æµã€‚</li>
<li>OutputStream/Writer: æ‰€æœ‰è¾“å‡ºæµçš„åŸºç±»ï¼Œå‰è€…æ˜¯å­—èŠ‚è¾“å‡ºæµï¼Œåè€…æ˜¯å­—ç¬¦è¾“å‡ºæµã€‚</li>
</ul>
<p>æŒ‰æ“ä½œæ–¹å¼åˆ†ç±»ç»“æ„å›¾ï¼š</p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2019-6/IO-%E6%93%8D%E4%BD%9C%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB.png" alt="IO-æ“ä½œæ–¹å¼åˆ†ç±»"></p>
<p>æŒ‰æ“ä½œå¯¹è±¡åˆ†ç±»ç»“æ„å›¾ï¼š</p>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2019-6/IO-%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1%E5%88%86%E7%B1%BB.png" alt="IO-æ“ä½œå¯¹è±¡åˆ†ç±»"></p>
<h4 id="æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ-ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ"><a href="#æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ-ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ" class="headerlink" title="æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ,ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ?"></a>æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ,ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ?</h4><p>é—®é¢˜æœ¬è´¨æƒ³é—®ï¼š<strong>ä¸ç®¡æ˜¯æ–‡ä»¶è¯»å†™è¿˜æ˜¯ç½‘ç»œå‘é€æ¥æ”¶ï¼Œä¿¡æ¯çš„æœ€å°å­˜å‚¨å•å…ƒéƒ½æ˜¯å­—èŠ‚ï¼Œé‚£ä¸ºä»€ä¹ˆ I/O æµæ“ä½œè¦åˆ†ä¸ºå­—èŠ‚æµæ“ä½œå’Œå­—ç¬¦æµæ“ä½œå‘¢ï¼Ÿ</strong></p>
<p>å›ç­”ï¼šå­—ç¬¦æµæ˜¯ç”± Java è™šæ‹Ÿæœºå°†å­—èŠ‚è½¬æ¢å¾—åˆ°çš„ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™ä¸ªè¿‡ç¨‹è¿˜ç®—æ˜¯éå¸¸è€—æ—¶ï¼Œå¹¶ä¸”ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“ç¼–ç ç±»å‹å°±å¾ˆå®¹æ˜“å‡ºç°ä¹±ç é—®é¢˜ã€‚æ‰€ä»¥ï¼Œ I/O æµå°±å¹²è„†æä¾›äº†ä¸€ä¸ªç›´æ¥æ“ä½œå­—ç¬¦çš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¹³æ—¶å¯¹å­—ç¬¦è¿›è¡Œæµæ“ä½œã€‚å¦‚æœéŸ³é¢‘æ–‡ä»¶ã€å›¾ç‰‡ç­‰åª’ä½“æ–‡ä»¶ç”¨å­—èŠ‚æµæ¯”è¾ƒå¥½ï¼Œå¦‚æœæ¶‰åŠåˆ°å­—ç¬¦çš„è¯ä½¿ç”¨å­—ç¬¦æµæ¯”è¾ƒå¥½ã€‚</p>
<h4 id="BIO-NIO-AIO-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#BIO-NIO-AIO-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«?"></a>BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«?</h4><ul>
<li><strong>BIO (Blocking I/O):</strong> åŒæ­¥é˜»å¡ I/O æ¨¡å¼ï¼Œæ•°æ®çš„è¯»å–å†™å…¥å¿…é¡»é˜»å¡åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ç­‰å¾…å…¶å®Œæˆã€‚åœ¨æ´»åŠ¨è¿æ¥æ•°ä¸æ˜¯ç‰¹åˆ«é«˜ï¼ˆå°äºå•æœº 1000ï¼‰çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ¨¡å‹æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå¯ä»¥è®©æ¯ä¸€ä¸ªè¿æ¥ä¸“æ³¨äºè‡ªå·±çš„ I/O å¹¶ä¸”ç¼–ç¨‹æ¨¡å‹ç®€å•ï¼Œä¹Ÿä¸ç”¨è¿‡å¤šè€ƒè™‘ç³»ç»Ÿçš„è¿‡è½½ã€é™æµç­‰é—®é¢˜ã€‚çº¿ç¨‹æ± æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤©ç„¶çš„æ¼æ–—ï¼Œå¯ä»¥ç¼“å†²ä¸€äº›ç³»ç»Ÿå¤„ç†ä¸äº†çš„è¿æ¥æˆ–è¯·æ±‚ã€‚ä½†æ˜¯ï¼Œå½“é¢å¯¹åä¸‡ç”šè‡³ç™¾ä¸‡çº§è¿æ¥çš„æ—¶å€™ï¼Œä¼ ç»Ÿçš„ BIO æ¨¡å‹æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´é«˜æ•ˆçš„ I/O å¤„ç†æ¨¡å‹æ¥åº”å¯¹æ›´é«˜çš„å¹¶å‘é‡ã€‚</li>
<li><strong>NIO (Non-blocking/New I/O):</strong> NIO æ˜¯ä¸€ç§åŒæ­¥éé˜»å¡çš„ I/O æ¨¡å‹ï¼Œåœ¨ Java 1.4 ä¸­å¼•å…¥äº† NIO æ¡†æ¶ï¼Œå¯¹åº” java.nio åŒ…ï¼Œæä¾›äº† Channel , Selectorï¼ŒBuffer ç­‰æŠ½è±¡ã€‚NIO ä¸­çš„ N å¯ä»¥ç†è§£ä¸º Non-blockingï¼Œä¸å•çº¯æ˜¯ Newã€‚å®ƒæ”¯æŒé¢å‘ç¼“å†²çš„ï¼ŒåŸºäºé€šé“çš„ I/O æ“ä½œæ–¹æ³•ã€‚ NIO æä¾›äº†ä¸ä¼ ç»Ÿ BIO æ¨¡å‹ä¸­çš„ <code>Socket</code> å’Œ <code>ServerSocket</code> ç›¸å¯¹åº”çš„ <code>SocketChannel</code> å’Œ <code>ServerSocketChannel</code> ä¸¤ç§ä¸åŒçš„å¥—æ¥å­—é€šé“å®ç°,ä¸¤ç§é€šé“éƒ½æ”¯æŒé˜»å¡å’Œéé˜»å¡ä¸¤ç§æ¨¡å¼ã€‚é˜»å¡æ¨¡å¼ä½¿ç”¨å°±åƒä¼ ç»Ÿä¸­çš„æ”¯æŒä¸€æ ·ï¼Œæ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æ€§èƒ½å’Œå¯é æ€§éƒ½ä¸å¥½ï¼›éé˜»å¡æ¨¡å¼æ­£å¥½ä¸ä¹‹ç›¸åã€‚å¯¹äºä½è´Ÿè½½ã€ä½å¹¶å‘çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥é˜»å¡ I/O æ¥æå‡å¼€å‘é€Ÿç‡å’Œæ›´å¥½çš„ç»´æŠ¤æ€§ï¼›å¯¹äºé«˜è´Ÿè½½ã€é«˜å¹¶å‘çš„ï¼ˆç½‘ç»œï¼‰åº”ç”¨ï¼Œåº”ä½¿ç”¨ NIO çš„éé˜»å¡æ¨¡å¼æ¥å¼€å‘</li>
<li><strong>AIO (Asynchronous I/O):</strong> AIO ä¹Ÿå°±æ˜¯ NIO 2ã€‚åœ¨ Java 7 ä¸­å¼•å…¥äº† NIO çš„æ”¹è¿›ç‰ˆ NIO 2,å®ƒæ˜¯å¼‚æ­¥éé˜»å¡çš„ IO æ¨¡å‹ã€‚å¼‚æ­¥ IO æ˜¯åŸºäºäº‹ä»¶å’Œå›è°ƒæœºåˆ¶å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨æ“ä½œä¹‹åä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œï¼Œå½“åå°å¤„ç†å®Œæˆï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ç›¸åº”çš„çº¿ç¨‹è¿›è¡Œåç»­çš„æ“ä½œã€‚AIO æ˜¯å¼‚æ­¥ IO çš„ç¼©å†™ï¼Œè™½ç„¶ NIO åœ¨ç½‘ç»œæ“ä½œä¸­ï¼Œæä¾›äº†éé˜»å¡çš„æ–¹æ³•ï¼Œä½†æ˜¯ NIO çš„ IO è¡Œä¸ºè¿˜æ˜¯åŒæ­¥çš„ã€‚å¯¹äº NIO æ¥è¯´ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡çº¿ç¨‹æ˜¯åœ¨ IO æ“ä½œå‡†å¤‡å¥½æ—¶ï¼Œå¾—åˆ°é€šçŸ¥ï¼Œæ¥ç€å°±ç”±è¿™ä¸ªçº¿ç¨‹è‡ªè¡Œè¿›è¡Œ IO æ“ä½œï¼ŒIO æ“ä½œæœ¬èº«æ˜¯åŒæ­¥çš„ã€‚æŸ¥é˜…ç½‘ä¸Šç›¸å…³èµ„æ–™ï¼Œæˆ‘å‘ç°å°±ç›®å‰æ¥è¯´ AIO çš„åº”ç”¨è¿˜ä¸æ˜¯å¾ˆå¹¿æ³›ï¼ŒNetty ä¹‹å‰ä¹Ÿå°è¯•ä½¿ç”¨è¿‡ AIOï¼Œä¸è¿‡åˆæ”¾å¼ƒäº†ã€‚</li>
</ul>
<h3 id="36-å¸¸è§å…³é”®å­—æ€»ç»“-static-final-this-super"><a href="#36-å¸¸è§å…³é”®å­—æ€»ç»“-static-final-this-super" class="headerlink" title="36. å¸¸è§å…³é”®å­—æ€»ç»“:static,final,this,super"></a>36. å¸¸è§å…³é”®å­—æ€»ç»“:static,final,this,super</h3><p>è¯¦è§ç¬”ä¸»çš„è¿™ç¯‡æ–‡ç« :  <a href="https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/basic/final,static,this,super.md">https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/basic/final,static,this,super.md</a></p>
<h3 id="37-Collections-å·¥å…·ç±»å’Œ-Arrays-å·¥å…·ç±»å¸¸è§æ–¹æ³•æ€»ç»“"><a href="#37-Collections-å·¥å…·ç±»å’Œ-Arrays-å·¥å…·ç±»å¸¸è§æ–¹æ³•æ€»ç»“" class="headerlink" title="37. Collections å·¥å…·ç±»å’Œ Arrays å·¥å…·ç±»å¸¸è§æ–¹æ³•æ€»ç»“"></a>37. Collections å·¥å…·ç±»å’Œ Arrays å·¥å…·ç±»å¸¸è§æ–¹æ³•æ€»ç»“</h3><p>è¯¦è§ç¬”ä¸»çš„è¿™ç¯‡æ–‡ç« :  <a href="https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/basic/Arrays,CollectionsCommonMethods.md">https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/basic/Arrays,CollectionsCommonMethods.md</a></p>
<h3 id="38-æ·±æ‹·è´-vs-æµ…æ‹·è´"><a href="#38-æ·±æ‹·è´-vs-æµ…æ‹·è´" class="headerlink" title="38. æ·±æ‹·è´ vs æµ…æ‹·è´"></a>38. æ·±æ‹·è´ vs æµ…æ‹·è´</h3><ol>
<li><strong>æµ…æ‹·è´</strong>ï¼šå¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œå€¼ä¼ é€’ï¼Œå¯¹å¼•ç”¨æ•°æ®ç±»å‹è¿›è¡Œå¼•ç”¨ä¼ é€’èˆ¬çš„æ‹·è´ï¼Œæ­¤ä¸ºæµ…æ‹·è´ã€‚</li>
<li><strong>æ·±æ‹·è´</strong>ï¼šå¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œå€¼ä¼ é€’ï¼Œå¯¹å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å¤åˆ¶å…¶å†…å®¹ï¼Œæ­¤ä¸ºæ·±æ‹·è´ã€‚</li>
</ol>
<p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2019-7/java-deep-and-shallow-copy.jpg" alt="deep and shallow copy"></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre">https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre</a></li>
<li><a href="https://www.educba.com/oracle-vs-openjdk/">https://www.educba.com/oracle-vs-openjdk/</a></li>
<li><a href="https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk?answertab=active#tab-top">https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk?answertab=active#tab-top</a></li>
</ul>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>basics</tag>
      </tags>
  </entry>
</search>
